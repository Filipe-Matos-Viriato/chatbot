- Updated `chatHistoryTaggingRules` in `e6f484a3-c3cb-4e01-b8ce-a276f4b7355c.json` to use Portuguese keywords and expanded the word lists.
- Updated `documentExtraction` patterns to match JSON listing format with fields like `fracao`, `preco`, `tipologia`, `area_privativa_m2`, etc.
- Updated `ingestionPipeline` to use `json-structure-chunker` with a template that properly formats apartment information from JSON structure.
- Added new extraction fields: `listingPrice`, `listingType`, `listingFloor`, `listingBlock`, `privateArea`, `totalArea`, `terraceArea`, `garageSpaces`.
- Added `defaultDevelopmentId` to client config to prevent context leakage.
- Updated `rag-service.js` to use `defaultDevelopmentId` in hybrid search.
- Changed the placeholder text in `packages/widget/src/App.jsx` to "Escreva aqui...".
- Fixed issue with chatbot recommending listings that don't belong to upinvestments by adding explicit client filtering to RAG context.
- Enhanced system prompt to emphasize that only upinvestments properties should be recommended.
- Fixed user preferences recall by improving the onboarding-service.js formatOnboardingAnswersForRAG method to include additional preferences.
- Implemented client-specific Pinecone indexes for better data isolation and performance:
  - Added `pineconeIndex` field to client configuration
  - Updated `rag-service.js` to use client-specific indexes
  - Updated `chat-history-service.js` to use client-specific indexes
  - Updated `ingestion-service.js` to use client-specific indexes
  - Created migration script to transfer data to client-specific indexes
  - Added documentation for setting up client-specific indexes
- Added console logs to the migration script to debug Pinecone queries and upserts.
- Added detailed console logs to the RAG service to debug the vector search process.
- Created a script to delete vectors by `client_id` from a Pinecone index to resolve data leakage.
- Deleted the unsafe `ingest-test-data.js` script to prevent future data contamination.
- Implemented a new filter conversion function (`convertOnboardingToFilters`) to correctly use onboarding answers in Pinecone searches.
- Refined the RAG service to apply more specific filters, improving search accuracy and efficiency.
- Created a new script to ingest the Up Investments knowledge base into Pinecone.
- Corrected the OpenAI API key and attempted to rerun the ingestion script.
- Added explicit dotenv loading in `src/config/supabase.js` to support standalone scripts.
- Successfully ingested the Up Investments knowledge base into the `rachatbot-1536` index via `scripts/up_investments-ingest-test-data.js`, processing text and JSON files and upserting embeddings.
- Created new focused ingestion script `ingest-up-investments-knowledge-base.js` that only processes files from the Up Investments knowledge-base directory, preventing ImoPrime test-data contamination.
- Deleted the old `up_investments-ingest-test-data.js` script and replaced it with the cleaner, more focused version.
