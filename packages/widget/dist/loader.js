/*! For license information please see loader.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ViriatoChatbot=t():e.ViriatoChatbot=t()}(this,()=>(()=>{"use strict";var e={51:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},128:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},591:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var c=e[s],l=r.base?c[0]+r.base:c[0],u=i[l]||0,p="".concat(l," ").concat(u);i[l]=u+1;var f=n(p),d={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==f)t[f].references++,t[f].updater(d);else{var _=o(d,r);r.byIndex=s,t.splice(s,0,{identifier:p,updater:_,references:1})}a.push(p)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var c=r(e,o),l=0;l<i.length;l++){var u=n(i[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=c}}},598:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(758),o=n.n(r),i=n(935),a=n.n(i)()(o());a.push([e.id,"/* Widget animations and responsive styles */\n@keyframes pulse {\n  0%, 100% {\n    opacity: 0.4;\n    transform: scale(0.8);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n\n@keyframes slideUp {\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Widget container responsive adjustments */\n.widget-container {\n  animation: fadeIn 0.3s ease-out;\n}\n\n.widget-chat-window {\n  animation: slideUp 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);\n}\n\n.widget-message {\n  animation: slideUp 0.2s ease-out;\n}\n\n/* Custom scrollbar for messages */\n.widget-messages::-webkit-scrollbar {\n  width: 6px;\n}\n\n.widget-messages::-webkit-scrollbar-track {\n  background: #f1f5f9;\n  border-radius: 3px;\n}\n\n.widget-messages::-webkit-scrollbar-thumb {\n  background: #cbd5e1;\n  border-radius: 3px;\n}\n\n.widget-messages::-webkit-scrollbar-thumb:hover {\n  background: #94a3b8;\n}\n\n/* Focus styles for accessibility */\n.widget-input:focus {\n  border-color: var(--primary-color, #3b82f6);\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n\n.widget-button:focus {\n  outline: 2px solid var(--primary-color, #3b82f6);\n  outline-offset: 2px;\n}\n\n/* High contrast mode support */\n@media (prefers-contrast: high) {\n  .widget-message-bot {\n    border: 2px solid #000;\n  }\n  \n  .widget-message-user {\n    border: 2px solid #fff;\n  }\n}\n\n/* Reduced motion support */\n@media (prefers-reduced-motion: reduce) {\n  * {\n    animation-duration: 0.01ms !important;\n    animation-iteration-count: 1 !important;\n    transition-duration: 0.01ms !important;\n  }\n}\n\n/* Mobile-specific adjustments */\n@media (max-width: 768px) {\n  .widget-chat-window {\n    border-radius: 0 !important;\n    box-shadow: none !important;\n  }\n  \n  .widget-input {\n    font-size: 16px !important; /* Prevent zoom on iOS */\n  }\n} ",""]);const s=a},656:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},740:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},758:e=>{e.exports=function(e){return e[1]}},855:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},935:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;var r,o,i,a,s,c,l,u,p,f,d,_={},h=[],g=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,b=Array.isArray;function y(e,t){for(var n in t)e[n]=t[n];return e}function m(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function v(e,t,n){var o,i,a,s={};for(a in t)"key"==a?o=t[a]:"ref"==a?i=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===s[a]&&(s[a]=e.defaultProps[a]);return x(e,s,o,i,null)}function x(e,t,n,r,a){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==a?++i:a,__i:-1,__u:0};return null==a&&null!=o.vnode&&o.vnode(s),s}function w(e){return e.children}function k(e,t){this.props=e,this.context=t}function S(e,t){if(null==t)return e.__?S(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?S(e):null}function C(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return C(e)}}function O(e){(!e.__d&&(e.__d=!0)&&a.push(e)&&!j.__r++||s!=o.debounceRendering)&&((s=o.debounceRendering)||c)(j)}function j(){for(var e,t,n,r,i,s,c,u=1;a.length;)a.length>u&&a.sort(l),e=a.shift(),u=a.length,e.__d&&(n=void 0,i=(r=(t=e).__v).__e,s=[],c=[],t.__P&&((n=y({},r)).__v=r.__v+1,o.vnode&&o.vnode(n),D(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[i]:null,s,null==i?S(r):i,!!(32&r.__u),c),n.__v=r.__v,n.__.__k[n.__i]=n,M(s,n,c),n.__e!=i&&C(n)));j.__r=0}function P(e,t,n,r,o,i,a,s,c,l,u){var p,f,d,g,b,y,m=r&&r.__k||h,v=t.length;for(c=T(n,t,m,c,v),p=0;p<v;p++)null!=(d=n.__k[p])&&(f=-1==d.__i?_:m[d.__i]||_,d.__i=p,y=D(e,d,f,o,i,a,s,c,l,u),g=d.__e,d.ref&&f.ref!=d.ref&&(f.ref&&F(f.ref,null,d),u.push(d.ref,d.__c||g,d)),null==b&&null!=g&&(b=g),4&d.__u||f.__k===d.__k?c=E(d,c,e):"function"==typeof d.type&&void 0!==y?c=y:g&&(c=g.nextSibling),d.__u&=-7);return n.__e=b,c}function T(e,t,n,r,o){var i,a,s,c,l,u=n.length,p=u,f=0;for(e.__k=new Array(o),i=0;i<o;i++)null!=(a=t[i])&&"boolean"!=typeof a&&"function"!=typeof a?(c=i+f,(a=e.__k[i]="string"==typeof a||"number"==typeof a||"bigint"==typeof a||a.constructor==String?x(null,a,null,null,null):b(a)?x(w,{children:a},null,null,null):null==a.constructor&&a.__b>0?x(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=e,a.__b=e.__b+1,s=null,-1!=(l=a.__i=I(a,n,c,p))&&(p--,(s=n[l])&&(s.__u|=2)),null==s||null==s.__v?(-1==l&&(o>u?f--:o<u&&f++),"function"!=typeof a.type&&(a.__u|=4)):l!=c&&(l==c-1?f--:l==c+1?f++:(l>c?f--:f++,a.__u|=4))):e.__k[i]=null;if(p)for(i=0;i<u;i++)null!=(s=n[i])&&!(2&s.__u)&&(s.__e==r&&(r=S(s)),W(s,s));return r}function E(e,t,n){var r,o;if("function"==typeof e.type){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=E(r[o],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=S(e)),n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8==t.nodeType);return t}function I(e,t,n,r){var o,i,a=e.key,s=e.type,c=t[n];if(null===c&&null==e.key||c&&a==c.key&&s==c.type&&!(2&c.__u))return n;if(r>(null==c||2&c.__u?0:1))for(o=n-1,i=n+1;o>=0||i<t.length;){if(o>=0){if((c=t[o])&&!(2&c.__u)&&a==c.key&&s==c.type)return o;o--}if(i<t.length){if((c=t[i])&&!(2&c.__u)&&a==c.key&&s==c.type)return i;i++}}return-1}function R(e,t,n){"-"==t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||g.test(t)?n:n+"px"}function A(e,t,n,r,o){var i,a;e:if("style"==t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||R(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||R(e.style,t,n[t])}else if("o"==t[0]&&"n"==t[1])i=t!=(t=t.replace(u,"$1")),a=t.toLowerCase(),t=a in e||"onFocusOut"==t||"onFocusIn"==t?a.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=p,e.addEventListener(t,i?d:f,i)):e.removeEventListener(t,i?d:f,i);else{if("http://www.w3.org/2000/svg"==o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function L(e){return function(t){if(this.l){var n=this.l[t.type+e];if(null==t.t)t.t=p++;else if(t.t<n.u)return;return n(o.event?o.event(t):t)}}}function D(e,t,n,r,i,a,s,c,l,u){var p,f,d,_,h,g,v,x,S,C,O,j,T,E,I,R,A,L=t.type;if(null!=t.constructor)return null;128&n.__u&&(l=!!(32&n.__u),a=[c=t.__e=n.__e]),(p=o.__b)&&p(t);e:if("function"==typeof L)try{if(x=t.props,S="prototype"in L&&L.prototype.render,C=(p=L.contextType)&&r[p.__c],O=p?C?C.props.value:p.__:r,n.__c?v=(f=t.__c=n.__c).__=f.__E:(S?t.__c=f=new L(x,O):(t.__c=f=new k(x,O),f.constructor=L,f.render=N),C&&C.sub(f),f.props=x,f.state||(f.state={}),f.context=O,f.__n=r,d=f.__d=!0,f.__h=[],f._sb=[]),S&&null==f.__s&&(f.__s=f.state),S&&null!=L.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=y({},f.__s)),y(f.__s,L.getDerivedStateFromProps(x,f.__s))),_=f.props,h=f.state,f.__v=t,d)S&&null==L.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),S&&null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(S&&null==L.getDerivedStateFromProps&&x!==_&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(x,O),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(x,f.__s,O)||t.__v==n.__v){for(t.__v!=n.__v&&(f.props=x,f.state=f.__s,f.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(e){e&&(e.__=t)}),j=0;j<f._sb.length;j++)f.__h.push(f._sb[j]);f._sb=[],f.__h.length&&s.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(x,f.__s,O),S&&null!=f.componentDidUpdate&&f.__h.push(function(){f.componentDidUpdate(_,h,g)})}if(f.context=O,f.props=x,f.__P=e,f.__e=!1,T=o.__r,E=0,S){for(f.state=f.__s,f.__d=!1,T&&T(t),p=f.render(f.props,f.state,f.context),I=0;I<f._sb.length;I++)f.__h.push(f._sb[I]);f._sb=[]}else do{f.__d=!1,T&&T(t),p=f.render(f.props,f.state,f.context),f.state=f.__s}while(f.__d&&++E<25);f.state=f.__s,null!=f.getChildContext&&(r=y(y({},r),f.getChildContext())),S&&!d&&null!=f.getSnapshotBeforeUpdate&&(g=f.getSnapshotBeforeUpdate(_,h)),R=p,null!=p&&p.type===w&&null==p.key&&(R=U(p.props.children)),c=P(e,b(R)?R:[R],t,n,r,i,a,s,c,l,u),f.base=t.__e,t.__u&=-161,f.__h.length&&s.push(f),v&&(f.__E=f.__=null)}catch(e){if(t.__v=null,l||null!=a)if(e.then){for(t.__u|=l?160:128;c&&8==c.nodeType&&c.nextSibling;)c=c.nextSibling;a[a.indexOf(c)]=null,t.__e=c}else for(A=a.length;A--;)m(a[A]);else t.__e=n.__e,t.__k=n.__k;o.__e(e,t,n)}else null==a&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):c=t.__e=z(n.__e,t,n,r,i,a,s,l,u);return(p=o.diffed)&&p(t),128&t.__u?void 0:c}function M(e,t,n){for(var r=0;r<n.length;r++)F(n[r],n[++r],n[++r]);o.__c&&o.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){o.__e(e,t.__v)}})}function U(e){return"object"!=typeof e||null==e||e.__b&&e.__b>0?e:b(e)?e.map(U):y({},e)}function z(e,t,n,i,a,s,c,l,u){var p,f,d,h,g,y,v,x=n.props,w=t.props,k=t.type;if("svg"==k?a="http://www.w3.org/2000/svg":"math"==k?a="http://www.w3.org/1998/Math/MathML":a||(a="http://www.w3.org/1999/xhtml"),null!=s)for(p=0;p<s.length;p++)if((g=s[p])&&"setAttribute"in g==!!k&&(k?g.localName==k:3==g.nodeType)){e=g,s[p]=null;break}if(null==e){if(null==k)return document.createTextNode(w);e=document.createElementNS(a,k,w.is&&w),l&&(o.__m&&o.__m(t,s),l=!1),s=null}if(null==k)x===w||l&&e.data==w||(e.data=w);else{if(s=s&&r.call(e.childNodes),x=n.props||_,!l&&null!=s)for(x={},p=0;p<e.attributes.length;p++)x[(g=e.attributes[p]).name]=g.value;for(p in x)if(g=x[p],"children"==p);else if("dangerouslySetInnerHTML"==p)d=g;else if(!(p in w)){if("value"==p&&"defaultValue"in w||"checked"==p&&"defaultChecked"in w)continue;A(e,p,null,g,a)}for(p in w)g=w[p],"children"==p?h=g:"dangerouslySetInnerHTML"==p?f=g:"value"==p?y=g:"checked"==p?v=g:l&&"function"!=typeof g||x[p]===g||A(e,p,g,x[p],a);if(f)l||d&&(f.__html==d.__html||f.__html==e.innerHTML)||(e.innerHTML=f.__html),t.__k=[];else if(d&&(e.innerHTML=""),P("template"==t.type?e.content:e,b(h)?h:[h],t,n,i,"foreignObject"==k?"http://www.w3.org/1999/xhtml":a,s,c,s?s[0]:n.__k&&S(n,0),l,u),null!=s)for(p=s.length;p--;)m(s[p]);l||(p="value","progress"==k&&null==y?e.removeAttribute("value"):null!=y&&(y!==e[p]||"progress"==k&&!y||"option"==k&&y!=x[p])&&A(e,p,y,x[p],a),p="checked",null!=v&&v!=e[p]&&A(e,p,v,x[p],a))}return e}function F(e,t,n){try{if("function"==typeof e){var r="function"==typeof e.__u;r&&e.__u(),r&&null==t||(e.__u=e(t))}else e.current=t}catch(e){o.__e(e,n)}}function W(e,t,n){var r,i;if(o.unmount&&o.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||F(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){o.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&W(r[i],t,n||"function"!=typeof e.type);n||m(e.__e),e.__c=e.__=e.__e=void 0}function N(e,t,n){return this.constructor(e,n)}function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach(function(t){re(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||K(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||K(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){if(e){if("string"==typeof e)return Z(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Y(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return q(l,"_invoke",function(n,r,o){var i,s,c,l=0,u=o||[],p=!1,f={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,s=0,c=e,f.n=n,a}};function d(n,r){for(s=n,c=r,t=0;!p&&l&&!o&&t<u.length;t++){var o,i=u[t],d=f.p,_=i[2];n>3?(o=_===r)&&(c=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(s=0,f.v=r,f.n=i[1]):d<_&&(o=n<3||i[0]>r||r>_)&&(i[4]=n,i[5]=r,f.n=_,s=0))}if(o||n>1)return a;throw p=!0,r}return function(o,u,_){if(l>1)throw TypeError("Generator is already running");for(p&&1===u&&d(u,_),s=u,c=_;(t=s<2?e:c)||!p;){i||(s?s<3?(s>1&&(f.n=-1),d(s,c)):f.n=c:f.v=c);try{if(l=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(p=f.n<0)?c:n.call(r,f))!==a)break}catch(t){i=e,s=1,c=t}finally{l=1}}return{value:t,done:p}}}(n,o,i),!0),l}var a={};function s(){}function c(){}function l(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(q(t={},r,function(){return this}),t),p=l.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,q(e,o,"GeneratorFunction")),e.prototype=Object.create(p),e}return c.prototype=l,q(p,"constructor",l),q(l,"constructor",c),c.displayName="GeneratorFunction",q(l,o,"GeneratorFunction"),q(p),q(p,o,"Generator"),q(p,r,function(){return this}),q(p,"toString",function(){return"[object Generator]"}),(Y=function(){return{w:i,m:f}})()}function q(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}q=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){q(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},q(e,t,n,r)}function J(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function X(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){J(i,r,o,a,s,"next",e)}function s(e){J(i,r,o,a,s,"throw",e)}a(void 0)})}}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oe(r.key),r)}}function ee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ee=function(){return!!e})()}function te(e){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},te(e)}function ne(e,t){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ne(e,t)}function re(e,t,n){return(t=oe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(e){var t=function(e){if("object"!=H(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=H(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==H(t)?t:t+""}r=h.slice,o={__e:function(e,t,n,r){for(var o,i,a;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&null!=i.getDerivedStateFromError&&(o.setState(i.getDerivedStateFromError(e)),a=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(e,r||{}),a=o.__d),a)return o.__E=o}catch(t){e=t}throw e}},i=0,k.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=y({},this.state),"function"==typeof e&&(e=e(y({},n),this.props)),e&&y(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),O(this))},k.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),O(this))},k.prototype.render=w,a=[],c="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,l=function(e,t){return e.__v.__b-t.__v.__b},j.__r=0,u=/(PointerCapture)$|Capture$/i,p=0,f=L(!1),d=L(!0);var ie=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),re(n=function(e,t,n){return t=te(t),function(e,t){if(t&&("object"==H(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ee()?Reflect.construct(t,n||[],te(e).constructor):t.apply(e,n))}(this,t,[e]),"setupAccessibility",function(){document.addEventListener("keydown",n.handleGlobalKeyDown)}),re(n,"handleGlobalKeyDown",function(e){"Escape"===e.key&&n.state.isOpen&&n.toggleChat()}),re(n,"handleResize",function(){n.forceUpdate()}),re(n,"loadConfig",X(Y().m(function e(){var t,r,o,i,a,s,c,l;return Y().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!n.state.isLoadingConfig&&!n.state.config){e.n=1;break}return e.a(2);case 1:return n.setState({isLoadingConfig:!0}),e.p=2,r=n.props.config||{},o=r.clientId,i=void 0===o?"default":o,a=r.apiUrl,e.n=3,fetch("".concat(a,"/api/v1/widget/config/").concat(i));case 3:if((s=e.v).ok){e.n=4;break}throw new Error("Failed to load configuration");case 4:return e.n=5,s.json();case 5:c=e.v,n.setState({config:c,isLoadingConfig:!1,messages:[{id:Date.now(),text:(null===(t=c.widgetSettings)||void 0===t?void 0:t.welcomeMessage)||"Hello! How can I help you?",sender:"bot",timestamp:new Date,ariaLabel:"Welcome message from chatbot"}]}),e.n=7;break;case 6:e.p=6,l=e.v,console.error("Widget config error:",l),n.setState({error:"Failed to load chatbot configuration",isLoadingConfig:!1});case 7:return e.a(2)}},e,null,[[2,6]])}))),re(n,"toggleChat",function(){n.setState(function(e){return{isOpen:!e.isOpen}},function(){n.state.isOpen&&n.inputRef&&setTimeout(function(){return n.inputRef.focus()},100),n.announceToScreenReader(n.state.isOpen?"Chat window opened":"Chat window closed")})}),re(n,"announceToScreenReader",function(e){var t=document.createElement("div");t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true"),t.style.position="absolute",t.style.left="-10000px",t.style.width="1px",t.style.height="1px",t.style.overflow="hidden",t.textContent=e,document.body.appendChild(t),setTimeout(function(){return document.body.removeChild(t)},1e3)}),re(n,"sendMessage",X(Y().m(function e(){var t,r,o,i,a,s,c,l,u,p,f,d,_;return Y().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=n.state,r=t.inputValue,o=t.messages,t.config,i=n.props.config||{},a=i.apiUrl,r.trim()){e.n=1;break}return e.a(2);case 1:return console.log("🔧 Widget Debug Info:"),console.log("📡 API URL:",a),console.log("⚙️ Props config:",n.props.config),console.log("🎯 Target endpoint:","".concat(a,"/api/chat")),s={id:Date.now(),text:r,sender:"user",timestamp:new Date,ariaLabel:"You said: ".concat(r)},n.setState({messages:[].concat(G(o),[s]),inputValue:"",isTyping:!0}),n.announceToScreenReader("Message sent"),e.p=2,e.n=3,fetch("".concat(a,"/api/chat"),{method:"POST",headers:{"Content-Type":"application/json","X-Client-Id":(null===(c=n.props.config)||void 0===c?void 0:c.clientId)||"default"},body:JSON.stringify({message:r,query:r,context:o.slice(-5),clientId:(null===(l=n.props.config)||void 0===l?void 0:l.clientId)||"default"})});case 3:if((u=e.v).ok){e.n=4;break}throw new Error("HTTP ".concat(u.status,": ").concat(u.statusText));case 4:return e.n=5,u.json();case 5:p=e.v,f={id:Date.now()+1,text:p.response||"Sorry, I encountered an error.",sender:"bot",timestamp:new Date,ariaLabel:"Chatbot responded: ".concat(p.response||"Sorry, I encountered an error.")},n.setState(function(e){return{messages:[].concat(G(e.messages),[f]),isTyping:!1}}),n.announceToScreenReader("New message received"),e.n=7;break;case 6:e.p=6,_=e.v,console.error("❌ Chat API Error:",_),console.error("🌐 Failed URL:","".concat(a,"/api/chat")),d={id:Date.now()+1,text:"Sorry, I'm having trouble responding right now. Please try again.",sender:"bot",timestamp:new Date,ariaLabel:"Error message from chatbot"},n.setState(function(e){return{messages:[].concat(G(e.messages),[d]),isTyping:!1}}),n.announceToScreenReader("Error occurred while sending message");case 7:return e.a(2)}},e,null,[[2,6]])}))),re(n,"handleKeyPress",function(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),n.sendMessage())}),re(n,"getResponsiveStyles",function(){var e=window.innerWidth<=768,t=(window.innerWidth,n.state.config),r=(null==t?void 0:t.widgetSettings)||{},o="dark"===r.theme,i=r.backgroundColor||(o?"#1f2937":"#ffffff"),a=r.textColor||(o?"#f9fafb":"#1e293b"),s=o?"#374151":"#f1f5f9",c=o?"#4b5563":"#e2e8f0",l=V((r.position||"bottom-right").split("-"),2),u=l[0],p=l[1];return{chatWindow:$($({position:"fixed"},{bottom:"bottom"===u?e?"0":"20px":"auto",top:"top"===u?e?"0":"20px":"auto",right:"right"===p?e?"0":"20px":"auto",left:"left"===p?e?"0":"20px":"auto"}),{},{width:e?"100%":"400px",height:e&&r.mobileFullScreen?"100vh":e?"90vh":r.maxHeight||"600px",maxHeight:e?"100vh":"85vh",background:i,color:a,borderRadius:e?"0":r.borderRadius||"16px",boxShadow:e?"none":o?"0 20px 40px rgba(0,0,0,0.4), 0 5px 10px rgba(0,0,0,0.2)":"0 20px 40px rgba(0,0,0,0.15), 0 5px 10px rgba(0,0,0,0.1)",display:"flex",flexDirection:"column",overflow:"hidden",zIndex:"999999",fontFamily:r.fontFamily||"inherit",fontSize:r.fontSize||"14px",transition:"all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1)"}),chatButton:{width:e?"56px":"64px",height:e?"56px":"64px",borderRadius:"50%",border:"none",cursor:"pointer",fontSize:e?"20px":"24px",boxShadow:o?"0 6px 20px rgba(0,0,0,0.4), 0 2px 4px rgba(0,0,0,0.2)":"0 6px 20px rgba(0,0,0,0.15), 0 2px 4px rgba(0,0,0,0.1)",transition:"all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1)",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},messagesContainer:{flex:"1",overflowY:"auto",padding:e?"12px":"20px",display:"flex",flexDirection:"column",gap:e?"8px":"12px",scrollBehavior:"smooth",background:i},inputContainer:{padding:e?"12px":"20px",borderTop:"1px solid ".concat(c),display:"flex",gap:e?"8px":"12px",alignItems:"flex-end",background:i},input:{flex:"1",padding:e?"12px 16px":"14px 18px",border:"1px solid ".concat(c),borderRadius:e?"24px":"28px",outline:"none",fontSize:e?"16px":r.fontSize||"14px",resize:"none",fontFamily:"inherit",minHeight:e?"40px":"44px",maxHeight:"120px",transition:"border-color 0.2s ease",background:o?"#374151":"#f8fafc",color:a},sendButton:{padding:e?"12px 16px":"14px 20px",border:"none",borderRadius:e?"24px":"28px",cursor:"pointer",fontSize:e?"14px":"16px",fontWeight:"600",minWidth:e?"60px":"80px",height:e?"40px":"44px",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center"},messageBot:{background:s,color:a,borderRadius:"20px 20px 20px 6px"},messageUser:{borderRadius:"20px 20px 6px 20px"}}}),n.state={isOpen:!1,messages:[],inputValue:"",isTyping:!1,config:null,error:null,isLoadingConfig:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ne(e,t)}(t,e),function(e,t){return t&&Q(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"componentDidMount",value:function(){this.loadConfig(),this.handleResize(),window.addEventListener("resize",this.handleResize),this.setupAccessibility()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"render",value:function(){var e,t=this,n=this.state,r=n.isOpen,o=n.messages,i=n.inputValue,a=n.isTyping,s=n.config,c=n.error;if(c)return v("div",{style:"color: #ef4444; padding: 12px; font-size: 14px; background: white; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15);"},c);if(!s)return v("div",{style:"padding: 12px; font-size: 14px; background: white; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15);"},"Loading...");var l=s.widgetSettings||{},u="dark"===l.theme,p=l.primaryColor||"#3b82f6",f=l.textColor||(u?"#f9fafb":"#1e293b"),d=u?"#374151":"#f1f5f9",_=l.chatIcon||"💬",h=this.getResponsiveStyles(),g=window.innerWidth<=768;return v(w,null,v("button",{onClick:this.toggleChat,style:"\n          ".concat(Object.entries(h.chatButton).map(function(e){var t=V(e,2),n=t[0],r=t[1];return"".concat(n.replace(/([A-Z])/g,"-$1").toLowerCase(),": ").concat(r)}).join("; "),";\n          background: ").concat(p,";\n          color: white;\n        "),onMouseOver:function(e){return e.target.style.transform="scale(1.05)"},onMouseOut:function(e){return e.target.style.transform="scale(1)"},"aria-label":"Open chat","aria-expanded":r},_),r&&v("div",{style:Object.entries(h.chatWindow).map(function(e){var t=V(e,2),n=t[0],r=t[1];return"".concat(n.replace(/([A-Z])/g,"-$1").toLowerCase(),": ").concat(r)}).join("; "),role:"dialog","aria-label":"Chat window"},[v("div",{style:"\n            background: ".concat(p,";\n            color: white;\n            padding: ").concat(g?"16px":"20px",";\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            min-height: ").concat(g?"60px":"64px",";\n          ")},[v("div",{style:"display: flex; align-items: center; gap: 12px;"},[v("div",{style:"\n                width: ".concat(g?"32px":"36px",";\n                height: ").concat(g?"32px":"36px",";\n                background: rgba(255,255,255,0.2);\n                border-radius: 50%;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                font-size: ").concat(g?"16px":"18px",";\n              ")},_),v("h3",{style:"margin: 0; font-size: ".concat(g?"16px":"18px","; font-weight: 600;")},(null===(e=s.widgetSettings)||void 0===e?void 0:e.headerText)||"Chat with us!")]),v("button",{onClick:this.toggleChat,style:"\n              background: none;\n              border: none;\n              color: white;\n              font-size: ".concat(g?"24px":"28px",";\n              cursor: pointer;\n              padding: 8px;\n              border-radius: 50%;\n              width: ").concat(g?"40px":"44px",";\n              height: ").concat(g?"40px":"44px",";\n              display: flex;\n              align-items: center;\n              justify-content: center;\n              transition: background-color 0.2s ease;\n            "),onMouseOver:function(e){return e.target.style.backgroundColor="rgba(255,255,255,0.1)"},onMouseOut:function(e){return e.target.style.backgroundColor="transparent"},"aria-label":"Close chat"},"×")]),v("div",{id:"chat-instructions",style:"position: absolute; left: -10000px; width: 1px; height: 1px; overflow: hidden;"},"Press Enter to send message, Escape to close chat"),v("div",{style:Object.entries(h.messagesContainer).map(function(e){var t=V(e,2),n=t[0],r=t[1];return"".concat(n.replace(/([A-Z])/g,"-$1").toLowerCase(),": ").concat(r)}).join("; "),ref:function(e){e&&(e.scrollTop=e.scrollHeight)},role:"log","aria-live":"polite","aria-label":"Chat messages",className:"widget-messages"},[].concat(G(o.map(function(e){return v("div",{key:e.id,style:"\n                  align-self: ".concat("user"===e.sender?"flex-end":"flex-start",";\n                  background: ").concat("user"===e.sender?p:d,";\n                  color: ").concat("user"===e.sender?"white":f,";\n                  padding: ").concat(g?"10px 14px":"12px 16px",";\n                                  border-radius: ").concat("user"===e.sender?h.messageUser.borderRadius:h.messageBot.borderRadius,";\n                  max-width: 85%;\n                  word-wrap: break-word;\n                  font-size: ").concat(g?"14px":"15px",";\n                  line-height: 1.4;\n                  box-shadow: 0 1px 2px rgba(0,0,0,0.1);\n                "),role:"article","aria-label":e.ariaLabel||"".concat("user"===e.sender?"Your message":"Bot message",": ").concat(e.text),className:"widget-message widget-message-".concat(e.sender)},e.text)})),[a&&v("div",{style:"\n              align-self: flex-start;\n              background: ".concat(d,";\n              color: ").concat(f,";\n              padding: ").concat(g?"10px 14px":"12px 16px",";\n                             border-radius: ").concat(h.messageBot.borderRadius,";\n              font-style: italic;\n              font-size: ").concat(g?"14px":"15px",";\n              display: flex;\n              align-items: center;\n              gap: 8px;\n            ")},[v("span",null,"Typing"),v("div",{style:"\n                display: flex;\n                gap: 2px;\n              "},[v("div",{style:"width: 4px; height: 4px; background: #64748b; border-radius: 50%; animation: pulse 1.5s ease-in-out infinite;"}),v("div",{style:"width: 4px; height: 4px; background: #64748b; border-radius: 50%; animation: pulse 1.5s ease-in-out 0.1s infinite;"}),v("div",{style:"width: 4px; height: 4px; background: #64748b; border-radius: 50%; animation: pulse 1.5s ease-in-out 0.2s infinite;"})])])])),v("div",{style:Object.entries(h.inputContainer).map(function(e){var t=V(e,2),n=t[0],r=t[1];return"".concat(n.replace(/([A-Z])/g,"-$1").toLowerCase(),": ").concat(r)}).join("; ")},[v("textarea",{value:i,onInput:function(e){return t.setState({inputValue:e.target.value})},onKeyPress:this.handleKeyPress,placeholder:"Type your message...",style:Object.entries(h.input).map(function(e){var t=V(e,2),n=t[0],r=t[1];return"".concat(n.replace(/([A-Z])/g,"-$1").toLowerCase(),": ").concat(r)}).join("; "),rows:1,"aria-label":"Type your message here","aria-describedby":"chat-instructions",ref:function(e){t.inputRef=e},className:"widget-input"}),v("button",{onClick:this.sendMessage,disabled:!i.trim(),style:"\n                ".concat(Object.entries(h.sendButton).map(function(e){var t=V(e,2),n=t[0],r=t[1];return"".concat(n.replace(/([A-Z])/g,"-$1").toLowerCase(),": ").concat(r)}).join("; "),";\n                background: ").concat(i.trim()?p:"#94a3b8",";\n                color: white;\n                opacity: ").concat(i.trim()?"1":"0.7",";\n              "),"aria-label":"Send message","aria-disabled":!i.trim(),className:"widget-button widget-send-button"},g?"→":"Send")])]))}}])}(k);const ae=ie;var se=n(591),ce=n.n(se),le=n(740),ue=n.n(le),pe=n(128),fe=n.n(pe),de=n(855),_e=n.n(de),he=n(51),ge=n.n(he),be=n(656),ye=n.n(be),me=n(598),ve={};return ve.styleTagTransform=ye(),ve.setAttributes=_e(),ve.insert=fe().bind(null,"head"),ve.domAPI=ue(),ve.insertStyleElement=ge(),ce()(me.A,ve),me.A&&me.A.locals&&me.A.locals,window.initViriatoChatbot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=document.getElementById("viriato-chatbot-container");t||((t=document.createElement("div")).id="viriato-chatbot-container",t.className="widget-container",t.style.cssText="\n      position: fixed;\n      bottom: 20px;\n      right: 20px;\n      z-index: 999999;\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;\n    ",e.theme&&(e.theme.primaryColor&&t.style.setProperty("--primary-color",e.theme.primaryColor),e.theme.fontFamily&&(t.style.fontFamily=e.theme.fontFamily)),document.body.appendChild(t)),function(e,t,n){var i,a,s,c;t==document&&(t=document.documentElement),o.__&&o.__(e,t),a=(i="function"==typeof n)?null:n&&n.__k||t.__k,s=[],c=[],D(t,e=(!i&&n||t).__k=v(w,null,[e]),a||_,_,t.namespaceURI,!i&&n?[n]:a?null:t.firstChild?r.call(t.childNodes):null,s,!i&&n?n:a?a.__e:t.firstChild,i,c),M(s,e,c)}(v(ae,{config:e}),t)},document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector('script[src*="loader.js"]');if(e&&"false"!==e.dataset.autoInit){var t={clientId:e.dataset.clientId||"default",apiUrl:e.dataset.apiUrl||"https://chatbot1-eta.vercel.app",theme:{primaryColor:e.dataset.primaryColor,fontFamily:e.dataset.fontFamily}};window.initViriatoChatbot(t)}}),{}})());