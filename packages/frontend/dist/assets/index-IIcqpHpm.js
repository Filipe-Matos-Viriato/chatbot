(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function sd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Ix(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var lu={exports:{}},gi={},cu={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function Mx(){if(Pp)return ye;Pp=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function x(R){return R===null||typeof R!="object"?null:(R=v&&R[v]||R["@@iterator"],typeof R=="function"?R:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,k={};function b(R,U,le){this.props=R,this.context=U,this.refs=k,this.updater=le||w}b.prototype.isReactComponent={},b.prototype.setState=function(R,U){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,U,"setState")},b.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function E(){}E.prototype=b.prototype;function O(R,U,le){this.props=R,this.context=U,this.refs=k,this.updater=le||w}var T=O.prototype=new E;T.constructor=O,S(T,b.prototype),T.isPureReactComponent=!0;var I=Array.isArray,L=Object.prototype.hasOwnProperty,$={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function Y(R,U,le){var ce,V={},re=null,Se=null;if(U!=null)for(ce in U.ref!==void 0&&(Se=U.ref),U.key!==void 0&&(re=""+U.key),U)L.call(U,ce)&&!W.hasOwnProperty(ce)&&(V[ce]=U[ce]);var Ce=arguments.length-2;if(Ce===1)V.children=le;else if(1<Ce){for(var Ie=Array(Ce),Et=0;Et<Ce;Et++)Ie[Et]=arguments[Et+2];V.children=Ie}if(R&&R.defaultProps)for(ce in Ce=R.defaultProps,Ce)V[ce]===void 0&&(V[ce]=Ce[ce]);return{$$typeof:n,type:R,key:re,ref:Se,props:V,_owner:$.current}}function ee(R,U){return{$$typeof:n,type:R.type,key:U,ref:R.ref,props:R.props,_owner:R._owner}}function se(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function he(R){var U={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(le){return U[le]})}var de=/\/+/g;function xe(R,U){return typeof R=="object"&&R!==null&&R.key!=null?he(""+R.key):U.toString(36)}function ke(R,U,le,ce,V){var re=typeof R;(re==="undefined"||re==="boolean")&&(R=null);var Se=!1;if(R===null)Se=!0;else switch(re){case"string":case"number":Se=!0;break;case"object":switch(R.$$typeof){case n:case e:Se=!0}}if(Se)return Se=R,V=V(Se),R=ce===""?"."+xe(Se,0):ce,I(V)?(le="",R!=null&&(le=R.replace(de,"$&/")+"/"),ke(V,U,le,"",function(Et){return Et})):V!=null&&(se(V)&&(V=ee(V,le+(!V.key||Se&&Se.key===V.key?"":(""+V.key).replace(de,"$&/")+"/")+R)),U.push(V)),1;if(Se=0,ce=ce===""?".":ce+":",I(R))for(var Ce=0;Ce<R.length;Ce++){re=R[Ce];var Ie=ce+xe(re,Ce);Se+=ke(re,U,le,Ie,V)}else if(Ie=x(R),typeof Ie=="function")for(R=Ie.call(R),Ce=0;!(re=R.next()).done;)re=re.value,Ie=ce+xe(re,Ce++),Se+=ke(re,U,le,Ie,V);else if(re==="object")throw U=String(R),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return Se}function pe(R,U,le){if(R==null)return R;var ce=[],V=0;return ke(R,ce,"","",function(re){return U.call(le,re,V++)}),ce}function fe(R){if(R._status===-1){var U=R._result;U=U(),U.then(function(le){(R._status===0||R._status===-1)&&(R._status=1,R._result=le)},function(le){(R._status===0||R._status===-1)&&(R._status=2,R._result=le)}),R._status===-1&&(R._status=0,R._result=U)}if(R._status===1)return R._result.default;throw R._result}var ae={current:null},K={transition:null},Q={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:K,ReactCurrentOwner:$};function J(){throw Error("act(...) is not supported in production builds of React.")}return ye.Children={map:pe,forEach:function(R,U,le){pe(R,function(){U.apply(this,arguments)},le)},count:function(R){var U=0;return pe(R,function(){U++}),U},toArray:function(R){return pe(R,function(U){return U})||[]},only:function(R){if(!se(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},ye.Component=b,ye.Fragment=t,ye.Profiler=i,ye.PureComponent=O,ye.StrictMode=r,ye.Suspense=d,ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,ye.act=J,ye.cloneElement=function(R,U,le){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var ce=S({},R.props),V=R.key,re=R.ref,Se=R._owner;if(U!=null){if(U.ref!==void 0&&(re=U.ref,Se=$.current),U.key!==void 0&&(V=""+U.key),R.type&&R.type.defaultProps)var Ce=R.type.defaultProps;for(Ie in U)L.call(U,Ie)&&!W.hasOwnProperty(Ie)&&(ce[Ie]=U[Ie]===void 0&&Ce!==void 0?Ce[Ie]:U[Ie])}var Ie=arguments.length-2;if(Ie===1)ce.children=le;else if(1<Ie){Ce=Array(Ie);for(var Et=0;Et<Ie;Et++)Ce[Et]=arguments[Et+2];ce.children=Ce}return{$$typeof:n,type:R.type,key:V,ref:re,props:ce,_owner:Se}},ye.createContext=function(R){return R={$$typeof:l,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:a,_context:R},R.Consumer=R},ye.createElement=Y,ye.createFactory=function(R){var U=Y.bind(null,R);return U.type=R,U},ye.createRef=function(){return{current:null}},ye.forwardRef=function(R){return{$$typeof:u,render:R}},ye.isValidElement=se,ye.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:fe}},ye.memo=function(R,U){return{$$typeof:f,type:R,compare:U===void 0?null:U}},ye.startTransition=function(R){var U=K.transition;K.transition={};try{R()}finally{K.transition=U}},ye.unstable_act=J,ye.useCallback=function(R,U){return ae.current.useCallback(R,U)},ye.useContext=function(R){return ae.current.useContext(R)},ye.useDebugValue=function(){},ye.useDeferredValue=function(R){return ae.current.useDeferredValue(R)},ye.useEffect=function(R,U){return ae.current.useEffect(R,U)},ye.useId=function(){return ae.current.useId()},ye.useImperativeHandle=function(R,U,le){return ae.current.useImperativeHandle(R,U,le)},ye.useInsertionEffect=function(R,U){return ae.current.useInsertionEffect(R,U)},ye.useLayoutEffect=function(R,U){return ae.current.useLayoutEffect(R,U)},ye.useMemo=function(R,U){return ae.current.useMemo(R,U)},ye.useReducer=function(R,U,le){return ae.current.useReducer(R,U,le)},ye.useRef=function(R){return ae.current.useRef(R)},ye.useState=function(R){return ae.current.useState(R)},ye.useSyncExternalStore=function(R,U,le){return ae.current.useSyncExternalStore(R,U,le)},ye.useTransition=function(){return ae.current.useTransition()},ye.version="18.3.1",ye}var Tp;function id(){return Tp||(Tp=1,cu.exports=Mx()),cu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function Fx(){if(Np)return gi;Np=1;var n=id(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var p,v={},x=null,w=null;f!==void 0&&(x=""+f),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(w=d.ref);for(p in d)r.call(d,p)&&!a.hasOwnProperty(p)&&(v[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)v[p]===void 0&&(v[p]=d[p]);return{$$typeof:e,type:u,key:x,ref:w,props:v,_owner:i.current}}return gi.Fragment=t,gi.jsx=l,gi.jsxs=l,gi}var Rp;function $x(){return Rp||(Rp=1,lu.exports=Fx()),lu.exports}var m=$x(),P=id();const dn=sd(P);var ha={},uu={exports:{}},xt={},du={exports:{}},hu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function Ux(){return Op||(Op=1,function(n){function e(K,Q){var J=K.length;K.push(Q);e:for(;0<J;){var R=J-1>>>1,U=K[R];if(0<i(U,Q))K[R]=Q,K[J]=U,J=R;else break e}}function t(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var Q=K[0],J=K.pop();if(J!==Q){K[0]=J;e:for(var R=0,U=K.length,le=U>>>1;R<le;){var ce=2*(R+1)-1,V=K[ce],re=ce+1,Se=K[re];if(0>i(V,J))re<U&&0>i(Se,V)?(K[R]=Se,K[re]=J,R=re):(K[R]=V,K[ce]=J,R=ce);else if(re<U&&0>i(Se,J))K[R]=Se,K[re]=J,R=re;else break e}}return Q}function i(K,Q){var J=K.sortIndex-Q.sortIndex;return J!==0?J:K.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,v=null,x=3,w=!1,S=!1,k=!1,b=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(K){for(var Q=t(f);Q!==null;){if(Q.callback===null)r(f);else if(Q.startTime<=K)r(f),Q.sortIndex=Q.expirationTime,e(d,Q);else break;Q=t(f)}}function I(K){if(k=!1,T(K),!S)if(t(d)!==null)S=!0,fe(L);else{var Q=t(f);Q!==null&&ae(I,Q.startTime-K)}}function L(K,Q){S=!1,k&&(k=!1,E(Y),Y=-1),w=!0;var J=x;try{for(T(Q),v=t(d);v!==null&&(!(v.expirationTime>Q)||K&&!he());){var R=v.callback;if(typeof R=="function"){v.callback=null,x=v.priorityLevel;var U=R(v.expirationTime<=Q);Q=n.unstable_now(),typeof U=="function"?v.callback=U:v===t(d)&&r(d),T(Q)}else r(d);v=t(d)}if(v!==null)var le=!0;else{var ce=t(f);ce!==null&&ae(I,ce.startTime-Q),le=!1}return le}finally{v=null,x=J,w=!1}}var $=!1,W=null,Y=-1,ee=5,se=-1;function he(){return!(n.unstable_now()-se<ee)}function de(){if(W!==null){var K=n.unstable_now();se=K;var Q=!0;try{Q=W(!0,K)}finally{Q?xe():($=!1,W=null)}}else $=!1}var xe;if(typeof O=="function")xe=function(){O(de)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,pe=ke.port2;ke.port1.onmessage=de,xe=function(){pe.postMessage(null)}}else xe=function(){b(de,0)};function fe(K){W=K,$||($=!0,xe())}function ae(K,Q){Y=b(function(){K(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_continueExecution=function(){S||w||(S=!0,fe(L))},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(K){switch(x){case 1:case 2:case 3:var Q=3;break;default:Q=x}var J=x;x=Q;try{return K()}finally{x=J}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(K,Q){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var J=x;x=K;try{return Q()}finally{x=J}},n.unstable_scheduleCallback=function(K,Q,J){var R=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?R+J:R):J=R,K){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=J+U,K={id:p++,callback:Q,priorityLevel:K,startTime:J,expirationTime:U,sortIndex:-1},J>R?(K.sortIndex=J,e(f,K),t(d)===null&&K===t(f)&&(k?(E(Y),Y=-1):k=!0,ae(I,J-R))):(K.sortIndex=U,e(d,K),S||w||(S=!0,fe(L))),K},n.unstable_shouldYield=he,n.unstable_wrapCallback=function(K){var Q=x;return function(){var J=x;x=Q;try{return K.apply(this,arguments)}finally{x=J}}}}(hu)),hu}var Ap;function zx(){return Ap||(Ap=1,du.exports=Ux()),du.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function Bx(){if(Lp)return xt;Lp=1;var n=id(),e=zx();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},v={};function x(s){return d.call(v,s)?!0:d.call(p,s)?!1:f.test(s)?v[s]=!0:(p[s]=!0,!1)}function w(s,o,c,h){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,o,c,h){if(o===null||typeof o>"u"||w(s,o,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function k(s,o,c,h,g,y,_){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=o,this.sanitizeURL=y,this.removeEmptyString=_}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new k(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];b[o]=new k(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new k(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new k(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new k(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new k(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new k(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new k(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new k(s,5,!1,s.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function O(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(E,O);b[o]=new k(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(E,O);b[o]=new k(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(E,O);b[o]=new k(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new k(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new k(s,1,!1,s.toLowerCase(),null,!0,!0)});function T(s,o,c,h){var g=b.hasOwnProperty(o)?b[o]:null;(g!==null?g.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(S(o,c,g,h)&&(c=null),h||g===null?x(o)&&(c===null?s.removeAttribute(o):s.setAttribute(o,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(o=g.attributeName,h=g.attributeNamespace,c===null?s.removeAttribute(o):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,h?s.setAttributeNS(h,o,c):s.setAttribute(o,c))))}var I=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),$=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),he=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),K=Symbol.iterator;function Q(s){return s===null||typeof s!="object"?null:(s=K&&s[K]||s["@@iterator"],typeof s=="function"?s:null)}var J=Object.assign,R;function U(s){if(R===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);R=o&&o[1]||""}return`
`+R+s}var le=!1;function ce(s,o){if(!s||le)return"";le=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(M){var h=M}Reflect.construct(s,[],o)}else{try{o.call()}catch(M){h=M}s.call(o.prototype)}else{try{throw Error()}catch(M){h=M}s()}}catch(M){if(M&&h&&typeof M.stack=="string"){for(var g=M.stack.split(`
`),y=h.stack.split(`
`),_=g.length-1,C=y.length-1;1<=_&&0<=C&&g[_]!==y[C];)C--;for(;1<=_&&0<=C;_--,C--)if(g[_]!==y[C]){if(_!==1||C!==1)do if(_--,C--,0>C||g[_]!==y[C]){var j=`
`+g[_].replace(" at new "," at ");return s.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",s.displayName)),j}while(1<=_&&0<=C);break}}}finally{le=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?U(s):""}function V(s){switch(s.tag){case 5:return U(s.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return s=ce(s.type,!1),s;case 11:return s=ce(s.type.render,!1),s;case 1:return s=ce(s.type,!0),s;default:return""}}function re(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case W:return"Fragment";case $:return"Portal";case ee:return"Profiler";case Y:return"StrictMode";case xe:return"Suspense";case ke:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case he:return(s.displayName||"Context")+".Consumer";case se:return(s._context.displayName||"Context")+".Provider";case de:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case pe:return o=s.displayName||null,o!==null?o:re(s.type)||"Memo";case fe:o=s._payload,s=s._init;try{return re(s(o))}catch{}}return null}function Se(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(o);case 8:return o===Y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ce(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ie(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Et(s){var o=Ie(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,y=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(_){h=""+_,y.call(this,_)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(_){h=""+_},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function to(s){s._valueTracker||(s._valueTracker=Et(s))}function Ad(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return s&&(h=Ie(s)?s.checked?"true":"false":s.value),s=h,s!==c?(o.setValue(s),!0):!1}function no(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function gl(s,o){var c=o.checked;return J({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Ld(s,o){var c=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;c=Ce(o.value!=null?o.value:c),s._wrapperState={initialChecked:h,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Dd(s,o){o=o.checked,o!=null&&T(s,"checked",o,!1)}function ml(s,o){Dd(s,o);var c=Ce(o.value),h=o.type;if(c!=null)h==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?yl(s,o.type,c):o.hasOwnProperty("defaultValue")&&yl(s,o.type,Ce(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Id(s,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,c||o===s.value||(s.value=o),s.defaultValue=o}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function yl(s,o,c){(o!=="number"||no(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var Ns=Array.isArray;function Dr(s,o,c,h){if(s=s.options,o){o={};for(var g=0;g<c.length;g++)o["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=o.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&h&&(s[c].defaultSelected=!0)}else{for(c=""+Ce(c),o=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function vl(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return J({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Md(s,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(t(92));if(Ns(c)){if(1<c.length)throw Error(t(93));c=c[0]}o=c}o==null&&(o=""),c=o}s._wrapperState={initialValue:Ce(c)}}function Fd(s,o){var c=Ce(o.value),h=Ce(o.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),o.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),h!=null&&(s.defaultValue=""+h)}function $d(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Ud(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xl(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Ud(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ro,zd=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,h,g){MSApp.execUnsafeLocalFunction(function(){return s(o,c,h,g)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(ro=ro||document.createElement("div"),ro.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ro.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function Rs(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var Os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},U0=["Webkit","ms","Moz","O"];Object.keys(Os).forEach(function(s){U0.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Os[o]=Os[s]})});function Bd(s,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||Os.hasOwnProperty(s)&&Os[s]?(""+o).trim():o+"px"}function Hd(s,o){s=s.style;for(var c in o)if(o.hasOwnProperty(c)){var h=c.indexOf("--")===0,g=Bd(c,o[c],h);c==="float"&&(c="cssFloat"),h?s.setProperty(c,g):s[c]=g}}var z0=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wl(s,o){if(o){if(z0[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function _l(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bl=null;function Sl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var kl=null,Ir=null,Mr=null;function Wd(s){if(s=ei(s)){if(typeof kl!="function")throw Error(t(280));var o=s.stateNode;o&&(o=jo(o),kl(s.stateNode,s.type,o))}}function Vd(s){Ir?Mr?Mr.push(s):Mr=[s]:Ir=s}function qd(){if(Ir){var s=Ir,o=Mr;if(Mr=Ir=null,Wd(s),o)for(s=0;s<o.length;s++)Wd(o[s])}}function Kd(s,o){return s(o)}function Jd(){}var Cl=!1;function Yd(s,o,c){if(Cl)return s(o,c);Cl=!0;try{return Kd(s,o,c)}finally{Cl=!1,(Ir!==null||Mr!==null)&&(Jd(),qd())}}function As(s,o){var c=s.stateNode;if(c===null)return null;var h=jo(c);if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,o,typeof c));return c}var El=!1;if(u)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){El=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{El=!1}function B0(s,o,c,h,g,y,_,C,j){var M=Array.prototype.slice.call(arguments,3);try{o.apply(c,M)}catch(B){this.onError(B)}}var Ds=!1,so=null,io=!1,jl=null,H0={onError:function(s){Ds=!0,so=s}};function W0(s,o,c,h,g,y,_,C,j){Ds=!1,so=null,B0.apply(H0,arguments)}function V0(s,o,c,h,g,y,_,C,j){if(W0.apply(this,arguments),Ds){if(Ds){var M=so;Ds=!1,so=null}else throw Error(t(198));io||(io=!0,jl=M)}}function or(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function Qd(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Gd(s){if(or(s)!==s)throw Error(t(188))}function q0(s){var o=s.alternate;if(!o){if(o=or(s),o===null)throw Error(t(188));return o!==s?null:s}for(var c=s,h=o;;){var g=c.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===c)return Gd(g),s;if(y===h)return Gd(g),o;y=y.sibling}throw Error(t(188))}if(c.return!==h.return)c=g,h=y;else{for(var _=!1,C=g.child;C;){if(C===c){_=!0,c=g,h=y;break}if(C===h){_=!0,h=g,c=y;break}C=C.sibling}if(!_){for(C=y.child;C;){if(C===c){_=!0,c=y,h=g;break}if(C===h){_=!0,h=y,c=g;break}C=C.sibling}if(!_)throw Error(t(189))}}if(c.alternate!==h)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:o}function Xd(s){return s=q0(s),s!==null?Zd(s):null}function Zd(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Zd(s);if(o!==null)return o;s=s.sibling}return null}var eh=e.unstable_scheduleCallback,th=e.unstable_cancelCallback,K0=e.unstable_shouldYield,J0=e.unstable_requestPaint,Be=e.unstable_now,Y0=e.unstable_getCurrentPriorityLevel,Pl=e.unstable_ImmediatePriority,nh=e.unstable_UserBlockingPriority,oo=e.unstable_NormalPriority,Q0=e.unstable_LowPriority,rh=e.unstable_IdlePriority,ao=null,Zt=null;function G0(s){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(ao,s,void 0,(s.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:ev,X0=Math.log,Z0=Math.LN2;function ev(s){return s>>>=0,s===0?32:31-(X0(s)/Z0|0)|0}var lo=64,co=4194304;function Is(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function uo(s,o){var c=s.pendingLanes;if(c===0)return 0;var h=0,g=s.suspendedLanes,y=s.pingedLanes,_=c&268435455;if(_!==0){var C=_&~g;C!==0?h=Is(C):(y&=_,y!==0&&(h=Is(y)))}else _=c&~g,_!==0?h=Is(_):y!==0&&(h=Is(y));if(h===0)return 0;if(o!==0&&o!==h&&(o&g)===0&&(g=h&-h,y=o&-o,g>=y||g===16&&(y&4194240)!==0))return o;if((h&4)!==0&&(h|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)c=31-Ut(o),g=1<<c,h|=s[c],o&=~g;return h}function tv(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nv(s,o){for(var c=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,y=s.pendingLanes;0<y;){var _=31-Ut(y),C=1<<_,j=g[_];j===-1?((C&c)===0||(C&h)!==0)&&(g[_]=tv(C,o)):j<=o&&(s.expiredLanes|=C),y&=~C}}function Tl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function sh(){var s=lo;return lo<<=1,(lo&4194240)===0&&(lo=64),s}function Nl(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Ms(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Ut(o),s[o]=c}function rv(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-Ut(c),y=1<<g;o[g]=0,h[g]=-1,s[g]=-1,c&=~y}}function Rl(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var h=31-Ut(c),g=1<<h;g&o|s[h]&o&&(s[h]|=o),c&=~g}}var Ee=0;function ih(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var oh,Ol,ah,lh,ch,Al=!1,ho=[],Rn=null,On=null,An=null,Fs=new Map,$s=new Map,Ln=[],sv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uh(s,o){switch(s){case"focusin":case"focusout":Rn=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":Fs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":$s.delete(o.pointerId)}}function Us(s,o,c,h,g,y){return s===null||s.nativeEvent!==y?(s={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},o!==null&&(o=ei(o),o!==null&&Ol(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function iv(s,o,c,h,g){switch(o){case"focusin":return Rn=Us(Rn,s,o,c,h,g),!0;case"dragenter":return On=Us(On,s,o,c,h,g),!0;case"mouseover":return An=Us(An,s,o,c,h,g),!0;case"pointerover":var y=g.pointerId;return Fs.set(y,Us(Fs.get(y)||null,s,o,c,h,g)),!0;case"gotpointercapture":return y=g.pointerId,$s.set(y,Us($s.get(y)||null,s,o,c,h,g)),!0}return!1}function dh(s){var o=ar(s.target);if(o!==null){var c=or(o);if(c!==null){if(o=c.tag,o===13){if(o=Qd(c),o!==null){s.blockedOn=o,ch(s.priority,function(){ah(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function fo(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=Dl(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);bl=h,c.target.dispatchEvent(h),bl=null}else return o=ei(c),o!==null&&Ol(o),s.blockedOn=c,!1;o.shift()}return!0}function hh(s,o,c){fo(s)&&c.delete(o)}function ov(){Al=!1,Rn!==null&&fo(Rn)&&(Rn=null),On!==null&&fo(On)&&(On=null),An!==null&&fo(An)&&(An=null),Fs.forEach(hh),$s.forEach(hh)}function zs(s,o){s.blockedOn===o&&(s.blockedOn=null,Al||(Al=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ov)))}function Bs(s){function o(g){return zs(g,s)}if(0<ho.length){zs(ho[0],s);for(var c=1;c<ho.length;c++){var h=ho[c];h.blockedOn===s&&(h.blockedOn=null)}}for(Rn!==null&&zs(Rn,s),On!==null&&zs(On,s),An!==null&&zs(An,s),Fs.forEach(o),$s.forEach(o),c=0;c<Ln.length;c++)h=Ln[c],h.blockedOn===s&&(h.blockedOn=null);for(;0<Ln.length&&(c=Ln[0],c.blockedOn===null);)dh(c),c.blockedOn===null&&Ln.shift()}var Fr=I.ReactCurrentBatchConfig,po=!0;function av(s,o,c,h){var g=Ee,y=Fr.transition;Fr.transition=null;try{Ee=1,Ll(s,o,c,h)}finally{Ee=g,Fr.transition=y}}function lv(s,o,c,h){var g=Ee,y=Fr.transition;Fr.transition=null;try{Ee=4,Ll(s,o,c,h)}finally{Ee=g,Fr.transition=y}}function Ll(s,o,c,h){if(po){var g=Dl(s,o,c,h);if(g===null)Xl(s,o,h,go,c),uh(s,h);else if(iv(g,s,o,c,h))h.stopPropagation();else if(uh(s,h),o&4&&-1<sv.indexOf(s)){for(;g!==null;){var y=ei(g);if(y!==null&&oh(y),y=Dl(s,o,c,h),y===null&&Xl(s,o,h,go,c),y===g)break;g=y}g!==null&&h.stopPropagation()}else Xl(s,o,h,null,c)}}var go=null;function Dl(s,o,c,h){if(go=null,s=Sl(h),s=ar(s),s!==null)if(o=or(s),o===null)s=null;else if(c=o.tag,c===13){if(s=Qd(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return go=s,null}function fh(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y0()){case Pl:return 1;case nh:return 4;case oo:case Q0:return 16;case rh:return 536870912;default:return 16}default:return 16}}var Dn=null,Il=null,mo=null;function ph(){if(mo)return mo;var s,o=Il,c=o.length,h,g="value"in Dn?Dn.value:Dn.textContent,y=g.length;for(s=0;s<c&&o[s]===g[s];s++);var _=c-s;for(h=1;h<=_&&o[c-h]===g[y-h];h++);return mo=g.slice(s,1<h?1-h:void 0)}function yo(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function vo(){return!0}function gh(){return!1}function jt(s){function o(c,h,g,y,_){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var C in s)s.hasOwnProperty(C)&&(c=s[C],this[C]=c?c(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?vo:gh,this.isPropagationStopped=gh,this}return J(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=vo)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=vo)},persist:function(){},isPersistent:vo}),o}var $r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ml=jt($r),Hs=J({},$r,{view:0,detail:0}),cv=jt(Hs),Fl,$l,Ws,xo=J({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zl,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ws&&(Ws&&s.type==="mousemove"?(Fl=s.screenX-Ws.screenX,$l=s.screenY-Ws.screenY):$l=Fl=0,Ws=s),Fl)},movementY:function(s){return"movementY"in s?s.movementY:$l}}),mh=jt(xo),uv=J({},xo,{dataTransfer:0}),dv=jt(uv),hv=J({},Hs,{relatedTarget:0}),Ul=jt(hv),fv=J({},$r,{animationName:0,elapsedTime:0,pseudoElement:0}),pv=jt(fv),gv=J({},$r,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),mv=jt(gv),yv=J({},$r,{data:0}),yh=jt(yv),vv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _v(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=wv[s])?!!o[s]:!1}function zl(){return _v}var bv=J({},Hs,{key:function(s){if(s.key){var o=vv[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=yo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?xv[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zl,charCode:function(s){return s.type==="keypress"?yo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?yo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Sv=jt(bv),kv=J({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vh=jt(kv),Cv=J({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zl}),Ev=jt(Cv),jv=J({},$r,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pv=jt(jv),Tv=J({},xo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Nv=jt(Tv),Rv=[9,13,27,32],Bl=u&&"CompositionEvent"in window,Vs=null;u&&"documentMode"in document&&(Vs=document.documentMode);var Ov=u&&"TextEvent"in window&&!Vs,xh=u&&(!Bl||Vs&&8<Vs&&11>=Vs),wh=" ",_h=!1;function bh(s,o){switch(s){case"keyup":return Rv.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sh(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ur=!1;function Av(s,o){switch(s){case"compositionend":return Sh(o);case"keypress":return o.which!==32?null:(_h=!0,wh);case"textInput":return s=o.data,s===wh&&_h?null:s;default:return null}}function Lv(s,o){if(Ur)return s==="compositionend"||!Bl&&bh(s,o)?(s=ph(),mo=Il=Dn=null,Ur=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return xh&&o.locale!=="ko"?null:o.data;default:return null}}var Dv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kh(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Dv[s.type]:o==="textarea"}function Ch(s,o,c,h){Vd(h),o=ko(o,"onChange"),0<o.length&&(c=new Ml("onChange","change",null,c,h),s.push({event:c,listeners:o}))}var qs=null,Ks=null;function Iv(s){Hh(s,0)}function wo(s){var o=Vr(s);if(Ad(o))return s}function Mv(s,o){if(s==="change")return o}var Eh=!1;if(u){var Hl;if(u){var Wl="oninput"in document;if(!Wl){var jh=document.createElement("div");jh.setAttribute("oninput","return;"),Wl=typeof jh.oninput=="function"}Hl=Wl}else Hl=!1;Eh=Hl&&(!document.documentMode||9<document.documentMode)}function Ph(){qs&&(qs.detachEvent("onpropertychange",Th),Ks=qs=null)}function Th(s){if(s.propertyName==="value"&&wo(Ks)){var o=[];Ch(o,Ks,s,Sl(s)),Yd(Iv,o)}}function Fv(s,o,c){s==="focusin"?(Ph(),qs=o,Ks=c,qs.attachEvent("onpropertychange",Th)):s==="focusout"&&Ph()}function $v(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return wo(Ks)}function Uv(s,o){if(s==="click")return wo(o)}function zv(s,o){if(s==="input"||s==="change")return wo(o)}function Bv(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var zt=typeof Object.is=="function"?Object.is:Bv;function Js(s,o){if(zt(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!d.call(o,g)||!zt(s[g],o[g]))return!1}return!0}function Nh(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Rh(s,o){var c=Nh(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=o&&h>=o)return{node:c,offset:o-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Nh(c)}}function Oh(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Oh(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Ah(){for(var s=window,o=no();o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=no(s.document)}return o}function Vl(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function Hv(s){var o=Ah(),c=s.focusedElem,h=s.selectionRange;if(o!==c&&c&&c.ownerDocument&&Oh(c.ownerDocument.documentElement,c)){if(h!==null&&Vl(c)){if(o=h.start,s=h.end,s===void 0&&(s=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(s,c.value.length);else if(s=(o=c.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,y=Math.min(h.start,g);h=h.end===void 0?y:Math.min(h.end,g),!s.extend&&y>h&&(g=h,h=y,y=g),g=Rh(c,y);var _=Rh(c,h);g&&_&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==_.node||s.focusOffset!==_.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),s.removeAllRanges(),y>h?(s.addRange(o),s.extend(_.node,_.offset)):(o.setEnd(_.node,_.offset),s.addRange(o)))}}for(o=[],s=c;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)s=o[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Wv=u&&"documentMode"in document&&11>=document.documentMode,zr=null,ql=null,Ys=null,Kl=!1;function Lh(s,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Kl||zr==null||zr!==no(h)||(h=zr,"selectionStart"in h&&Vl(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ys&&Js(Ys,h)||(Ys=h,h=ko(ql,"onSelect"),0<h.length&&(o=new Ml("onSelect","select",null,o,c),s.push({event:o,listeners:h}),o.target=zr)))}function _o(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var Br={animationend:_o("Animation","AnimationEnd"),animationiteration:_o("Animation","AnimationIteration"),animationstart:_o("Animation","AnimationStart"),transitionend:_o("Transition","TransitionEnd")},Jl={},Dh={};u&&(Dh=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function bo(s){if(Jl[s])return Jl[s];if(!Br[s])return s;var o=Br[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in Dh)return Jl[s]=o[c];return s}var Ih=bo("animationend"),Mh=bo("animationiteration"),Fh=bo("animationstart"),$h=bo("transitionend"),Uh=new Map,zh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function In(s,o){Uh.set(s,o),a(o,[s])}for(var Yl=0;Yl<zh.length;Yl++){var Ql=zh[Yl],Vv=Ql.toLowerCase(),qv=Ql[0].toUpperCase()+Ql.slice(1);In(Vv,"on"+qv)}In(Ih,"onAnimationEnd"),In(Mh,"onAnimationIteration"),In(Fh,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In($h,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qs));function Bh(s,o,c){var h=s.type||"unknown-event";s.currentTarget=c,V0(h,o,void 0,s),s.currentTarget=null}function Hh(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],g=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var _=h.length-1;0<=_;_--){var C=h[_],j=C.instance,M=C.currentTarget;if(C=C.listener,j!==y&&g.isPropagationStopped())break e;Bh(g,C,M),y=j}else for(_=0;_<h.length;_++){if(C=h[_],j=C.instance,M=C.currentTarget,C=C.listener,j!==y&&g.isPropagationStopped())break e;Bh(g,C,M),y=j}}}if(io)throw s=jl,io=!1,jl=null,s}function Re(s,o){var c=o[sc];c===void 0&&(c=o[sc]=new Set);var h=s+"__bubble";c.has(h)||(Wh(o,s,2,!1),c.add(h))}function Gl(s,o,c){var h=0;o&&(h|=4),Wh(c,s,h,o)}var So="_reactListening"+Math.random().toString(36).slice(2);function Gs(s){if(!s[So]){s[So]=!0,r.forEach(function(c){c!=="selectionchange"&&(Kv.has(c)||Gl(c,!1,s),Gl(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[So]||(o[So]=!0,Gl("selectionchange",!1,o))}}function Wh(s,o,c,h){switch(fh(o)){case 1:var g=av;break;case 4:g=lv;break;default:g=Ll}c=g.bind(null,o,c,s),g=void 0,!El||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(o,c,{capture:!0,passive:g}):s.addEventListener(o,c,!0):g!==void 0?s.addEventListener(o,c,{passive:g}):s.addEventListener(o,c,!1)}function Xl(s,o,c,h,g){var y=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var _=h.tag;if(_===3||_===4){var C=h.stateNode.containerInfo;if(C===g||C.nodeType===8&&C.parentNode===g)break;if(_===4)for(_=h.return;_!==null;){var j=_.tag;if((j===3||j===4)&&(j=_.stateNode.containerInfo,j===g||j.nodeType===8&&j.parentNode===g))return;_=_.return}for(;C!==null;){if(_=ar(C),_===null)return;if(j=_.tag,j===5||j===6){h=y=_;continue e}C=C.parentNode}}h=h.return}Yd(function(){var M=y,B=Sl(c),H=[];e:{var z=Uh.get(s);if(z!==void 0){var G=Ml,Z=s;switch(s){case"keypress":if(yo(c)===0)break e;case"keydown":case"keyup":G=Sv;break;case"focusin":Z="focus",G=Ul;break;case"focusout":Z="blur",G=Ul;break;case"beforeblur":case"afterblur":G=Ul;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=mh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=dv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Ev;break;case Ih:case Mh:case Fh:G=pv;break;case $h:G=Pv;break;case"scroll":G=cv;break;case"wheel":G=Nv;break;case"copy":case"cut":case"paste":G=mv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=vh}var te=(o&4)!==0,He=!te&&s==="scroll",A=te?z!==null?z+"Capture":null:z;te=[];for(var N=M,D;N!==null;){D=N;var q=D.stateNode;if(D.tag===5&&q!==null&&(D=q,A!==null&&(q=As(N,A),q!=null&&te.push(Xs(N,q,D)))),He)break;N=N.return}0<te.length&&(z=new G(z,Z,null,c,B),H.push({event:z,listeners:te}))}}if((o&7)===0){e:{if(z=s==="mouseover"||s==="pointerover",G=s==="mouseout"||s==="pointerout",z&&c!==bl&&(Z=c.relatedTarget||c.fromElement)&&(ar(Z)||Z[fn]))break e;if((G||z)&&(z=B.window===B?B:(z=B.ownerDocument)?z.defaultView||z.parentWindow:window,G?(Z=c.relatedTarget||c.toElement,G=M,Z=Z?ar(Z):null,Z!==null&&(He=or(Z),Z!==He||Z.tag!==5&&Z.tag!==6)&&(Z=null)):(G=null,Z=M),G!==Z)){if(te=mh,q="onMouseLeave",A="onMouseEnter",N="mouse",(s==="pointerout"||s==="pointerover")&&(te=vh,q="onPointerLeave",A="onPointerEnter",N="pointer"),He=G==null?z:Vr(G),D=Z==null?z:Vr(Z),z=new te(q,N+"leave",G,c,B),z.target=He,z.relatedTarget=D,q=null,ar(B)===M&&(te=new te(A,N+"enter",Z,c,B),te.target=D,te.relatedTarget=He,q=te),He=q,G&&Z)t:{for(te=G,A=Z,N=0,D=te;D;D=Hr(D))N++;for(D=0,q=A;q;q=Hr(q))D++;for(;0<N-D;)te=Hr(te),N--;for(;0<D-N;)A=Hr(A),D--;for(;N--;){if(te===A||A!==null&&te===A.alternate)break t;te=Hr(te),A=Hr(A)}te=null}else te=null;G!==null&&Vh(H,z,G,te,!1),Z!==null&&He!==null&&Vh(H,He,Z,te,!0)}}e:{if(z=M?Vr(M):window,G=z.nodeName&&z.nodeName.toLowerCase(),G==="select"||G==="input"&&z.type==="file")var ne=Mv;else if(kh(z))if(Eh)ne=zv;else{ne=$v;var ie=Fv}else(G=z.nodeName)&&G.toLowerCase()==="input"&&(z.type==="checkbox"||z.type==="radio")&&(ne=Uv);if(ne&&(ne=ne(s,M))){Ch(H,ne,c,B);break e}ie&&ie(s,z,M),s==="focusout"&&(ie=z._wrapperState)&&ie.controlled&&z.type==="number"&&yl(z,"number",z.value)}switch(ie=M?Vr(M):window,s){case"focusin":(kh(ie)||ie.contentEditable==="true")&&(zr=ie,ql=M,Ys=null);break;case"focusout":Ys=ql=zr=null;break;case"mousedown":Kl=!0;break;case"contextmenu":case"mouseup":case"dragend":Kl=!1,Lh(H,c,B);break;case"selectionchange":if(Wv)break;case"keydown":case"keyup":Lh(H,c,B)}var oe;if(Bl)e:{switch(s){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else Ur?bh(s,c)&&(ue="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(ue="onCompositionStart");ue&&(xh&&c.locale!=="ko"&&(Ur||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&Ur&&(oe=ph()):(Dn=B,Il="value"in Dn?Dn.value:Dn.textContent,Ur=!0)),ie=ko(M,ue),0<ie.length&&(ue=new yh(ue,s,null,c,B),H.push({event:ue,listeners:ie}),oe?ue.data=oe:(oe=Sh(c),oe!==null&&(ue.data=oe)))),(oe=Ov?Av(s,c):Lv(s,c))&&(M=ko(M,"onBeforeInput"),0<M.length&&(B=new yh("onBeforeInput","beforeinput",null,c,B),H.push({event:B,listeners:M}),B.data=oe))}Hh(H,o)})}function Xs(s,o,c){return{instance:s,listener:o,currentTarget:c}}function ko(s,o){for(var c=o+"Capture",h=[];s!==null;){var g=s,y=g.stateNode;g.tag===5&&y!==null&&(g=y,y=As(s,c),y!=null&&h.unshift(Xs(s,y,g)),y=As(s,o),y!=null&&h.push(Xs(s,y,g))),s=s.return}return h}function Hr(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Vh(s,o,c,h,g){for(var y=o._reactName,_=[];c!==null&&c!==h;){var C=c,j=C.alternate,M=C.stateNode;if(j!==null&&j===h)break;C.tag===5&&M!==null&&(C=M,g?(j=As(c,y),j!=null&&_.unshift(Xs(c,j,C))):g||(j=As(c,y),j!=null&&_.push(Xs(c,j,C)))),c=c.return}_.length!==0&&s.push({event:o,listeners:_})}var Jv=/\r\n?/g,Yv=/\u0000|\uFFFD/g;function qh(s){return(typeof s=="string"?s:""+s).replace(Jv,`
`).replace(Yv,"")}function Co(s,o,c){if(o=qh(o),qh(s)!==o&&c)throw Error(t(425))}function Eo(){}var Zl=null,ec=null;function tc(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var nc=typeof setTimeout=="function"?setTimeout:void 0,Qv=typeof clearTimeout=="function"?clearTimeout:void 0,Kh=typeof Promise=="function"?Promise:void 0,Gv=typeof queueMicrotask=="function"?queueMicrotask:typeof Kh<"u"?function(s){return Kh.resolve(null).then(s).catch(Xv)}:nc;function Xv(s){setTimeout(function(){throw s})}function rc(s,o){var c=o,h=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(h===0){s.removeChild(g),Bs(o);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=g}while(c);Bs(o)}function Mn(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Jh(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}var Wr=Math.random().toString(36).slice(2),en="__reactFiber$"+Wr,Zs="__reactProps$"+Wr,fn="__reactContainer$"+Wr,sc="__reactEvents$"+Wr,Zv="__reactListeners$"+Wr,ex="__reactHandles$"+Wr;function ar(s){var o=s[en];if(o)return o;for(var c=s.parentNode;c;){if(o=c[fn]||c[en]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=Jh(s);s!==null;){if(c=s[en])return c;s=Jh(s)}return o}s=c,c=s.parentNode}return null}function ei(s){return s=s[en]||s[fn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Vr(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function jo(s){return s[Zs]||null}var ic=[],qr=-1;function Fn(s){return{current:s}}function Oe(s){0>qr||(s.current=ic[qr],ic[qr]=null,qr--)}function Te(s,o){qr++,ic[qr]=s.current,s.current=o}var $n={},st=Fn($n),pt=Fn(!1),lr=$n;function Kr(s,o){var c=s.type.contextTypes;if(!c)return $n;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var g={},y;for(y in c)g[y]=o[y];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=g),g}function gt(s){return s=s.childContextTypes,s!=null}function Po(){Oe(pt),Oe(st)}function Yh(s,o,c){if(st.current!==$n)throw Error(t(168));Te(st,o),Te(pt,c)}function Qh(s,o,c){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var g in h)if(!(g in o))throw Error(t(108,Se(s)||"Unknown",g));return J({},c,h)}function To(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||$n,lr=st.current,Te(st,s),Te(pt,pt.current),!0}function Gh(s,o,c){var h=s.stateNode;if(!h)throw Error(t(169));c?(s=Qh(s,o,lr),h.__reactInternalMemoizedMergedChildContext=s,Oe(pt),Oe(st),Te(st,s)):Oe(pt),Te(pt,c)}var pn=null,No=!1,oc=!1;function Xh(s){pn===null?pn=[s]:pn.push(s)}function tx(s){No=!0,Xh(s)}function Un(){if(!oc&&pn!==null){oc=!0;var s=0,o=Ee;try{var c=pn;for(Ee=1;s<c.length;s++){var h=c[s];do h=h(!0);while(h!==null)}pn=null,No=!1}catch(g){throw pn!==null&&(pn=pn.slice(s+1)),eh(Pl,Un),g}finally{Ee=o,oc=!1}}return null}var Jr=[],Yr=0,Ro=null,Oo=0,Ot=[],At=0,cr=null,gn=1,mn="";function ur(s,o){Jr[Yr++]=Oo,Jr[Yr++]=Ro,Ro=s,Oo=o}function Zh(s,o,c){Ot[At++]=gn,Ot[At++]=mn,Ot[At++]=cr,cr=s;var h=gn;s=mn;var g=32-Ut(h)-1;h&=~(1<<g),c+=1;var y=32-Ut(o)+g;if(30<y){var _=g-g%5;y=(h&(1<<_)-1).toString(32),h>>=_,g-=_,gn=1<<32-Ut(o)+g|c<<g|h,mn=y+s}else gn=1<<y|c<<g|h,mn=s}function ac(s){s.return!==null&&(ur(s,1),Zh(s,1,0))}function lc(s){for(;s===Ro;)Ro=Jr[--Yr],Jr[Yr]=null,Oo=Jr[--Yr],Jr[Yr]=null;for(;s===cr;)cr=Ot[--At],Ot[At]=null,mn=Ot[--At],Ot[At]=null,gn=Ot[--At],Ot[At]=null}var Pt=null,Tt=null,Me=!1,Bt=null;function ef(s,o){var c=Mt(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function tf(s,o){switch(s.tag){case 5:var c=s.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Pt=s,Tt=Mn(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Pt=s,Tt=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=cr!==null?{id:gn,overflow:mn}:null,s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=Mt(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,Pt=s,Tt=null,!0):!1;default:return!1}}function cc(s){return(s.mode&1)!==0&&(s.flags&128)===0}function uc(s){if(Me){var o=Tt;if(o){var c=o;if(!tf(s,o)){if(cc(s))throw Error(t(418));o=Mn(c.nextSibling);var h=Pt;o&&tf(s,o)?ef(h,c):(s.flags=s.flags&-4097|2,Me=!1,Pt=s)}}else{if(cc(s))throw Error(t(418));s.flags=s.flags&-4097|2,Me=!1,Pt=s}}}function nf(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Pt=s}function Ao(s){if(s!==Pt)return!1;if(!Me)return nf(s),Me=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!tc(s.type,s.memoizedProps)),o&&(o=Tt)){if(cc(s))throw rf(),Error(t(418));for(;o;)ef(s,o),o=Mn(o.nextSibling)}if(nf(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(o===0){Tt=Mn(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}s=s.nextSibling}Tt=null}}else Tt=Pt?Mn(s.stateNode.nextSibling):null;return!0}function rf(){for(var s=Tt;s;)s=Mn(s.nextSibling)}function Qr(){Tt=Pt=null,Me=!1}function dc(s){Bt===null?Bt=[s]:Bt.push(s)}var nx=I.ReactCurrentBatchConfig;function ti(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var h=c.stateNode}if(!h)throw Error(t(147,s));var g=h,y=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(_){var C=g.refs;_===null?delete C[y]:C[y]=_},o._stringRef=y,o)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function Lo(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function sf(s){var o=s._init;return o(s._payload)}function of(s){function o(A,N){if(s){var D=A.deletions;D===null?(A.deletions=[N],A.flags|=16):D.push(N)}}function c(A,N){if(!s)return null;for(;N!==null;)o(A,N),N=N.sibling;return null}function h(A,N){for(A=new Map;N!==null;)N.key!==null?A.set(N.key,N):A.set(N.index,N),N=N.sibling;return A}function g(A,N){return A=Jn(A,N),A.index=0,A.sibling=null,A}function y(A,N,D){return A.index=D,s?(D=A.alternate,D!==null?(D=D.index,D<N?(A.flags|=2,N):D):(A.flags|=2,N)):(A.flags|=1048576,N)}function _(A){return s&&A.alternate===null&&(A.flags|=2),A}function C(A,N,D,q){return N===null||N.tag!==6?(N=nu(D,A.mode,q),N.return=A,N):(N=g(N,D),N.return=A,N)}function j(A,N,D,q){var ne=D.type;return ne===W?B(A,N,D.props.children,q,D.key):N!==null&&(N.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===fe&&sf(ne)===N.type)?(q=g(N,D.props),q.ref=ti(A,N,D),q.return=A,q):(q=sa(D.type,D.key,D.props,null,A.mode,q),q.ref=ti(A,N,D),q.return=A,q)}function M(A,N,D,q){return N===null||N.tag!==4||N.stateNode.containerInfo!==D.containerInfo||N.stateNode.implementation!==D.implementation?(N=ru(D,A.mode,q),N.return=A,N):(N=g(N,D.children||[]),N.return=A,N)}function B(A,N,D,q,ne){return N===null||N.tag!==7?(N=vr(D,A.mode,q,ne),N.return=A,N):(N=g(N,D),N.return=A,N)}function H(A,N,D){if(typeof N=="string"&&N!==""||typeof N=="number")return N=nu(""+N,A.mode,D),N.return=A,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case L:return D=sa(N.type,N.key,N.props,null,A.mode,D),D.ref=ti(A,null,N),D.return=A,D;case $:return N=ru(N,A.mode,D),N.return=A,N;case fe:var q=N._init;return H(A,q(N._payload),D)}if(Ns(N)||Q(N))return N=vr(N,A.mode,D,null),N.return=A,N;Lo(A,N)}return null}function z(A,N,D,q){var ne=N!==null?N.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return ne!==null?null:C(A,N,""+D,q);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case L:return D.key===ne?j(A,N,D,q):null;case $:return D.key===ne?M(A,N,D,q):null;case fe:return ne=D._init,z(A,N,ne(D._payload),q)}if(Ns(D)||Q(D))return ne!==null?null:B(A,N,D,q,null);Lo(A,D)}return null}function G(A,N,D,q,ne){if(typeof q=="string"&&q!==""||typeof q=="number")return A=A.get(D)||null,C(N,A,""+q,ne);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case L:return A=A.get(q.key===null?D:q.key)||null,j(N,A,q,ne);case $:return A=A.get(q.key===null?D:q.key)||null,M(N,A,q,ne);case fe:var ie=q._init;return G(A,N,D,ie(q._payload),ne)}if(Ns(q)||Q(q))return A=A.get(D)||null,B(N,A,q,ne,null);Lo(N,q)}return null}function Z(A,N,D,q){for(var ne=null,ie=null,oe=N,ue=N=0,Xe=null;oe!==null&&ue<D.length;ue++){oe.index>ue?(Xe=oe,oe=null):Xe=oe.sibling;var _e=z(A,oe,D[ue],q);if(_e===null){oe===null&&(oe=Xe);break}s&&oe&&_e.alternate===null&&o(A,oe),N=y(_e,N,ue),ie===null?ne=_e:ie.sibling=_e,ie=_e,oe=Xe}if(ue===D.length)return c(A,oe),Me&&ur(A,ue),ne;if(oe===null){for(;ue<D.length;ue++)oe=H(A,D[ue],q),oe!==null&&(N=y(oe,N,ue),ie===null?ne=oe:ie.sibling=oe,ie=oe);return Me&&ur(A,ue),ne}for(oe=h(A,oe);ue<D.length;ue++)Xe=G(oe,A,ue,D[ue],q),Xe!==null&&(s&&Xe.alternate!==null&&oe.delete(Xe.key===null?ue:Xe.key),N=y(Xe,N,ue),ie===null?ne=Xe:ie.sibling=Xe,ie=Xe);return s&&oe.forEach(function(Yn){return o(A,Yn)}),Me&&ur(A,ue),ne}function te(A,N,D,q){var ne=Q(D);if(typeof ne!="function")throw Error(t(150));if(D=ne.call(D),D==null)throw Error(t(151));for(var ie=ne=null,oe=N,ue=N=0,Xe=null,_e=D.next();oe!==null&&!_e.done;ue++,_e=D.next()){oe.index>ue?(Xe=oe,oe=null):Xe=oe.sibling;var Yn=z(A,oe,_e.value,q);if(Yn===null){oe===null&&(oe=Xe);break}s&&oe&&Yn.alternate===null&&o(A,oe),N=y(Yn,N,ue),ie===null?ne=Yn:ie.sibling=Yn,ie=Yn,oe=Xe}if(_e.done)return c(A,oe),Me&&ur(A,ue),ne;if(oe===null){for(;!_e.done;ue++,_e=D.next())_e=H(A,_e.value,q),_e!==null&&(N=y(_e,N,ue),ie===null?ne=_e:ie.sibling=_e,ie=_e);return Me&&ur(A,ue),ne}for(oe=h(A,oe);!_e.done;ue++,_e=D.next())_e=G(oe,A,ue,_e.value,q),_e!==null&&(s&&_e.alternate!==null&&oe.delete(_e.key===null?ue:_e.key),N=y(_e,N,ue),ie===null?ne=_e:ie.sibling=_e,ie=_e);return s&&oe.forEach(function(Dx){return o(A,Dx)}),Me&&ur(A,ue),ne}function He(A,N,D,q){if(typeof D=="object"&&D!==null&&D.type===W&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case L:e:{for(var ne=D.key,ie=N;ie!==null;){if(ie.key===ne){if(ne=D.type,ne===W){if(ie.tag===7){c(A,ie.sibling),N=g(ie,D.props.children),N.return=A,A=N;break e}}else if(ie.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===fe&&sf(ne)===ie.type){c(A,ie.sibling),N=g(ie,D.props),N.ref=ti(A,ie,D),N.return=A,A=N;break e}c(A,ie);break}else o(A,ie);ie=ie.sibling}D.type===W?(N=vr(D.props.children,A.mode,q,D.key),N.return=A,A=N):(q=sa(D.type,D.key,D.props,null,A.mode,q),q.ref=ti(A,N,D),q.return=A,A=q)}return _(A);case $:e:{for(ie=D.key;N!==null;){if(N.key===ie)if(N.tag===4&&N.stateNode.containerInfo===D.containerInfo&&N.stateNode.implementation===D.implementation){c(A,N.sibling),N=g(N,D.children||[]),N.return=A,A=N;break e}else{c(A,N);break}else o(A,N);N=N.sibling}N=ru(D,A.mode,q),N.return=A,A=N}return _(A);case fe:return ie=D._init,He(A,N,ie(D._payload),q)}if(Ns(D))return Z(A,N,D,q);if(Q(D))return te(A,N,D,q);Lo(A,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,N!==null&&N.tag===6?(c(A,N.sibling),N=g(N,D),N.return=A,A=N):(c(A,N),N=nu(D,A.mode,q),N.return=A,A=N),_(A)):c(A,N)}return He}var Gr=of(!0),af=of(!1),Do=Fn(null),Io=null,Xr=null,hc=null;function fc(){hc=Xr=Io=null}function pc(s){var o=Do.current;Oe(Do),s._currentValue=o}function gc(s,o,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===c)break;s=s.return}}function Zr(s,o){Io=s,hc=Xr=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(mt=!0),s.firstContext=null)}function Lt(s){var o=s._currentValue;if(hc!==s)if(s={context:s,memoizedValue:o,next:null},Xr===null){if(Io===null)throw Error(t(308));Xr=s,Io.dependencies={lanes:0,firstContext:s}}else Xr=Xr.next=s;return o}var dr=null;function mc(s){dr===null?dr=[s]:dr.push(s)}function lf(s,o,c,h){var g=o.interleaved;return g===null?(c.next=c,mc(o)):(c.next=g.next,g.next=c),o.interleaved=c,yn(s,h)}function yn(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var zn=!1;function yc(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cf(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function vn(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Bn(s,o,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(we&2)!==0){var g=h.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),h.pending=o,yn(s,c)}return g=h.interleaved,g===null?(o.next=o,mc(h)):(o.next=g.next,g.next=o),h.interleaved=o,yn(s,c)}function Mo(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,Rl(s,c)}}function uf(s,o){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var _={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};y===null?g=y=_:y=y.next=_,c=c.next}while(c!==null);y===null?g=y=o:y=y.next=o}else g=y=o;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,effects:h.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function Fo(s,o,c,h){var g=s.updateQueue;zn=!1;var y=g.firstBaseUpdate,_=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var j=C,M=j.next;j.next=null,_===null?y=M:_.next=M,_=j;var B=s.alternate;B!==null&&(B=B.updateQueue,C=B.lastBaseUpdate,C!==_&&(C===null?B.firstBaseUpdate=M:C.next=M,B.lastBaseUpdate=j))}if(y!==null){var H=g.baseState;_=0,B=M=j=null,C=y;do{var z=C.lane,G=C.eventTime;if((h&z)===z){B!==null&&(B=B.next={eventTime:G,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var Z=s,te=C;switch(z=o,G=c,te.tag){case 1:if(Z=te.payload,typeof Z=="function"){H=Z.call(G,H,z);break e}H=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=te.payload,z=typeof Z=="function"?Z.call(G,H,z):Z,z==null)break e;H=J({},H,z);break e;case 2:zn=!0}}C.callback!==null&&C.lane!==0&&(s.flags|=64,z=g.effects,z===null?g.effects=[C]:z.push(C))}else G={eventTime:G,lane:z,tag:C.tag,payload:C.payload,callback:C.callback,next:null},B===null?(M=B=G,j=H):B=B.next=G,_|=z;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;z=C,C=z.next,z.next=null,g.lastBaseUpdate=z,g.shared.pending=null}}while(!0);if(B===null&&(j=H),g.baseState=j,g.firstBaseUpdate=M,g.lastBaseUpdate=B,o=g.shared.interleaved,o!==null){g=o;do _|=g.lane,g=g.next;while(g!==o)}else y===null&&(g.shared.lanes=0);pr|=_,s.lanes=_,s.memoizedState=H}}function df(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],g=h.callback;if(g!==null){if(h.callback=null,h=c,typeof g!="function")throw Error(t(191,g));g.call(h)}}}var ni={},tn=Fn(ni),ri=Fn(ni),si=Fn(ni);function hr(s){if(s===ni)throw Error(t(174));return s}function vc(s,o){switch(Te(si,o),Te(ri,s),Te(tn,ni),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:xl(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=xl(o,s)}Oe(tn),Te(tn,o)}function es(){Oe(tn),Oe(ri),Oe(si)}function hf(s){hr(si.current);var o=hr(tn.current),c=xl(o,s.type);o!==c&&(Te(ri,s),Te(tn,c))}function xc(s){ri.current===s&&(Oe(tn),Oe(ri))}var Fe=Fn(0);function $o(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var wc=[];function _c(){for(var s=0;s<wc.length;s++)wc[s]._workInProgressVersionPrimary=null;wc.length=0}var Uo=I.ReactCurrentDispatcher,bc=I.ReactCurrentBatchConfig,fr=0,$e=null,Ke=null,Qe=null,zo=!1,ii=!1,oi=0,rx=0;function it(){throw Error(t(321))}function Sc(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!zt(s[c],o[c]))return!1;return!0}function kc(s,o,c,h,g,y){if(fr=y,$e=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Uo.current=s===null||s.memoizedState===null?ax:lx,s=c(h,g),ii){y=0;do{if(ii=!1,oi=0,25<=y)throw Error(t(301));y+=1,Qe=Ke=null,o.updateQueue=null,Uo.current=cx,s=c(h,g)}while(ii)}if(Uo.current=Wo,o=Ke!==null&&Ke.next!==null,fr=0,Qe=Ke=$e=null,zo=!1,o)throw Error(t(300));return s}function Cc(){var s=oi!==0;return oi=0,s}function nn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?$e.memoizedState=Qe=s:Qe=Qe.next=s,Qe}function Dt(){if(Ke===null){var s=$e.alternate;s=s!==null?s.memoizedState:null}else s=Ke.next;var o=Qe===null?$e.memoizedState:Qe.next;if(o!==null)Qe=o,Ke=s;else{if(s===null)throw Error(t(310));Ke=s,s={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Qe===null?$e.memoizedState=Qe=s:Qe=Qe.next=s}return Qe}function ai(s,o){return typeof o=="function"?o(s):o}function Ec(s){var o=Dt(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=Ke,g=h.baseQueue,y=c.pending;if(y!==null){if(g!==null){var _=g.next;g.next=y.next,y.next=_}h.baseQueue=g=y,c.pending=null}if(g!==null){y=g.next,h=h.baseState;var C=_=null,j=null,M=y;do{var B=M.lane;if((fr&B)===B)j!==null&&(j=j.next={lane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),h=M.hasEagerState?M.eagerState:s(h,M.action);else{var H={lane:B,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null};j===null?(C=j=H,_=h):j=j.next=H,$e.lanes|=B,pr|=B}M=M.next}while(M!==null&&M!==y);j===null?_=h:j.next=C,zt(h,o.memoizedState)||(mt=!0),o.memoizedState=h,o.baseState=_,o.baseQueue=j,c.lastRenderedState=h}if(s=c.interleaved,s!==null){g=s;do y=g.lane,$e.lanes|=y,pr|=y,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function jc(s){var o=Dt(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=c.dispatch,g=c.pending,y=o.memoizedState;if(g!==null){c.pending=null;var _=g=g.next;do y=s(y,_.action),_=_.next;while(_!==g);zt(y,o.memoizedState)||(mt=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),c.lastRenderedState=y}return[y,h]}function ff(){}function pf(s,o){var c=$e,h=Dt(),g=o(),y=!zt(h.memoizedState,g);if(y&&(h.memoizedState=g,mt=!0),h=h.queue,Pc(yf.bind(null,c,h,s),[s]),h.getSnapshot!==o||y||Qe!==null&&Qe.memoizedState.tag&1){if(c.flags|=2048,li(9,mf.bind(null,c,h,g,o),void 0,null),Ge===null)throw Error(t(349));(fr&30)!==0||gf(c,o,g)}return g}function gf(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=$e.updateQueue,o===null?(o={lastEffect:null,stores:null},$e.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function mf(s,o,c,h){o.value=c,o.getSnapshot=h,vf(o)&&xf(s)}function yf(s,o,c){return c(function(){vf(o)&&xf(s)})}function vf(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!zt(s,c)}catch{return!0}}function xf(s){var o=yn(s,1);o!==null&&qt(o,s,1,-1)}function wf(s){var o=nn();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:s},o.queue=s,s=s.dispatch=ox.bind(null,$e,s),[o.memoizedState,s]}function li(s,o,c,h){return s={tag:s,create:o,destroy:c,deps:h,next:null},o=$e.updateQueue,o===null?(o={lastEffect:null,stores:null},$e.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,o.lastEffect=s)),s}function _f(){return Dt().memoizedState}function Bo(s,o,c,h){var g=nn();$e.flags|=s,g.memoizedState=li(1|o,c,void 0,h===void 0?null:h)}function Ho(s,o,c,h){var g=Dt();h=h===void 0?null:h;var y=void 0;if(Ke!==null){var _=Ke.memoizedState;if(y=_.destroy,h!==null&&Sc(h,_.deps)){g.memoizedState=li(o,c,y,h);return}}$e.flags|=s,g.memoizedState=li(1|o,c,y,h)}function bf(s,o){return Bo(8390656,8,s,o)}function Pc(s,o){return Ho(2048,8,s,o)}function Sf(s,o){return Ho(4,2,s,o)}function kf(s,o){return Ho(4,4,s,o)}function Cf(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Ef(s,o,c){return c=c!=null?c.concat([s]):null,Ho(4,4,Cf.bind(null,o,s),c)}function Tc(){}function jf(s,o){var c=Dt();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&Sc(o,h[1])?h[0]:(c.memoizedState=[s,o],s)}function Pf(s,o){var c=Dt();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&Sc(o,h[1])?h[0]:(s=s(),c.memoizedState=[s,o],s)}function Tf(s,o,c){return(fr&21)===0?(s.baseState&&(s.baseState=!1,mt=!0),s.memoizedState=c):(zt(c,o)||(c=sh(),$e.lanes|=c,pr|=c,s.baseState=!0),o)}function sx(s,o){var c=Ee;Ee=c!==0&&4>c?c:4,s(!0);var h=bc.transition;bc.transition={};try{s(!1),o()}finally{Ee=c,bc.transition=h}}function Nf(){return Dt().memoizedState}function ix(s,o,c){var h=qn(s);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},Rf(s))Of(o,c);else if(c=lf(s,o,c,h),c!==null){var g=ht();qt(c,s,h,g),Af(c,o,h)}}function ox(s,o,c){var h=qn(s),g={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(Rf(s))Of(o,g);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var _=o.lastRenderedState,C=y(_,c);if(g.hasEagerState=!0,g.eagerState=C,zt(C,_)){var j=o.interleaved;j===null?(g.next=g,mc(o)):(g.next=j.next,j.next=g),o.interleaved=g;return}}catch{}finally{}c=lf(s,o,g,h),c!==null&&(g=ht(),qt(c,s,h,g),Af(c,o,h))}}function Rf(s){var o=s.alternate;return s===$e||o!==null&&o===$e}function Of(s,o){ii=zo=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function Af(s,o,c){if((c&4194240)!==0){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,Rl(s,c)}}var Wo={readContext:Lt,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},ax={readContext:Lt,useCallback:function(s,o){return nn().memoizedState=[s,o===void 0?null:o],s},useContext:Lt,useEffect:bf,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,Bo(4194308,4,Cf.bind(null,o,s),c)},useLayoutEffect:function(s,o){return Bo(4194308,4,s,o)},useInsertionEffect:function(s,o){return Bo(4,2,s,o)},useMemo:function(s,o){var c=nn();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var h=nn();return o=c!==void 0?c(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=ix.bind(null,$e,s),[h.memoizedState,s]},useRef:function(s){var o=nn();return s={current:s},o.memoizedState=s},useState:wf,useDebugValue:Tc,useDeferredValue:function(s){return nn().memoizedState=s},useTransition:function(){var s=wf(!1),o=s[0];return s=sx.bind(null,s[1]),nn().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var h=$e,g=nn();if(Me){if(c===void 0)throw Error(t(407));c=c()}else{if(c=o(),Ge===null)throw Error(t(349));(fr&30)!==0||gf(h,o,c)}g.memoizedState=c;var y={value:c,getSnapshot:o};return g.queue=y,bf(yf.bind(null,h,y,s),[s]),h.flags|=2048,li(9,mf.bind(null,h,y,c,o),void 0,null),c},useId:function(){var s=nn(),o=Ge.identifierPrefix;if(Me){var c=mn,h=gn;c=(h&~(1<<32-Ut(h)-1)).toString(32)+c,o=":"+o+"R"+c,c=oi++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=rx++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},lx={readContext:Lt,useCallback:jf,useContext:Lt,useEffect:Pc,useImperativeHandle:Ef,useInsertionEffect:Sf,useLayoutEffect:kf,useMemo:Pf,useReducer:Ec,useRef:_f,useState:function(){return Ec(ai)},useDebugValue:Tc,useDeferredValue:function(s){var o=Dt();return Tf(o,Ke.memoizedState,s)},useTransition:function(){var s=Ec(ai)[0],o=Dt().memoizedState;return[s,o]},useMutableSource:ff,useSyncExternalStore:pf,useId:Nf,unstable_isNewReconciler:!1},cx={readContext:Lt,useCallback:jf,useContext:Lt,useEffect:Pc,useImperativeHandle:Ef,useInsertionEffect:Sf,useLayoutEffect:kf,useMemo:Pf,useReducer:jc,useRef:_f,useState:function(){return jc(ai)},useDebugValue:Tc,useDeferredValue:function(s){var o=Dt();return Ke===null?o.memoizedState=s:Tf(o,Ke.memoizedState,s)},useTransition:function(){var s=jc(ai)[0],o=Dt().memoizedState;return[s,o]},useMutableSource:ff,useSyncExternalStore:pf,useId:Nf,unstable_isNewReconciler:!1};function Ht(s,o){if(s&&s.defaultProps){o=J({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}function Nc(s,o,c,h){o=s.memoizedState,c=c(h,o),c=c==null?o:J({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Vo={isMounted:function(s){return(s=s._reactInternals)?or(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var h=ht(),g=qn(s),y=vn(h,g);y.payload=o,c!=null&&(y.callback=c),o=Bn(s,y,g),o!==null&&(qt(o,s,g,h),Mo(o,s,g))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var h=ht(),g=qn(s),y=vn(h,g);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=Bn(s,y,g),o!==null&&(qt(o,s,g,h),Mo(o,s,g))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=ht(),h=qn(s),g=vn(c,h);g.tag=2,o!=null&&(g.callback=o),o=Bn(s,g,h),o!==null&&(qt(o,s,h,c),Mo(o,s,h))}};function Lf(s,o,c,h,g,y,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,_):o.prototype&&o.prototype.isPureReactComponent?!Js(c,h)||!Js(g,y):!0}function Df(s,o,c){var h=!1,g=$n,y=o.contextType;return typeof y=="object"&&y!==null?y=Lt(y):(g=gt(o)?lr:st.current,h=o.contextTypes,y=(h=h!=null)?Kr(s,g):$n),o=new o(c,y),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Vo,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=y),o}function If(s,o,c,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==s&&Vo.enqueueReplaceState(o,o.state,null)}function Rc(s,o,c,h){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},yc(s);var y=o.contextType;typeof y=="object"&&y!==null?g.context=Lt(y):(y=gt(o)?lr:st.current,g.context=Kr(s,y)),g.state=s.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(Nc(s,o,y,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&Vo.enqueueReplaceState(g,g.state,null),Fo(s,c,g,h),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function ts(s,o){try{var c="",h=o;do c+=V(h),h=h.return;while(h);var g=c}catch(y){g=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:o,stack:g,digest:null}}function Oc(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function Ac(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var ux=typeof WeakMap=="function"?WeakMap:Map;function Mf(s,o,c){c=vn(-1,c),c.tag=3,c.payload={element:null};var h=o.value;return c.callback=function(){Xo||(Xo=!0,Jc=h),Ac(s,o)},c}function Ff(s,o,c){c=vn(-1,c),c.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var g=o.value;c.payload=function(){return h(g)},c.callback=function(){Ac(s,o)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(c.callback=function(){Ac(s,o),typeof h!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var _=o.stack;this.componentDidCatch(o.value,{componentStack:_!==null?_:""})}),c}function $f(s,o,c){var h=s.pingCache;if(h===null){h=s.pingCache=new ux;var g=new Set;h.set(o,g)}else g=h.get(o),g===void 0&&(g=new Set,h.set(o,g));g.has(c)||(g.add(c),s=kx.bind(null,s,o,c),o.then(s,s))}function Uf(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function zf(s,o,c,h,g){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=vn(-1,1),o.tag=2,Bn(c,o,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var dx=I.ReactCurrentOwner,mt=!1;function dt(s,o,c,h){o.child=s===null?af(o,null,c,h):Gr(o,s.child,c,h)}function Bf(s,o,c,h,g){c=c.render;var y=o.ref;return Zr(o,g),h=kc(s,o,c,h,y,g),c=Cc(),s!==null&&!mt?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,xn(s,o,g)):(Me&&c&&ac(o),o.flags|=1,dt(s,o,h,g),o.child)}function Hf(s,o,c,h,g){if(s===null){var y=c.type;return typeof y=="function"&&!tu(y)&&y.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=y,Wf(s,o,y,h,g)):(s=sa(c.type,null,h,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(y=s.child,(s.lanes&g)===0){var _=y.memoizedProps;if(c=c.compare,c=c!==null?c:Js,c(_,h)&&s.ref===o.ref)return xn(s,o,g)}return o.flags|=1,s=Jn(y,h),s.ref=o.ref,s.return=o,o.child=s}function Wf(s,o,c,h,g){if(s!==null){var y=s.memoizedProps;if(Js(y,h)&&s.ref===o.ref)if(mt=!1,o.pendingProps=h=y,(s.lanes&g)!==0)(s.flags&131072)!==0&&(mt=!0);else return o.lanes=s.lanes,xn(s,o,g)}return Lc(s,o,c,h,g)}function Vf(s,o,c){var h=o.pendingProps,g=h.children,y=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(rs,Nt),Nt|=c;else{if((c&1073741824)===0)return s=y!==null?y.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Te(rs,Nt),Nt|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:c,Te(rs,Nt),Nt|=h}else y!==null?(h=y.baseLanes|c,o.memoizedState=null):h=c,Te(rs,Nt),Nt|=h;return dt(s,o,g,c),o.child}function qf(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function Lc(s,o,c,h,g){var y=gt(c)?lr:st.current;return y=Kr(o,y),Zr(o,g),c=kc(s,o,c,h,y,g),h=Cc(),s!==null&&!mt?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,xn(s,o,g)):(Me&&h&&ac(o),o.flags|=1,dt(s,o,c,g),o.child)}function Kf(s,o,c,h,g){if(gt(c)){var y=!0;To(o)}else y=!1;if(Zr(o,g),o.stateNode===null)Ko(s,o),Df(o,c,h),Rc(o,c,h,g),h=!0;else if(s===null){var _=o.stateNode,C=o.memoizedProps;_.props=C;var j=_.context,M=c.contextType;typeof M=="object"&&M!==null?M=Lt(M):(M=gt(c)?lr:st.current,M=Kr(o,M));var B=c.getDerivedStateFromProps,H=typeof B=="function"||typeof _.getSnapshotBeforeUpdate=="function";H||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==h||j!==M)&&If(o,_,h,M),zn=!1;var z=o.memoizedState;_.state=z,Fo(o,h,_,g),j=o.memoizedState,C!==h||z!==j||pt.current||zn?(typeof B=="function"&&(Nc(o,c,B,h),j=o.memoizedState),(C=zn||Lf(o,c,C,h,z,j,M))?(H||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=j),_.props=h,_.state=j,_.context=M,h=C):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{_=o.stateNode,cf(s,o),C=o.memoizedProps,M=o.type===o.elementType?C:Ht(o.type,C),_.props=M,H=o.pendingProps,z=_.context,j=c.contextType,typeof j=="object"&&j!==null?j=Lt(j):(j=gt(c)?lr:st.current,j=Kr(o,j));var G=c.getDerivedStateFromProps;(B=typeof G=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==H||z!==j)&&If(o,_,h,j),zn=!1,z=o.memoizedState,_.state=z,Fo(o,h,_,g);var Z=o.memoizedState;C!==H||z!==Z||pt.current||zn?(typeof G=="function"&&(Nc(o,c,G,h),Z=o.memoizedState),(M=zn||Lf(o,c,M,h,z,Z,j)||!1)?(B||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,Z,j),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,Z,j)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||C===s.memoizedProps&&z===s.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&z===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=Z),_.props=h,_.state=Z,_.context=j,h=M):(typeof _.componentDidUpdate!="function"||C===s.memoizedProps&&z===s.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&z===s.memoizedState||(o.flags|=1024),h=!1)}return Dc(s,o,c,h,y,g)}function Dc(s,o,c,h,g,y){qf(s,o);var _=(o.flags&128)!==0;if(!h&&!_)return g&&Gh(o,c,!1),xn(s,o,y);h=o.stateNode,dx.current=o;var C=_&&typeof c.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&_?(o.child=Gr(o,s.child,null,y),o.child=Gr(o,null,C,y)):dt(s,o,C,y),o.memoizedState=h.state,g&&Gh(o,c,!0),o.child}function Jf(s){var o=s.stateNode;o.pendingContext?Yh(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Yh(s,o.context,!1),vc(s,o.containerInfo)}function Yf(s,o,c,h,g){return Qr(),dc(g),o.flags|=256,dt(s,o,c,h),o.child}var Ic={dehydrated:null,treeContext:null,retryLane:0};function Mc(s){return{baseLanes:s,cachePool:null,transitions:null}}function Qf(s,o,c){var h=o.pendingProps,g=Fe.current,y=!1,_=(o.flags&128)!==0,C;if((C=_)||(C=s!==null&&s.memoizedState===null?!1:(g&2)!==0),C?(y=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),Te(Fe,g&1),s===null)return uc(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(_=h.children,s=h.fallback,y?(h=o.mode,y=o.child,_={mode:"hidden",children:_},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=_):y=ia(_,h,0,null),s=vr(s,h,c,null),y.return=o,s.return=o,y.sibling=s,o.child=y,o.child.memoizedState=Mc(c),o.memoizedState=Ic,s):Fc(o,_));if(g=s.memoizedState,g!==null&&(C=g.dehydrated,C!==null))return hx(s,o,_,h,C,g,c);if(y){y=h.fallback,_=o.mode,g=s.child,C=g.sibling;var j={mode:"hidden",children:h.children};return(_&1)===0&&o.child!==g?(h=o.child,h.childLanes=0,h.pendingProps=j,o.deletions=null):(h=Jn(g,j),h.subtreeFlags=g.subtreeFlags&14680064),C!==null?y=Jn(C,y):(y=vr(y,_,c,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,_=s.child.memoizedState,_=_===null?Mc(c):{baseLanes:_.baseLanes|c,cachePool:null,transitions:_.transitions},y.memoizedState=_,y.childLanes=s.childLanes&~c,o.memoizedState=Ic,h}return y=s.child,s=y.sibling,h=Jn(y,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=c),h.return=o,h.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=h,o.memoizedState=null,h}function Fc(s,o){return o=ia({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function qo(s,o,c,h){return h!==null&&dc(h),Gr(o,s.child,null,c),s=Fc(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function hx(s,o,c,h,g,y,_){if(c)return o.flags&256?(o.flags&=-257,h=Oc(Error(t(422))),qo(s,o,_,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(y=h.fallback,g=o.mode,h=ia({mode:"visible",children:h.children},g,0,null),y=vr(y,g,_,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,(o.mode&1)!==0&&Gr(o,s.child,null,_),o.child.memoizedState=Mc(_),o.memoizedState=Ic,y);if((o.mode&1)===0)return qo(s,o,_,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var C=h.dgst;return h=C,y=Error(t(419)),h=Oc(y,h,void 0),qo(s,o,_,h)}if(C=(_&s.childLanes)!==0,mt||C){if(h=Ge,h!==null){switch(_&-_){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(h.suspendedLanes|_))!==0?0:g,g!==0&&g!==y.retryLane&&(y.retryLane=g,yn(s,g),qt(h,s,g,-1))}return eu(),h=Oc(Error(t(421))),qo(s,o,_,h)}return g.data==="$?"?(o.flags|=128,o.child=s.child,o=Cx.bind(null,s),g._reactRetry=o,null):(s=y.treeContext,Tt=Mn(g.nextSibling),Pt=o,Me=!0,Bt=null,s!==null&&(Ot[At++]=gn,Ot[At++]=mn,Ot[At++]=cr,gn=s.id,mn=s.overflow,cr=o),o=Fc(o,h.children),o.flags|=4096,o)}function Gf(s,o,c){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),gc(s.return,o,c)}function $c(s,o,c,h,g){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=c,y.tailMode=g)}function Xf(s,o,c){var h=o.pendingProps,g=h.revealOrder,y=h.tail;if(dt(s,o,h.children,c),h=Fe.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Gf(s,c,o);else if(s.tag===19)Gf(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(Te(Fe,h),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(c=o.child,g=null;c!==null;)s=c.alternate,s!==null&&$o(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=o.child,o.child=null):(g=c.sibling,c.sibling=null),$c(o,!1,g,c,y);break;case"backwards":for(c=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&$o(s)===null){o.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}$c(o,!0,c,null,y);break;case"together":$c(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ko(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function xn(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),pr|=o.lanes,(c&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,c=Jn(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=Jn(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function fx(s,o,c){switch(o.tag){case 3:Jf(o),Qr();break;case 5:hf(o);break;case 1:gt(o.type)&&To(o);break;case 4:vc(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,g=o.memoizedProps.value;Te(Do,h._currentValue),h._currentValue=g;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(Te(Fe,Fe.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?Qf(s,o,c):(Te(Fe,Fe.current&1),s=xn(s,o,c),s!==null?s.sibling:null);Te(Fe,Fe.current&1);break;case 19:if(h=(c&o.childLanes)!==0,(s.flags&128)!==0){if(h)return Xf(s,o,c);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Te(Fe,Fe.current),h)break;return null;case 22:case 23:return o.lanes=0,Vf(s,o,c)}return xn(s,o,c)}var Zf,Uc,ep,tp;Zf=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Uc=function(){},ep=function(s,o,c,h){var g=s.memoizedProps;if(g!==h){s=o.stateNode,hr(tn.current);var y=null;switch(c){case"input":g=gl(s,g),h=gl(s,h),y=[];break;case"select":g=J({},g,{value:void 0}),h=J({},h,{value:void 0}),y=[];break;case"textarea":g=vl(s,g),h=vl(s,h),y=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Eo)}wl(c,h);var _;c=null;for(M in g)if(!h.hasOwnProperty(M)&&g.hasOwnProperty(M)&&g[M]!=null)if(M==="style"){var C=g[M];for(_ in C)C.hasOwnProperty(_)&&(c||(c={}),c[_]="")}else M!=="dangerouslySetInnerHTML"&&M!=="children"&&M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(i.hasOwnProperty(M)?y||(y=[]):(y=y||[]).push(M,null));for(M in h){var j=h[M];if(C=g?.[M],h.hasOwnProperty(M)&&j!==C&&(j!=null||C!=null))if(M==="style")if(C){for(_ in C)!C.hasOwnProperty(_)||j&&j.hasOwnProperty(_)||(c||(c={}),c[_]="");for(_ in j)j.hasOwnProperty(_)&&C[_]!==j[_]&&(c||(c={}),c[_]=j[_])}else c||(y||(y=[]),y.push(M,c)),c=j;else M==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,C=C?C.__html:void 0,j!=null&&C!==j&&(y=y||[]).push(M,j)):M==="children"?typeof j!="string"&&typeof j!="number"||(y=y||[]).push(M,""+j):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&(i.hasOwnProperty(M)?(j!=null&&M==="onScroll"&&Re("scroll",s),y||C===j||(y=[])):(y=y||[]).push(M,j))}c&&(y=y||[]).push("style",c);var M=y;(o.updateQueue=M)&&(o.flags|=4)}},tp=function(s,o,c,h){c!==h&&(o.flags|=4)};function ci(s,o){if(!Me)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function ot(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(o)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=c,o}function px(s,o,c){var h=o.pendingProps;switch(lc(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(o),null;case 1:return gt(o.type)&&Po(),ot(o),null;case 3:return h=o.stateNode,es(),Oe(pt),Oe(st),_c(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Ao(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Bt!==null&&(Gc(Bt),Bt=null))),Uc(s,o),ot(o),null;case 5:xc(o);var g=hr(si.current);if(c=o.type,s!==null&&o.stateNode!=null)ep(s,o,c,h,g),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return ot(o),null}if(s=hr(tn.current),Ao(o)){h=o.stateNode,c=o.type;var y=o.memoizedProps;switch(h[en]=o,h[Zs]=y,s=(o.mode&1)!==0,c){case"dialog":Re("cancel",h),Re("close",h);break;case"iframe":case"object":case"embed":Re("load",h);break;case"video":case"audio":for(g=0;g<Qs.length;g++)Re(Qs[g],h);break;case"source":Re("error",h);break;case"img":case"image":case"link":Re("error",h),Re("load",h);break;case"details":Re("toggle",h);break;case"input":Ld(h,y),Re("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Re("invalid",h);break;case"textarea":Md(h,y),Re("invalid",h)}wl(c,y),g=null;for(var _ in y)if(y.hasOwnProperty(_)){var C=y[_];_==="children"?typeof C=="string"?h.textContent!==C&&(y.suppressHydrationWarning!==!0&&Co(h.textContent,C,s),g=["children",C]):typeof C=="number"&&h.textContent!==""+C&&(y.suppressHydrationWarning!==!0&&Co(h.textContent,C,s),g=["children",""+C]):i.hasOwnProperty(_)&&C!=null&&_==="onScroll"&&Re("scroll",h)}switch(c){case"input":to(h),Id(h,y,!0);break;case"textarea":to(h),$d(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Eo)}h=g,o.updateQueue=h,h!==null&&(o.flags|=4)}else{_=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ud(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=_.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=_.createElement(c,{is:h.is}):(s=_.createElement(c),c==="select"&&(_=s,h.multiple?_.multiple=!0:h.size&&(_.size=h.size))):s=_.createElementNS(s,c),s[en]=o,s[Zs]=h,Zf(s,o,!1,!1),o.stateNode=s;e:{switch(_=_l(c,h),c){case"dialog":Re("cancel",s),Re("close",s),g=h;break;case"iframe":case"object":case"embed":Re("load",s),g=h;break;case"video":case"audio":for(g=0;g<Qs.length;g++)Re(Qs[g],s);g=h;break;case"source":Re("error",s),g=h;break;case"img":case"image":case"link":Re("error",s),Re("load",s),g=h;break;case"details":Re("toggle",s),g=h;break;case"input":Ld(s,h),g=gl(s,h),Re("invalid",s);break;case"option":g=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},g=J({},h,{value:void 0}),Re("invalid",s);break;case"textarea":Md(s,h),g=vl(s,h),Re("invalid",s);break;default:g=h}wl(c,g),C=g;for(y in C)if(C.hasOwnProperty(y)){var j=C[y];y==="style"?Hd(s,j):y==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&zd(s,j)):y==="children"?typeof j=="string"?(c!=="textarea"||j!=="")&&Rs(s,j):typeof j=="number"&&Rs(s,""+j):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?j!=null&&y==="onScroll"&&Re("scroll",s):j!=null&&T(s,y,j,_))}switch(c){case"input":to(s),Id(s,h,!1);break;case"textarea":to(s),$d(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Ce(h.value));break;case"select":s.multiple=!!h.multiple,y=h.value,y!=null?Dr(s,!!h.multiple,y,!1):h.defaultValue!=null&&Dr(s,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=Eo)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return ot(o),null;case 6:if(s&&o.stateNode!=null)tp(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(c=hr(si.current),hr(tn.current),Ao(o)){if(h=o.stateNode,c=o.memoizedProps,h[en]=o,(y=h.nodeValue!==c)&&(s=Pt,s!==null))switch(s.tag){case 3:Co(h.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Co(h.nodeValue,c,(s.mode&1)!==0)}y&&(o.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[en]=o,o.stateNode=h}return ot(o),null;case 13:if(Oe(Fe),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Me&&Tt!==null&&(o.mode&1)!==0&&(o.flags&128)===0)rf(),Qr(),o.flags|=98560,y=!1;else if(y=Ao(o),h!==null&&h.dehydrated!==null){if(s===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[en]=o}else Qr(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ot(o),y=!1}else Bt!==null&&(Gc(Bt),Bt=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(Fe.current&1)!==0?Je===0&&(Je=3):eu())),o.updateQueue!==null&&(o.flags|=4),ot(o),null);case 4:return es(),Uc(s,o),s===null&&Gs(o.stateNode.containerInfo),ot(o),null;case 10:return pc(o.type._context),ot(o),null;case 17:return gt(o.type)&&Po(),ot(o),null;case 19:if(Oe(Fe),y=o.memoizedState,y===null)return ot(o),null;if(h=(o.flags&128)!==0,_=y.rendering,_===null)if(h)ci(y,!1);else{if(Je!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(_=$o(s),_!==null){for(o.flags|=128,ci(y,!1),h=_.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=c,c=o.child;c!==null;)y=c,s=h,y.flags&=14680066,_=y.alternate,_===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=_.childLanes,y.lanes=_.lanes,y.child=_.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=_.memoizedProps,y.memoizedState=_.memoizedState,y.updateQueue=_.updateQueue,y.type=_.type,s=_.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return Te(Fe,Fe.current&1|2),o.child}s=s.sibling}y.tail!==null&&Be()>ss&&(o.flags|=128,h=!0,ci(y,!1),o.lanes=4194304)}else{if(!h)if(s=$o(_),s!==null){if(o.flags|=128,h=!0,c=s.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),ci(y,!0),y.tail===null&&y.tailMode==="hidden"&&!_.alternate&&!Me)return ot(o),null}else 2*Be()-y.renderingStartTime>ss&&c!==1073741824&&(o.flags|=128,h=!0,ci(y,!1),o.lanes=4194304);y.isBackwards?(_.sibling=o.child,o.child=_):(c=y.last,c!==null?c.sibling=_:o.child=_,y.last=_)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Be(),o.sibling=null,c=Fe.current,Te(Fe,h?c&1|2:c&1),o):(ot(o),null);case 22:case 23:return Zc(),h=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(Nt&1073741824)!==0&&(ot(o),o.subtreeFlags&6&&(o.flags|=8192)):ot(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function gx(s,o){switch(lc(o),o.tag){case 1:return gt(o.type)&&Po(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return es(),Oe(pt),Oe(st),_c(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return xc(o),null;case 13:if(Oe(Fe),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Qr()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Oe(Fe),null;case 4:return es(),null;case 10:return pc(o.type._context),null;case 22:case 23:return Zc(),null;case 24:return null;default:return null}}var Jo=!1,at=!1,mx=typeof WeakSet=="function"?WeakSet:Set,X=null;function ns(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){ze(s,o,h)}else c.current=null}function zc(s,o,c){try{c()}catch(h){ze(s,o,h)}}var np=!1;function yx(s,o){if(Zl=po,s=Ah(),Vl(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var _=0,C=-1,j=-1,M=0,B=0,H=s,z=null;t:for(;;){for(var G;H!==c||g!==0&&H.nodeType!==3||(C=_+g),H!==y||h!==0&&H.nodeType!==3||(j=_+h),H.nodeType===3&&(_+=H.nodeValue.length),(G=H.firstChild)!==null;)z=H,H=G;for(;;){if(H===s)break t;if(z===c&&++M===g&&(C=_),z===y&&++B===h&&(j=_),(G=H.nextSibling)!==null)break;H=z,z=H.parentNode}H=G}c=C===-1||j===-1?null:{start:C,end:j}}else c=null}c=c||{start:0,end:0}}else c=null;for(ec={focusedElem:s,selectionRange:c},po=!1,X=o;X!==null;)if(o=X,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,X=s;else for(;X!==null;){o=X;try{var Z=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Z!==null){var te=Z.memoizedProps,He=Z.memoizedState,A=o.stateNode,N=A.getSnapshotBeforeUpdate(o.elementType===o.type?te:Ht(o.type,te),He);A.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var D=o.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(q){ze(o,o.return,q)}if(s=o.sibling,s!==null){s.return=o.return,X=s;break}X=o.return}return Z=np,np=!1,Z}function ui(s,o,c){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&s)===s){var y=g.destroy;g.destroy=void 0,y!==void 0&&zc(o,c,y)}g=g.next}while(g!==h)}}function Yo(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var h=c.create;c.destroy=h()}c=c.next}while(c!==o)}}function Bc(s){var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof o=="function"?o(s):o.current=s}}function rp(s){var o=s.alternate;o!==null&&(s.alternate=null,rp(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[en],delete o[Zs],delete o[sc],delete o[Zv],delete o[ex])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function sp(s){return s.tag===5||s.tag===3||s.tag===4}function ip(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||sp(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Hc(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Eo));else if(h!==4&&(s=s.child,s!==null))for(Hc(s,o,c),s=s.sibling;s!==null;)Hc(s,o,c),s=s.sibling}function Wc(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(Wc(s,o,c),s=s.sibling;s!==null;)Wc(s,o,c),s=s.sibling}var tt=null,Wt=!1;function Hn(s,o,c){for(c=c.child;c!==null;)op(s,o,c),c=c.sibling}function op(s,o,c){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(ao,c)}catch{}switch(c.tag){case 5:at||ns(c,o);case 6:var h=tt,g=Wt;tt=null,Hn(s,o,c),tt=h,Wt=g,tt!==null&&(Wt?(s=tt,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):tt.removeChild(c.stateNode));break;case 18:tt!==null&&(Wt?(s=tt,c=c.stateNode,s.nodeType===8?rc(s.parentNode,c):s.nodeType===1&&rc(s,c),Bs(s)):rc(tt,c.stateNode));break;case 4:h=tt,g=Wt,tt=c.stateNode.containerInfo,Wt=!0,Hn(s,o,c),tt=h,Wt=g;break;case 0:case 11:case 14:case 15:if(!at&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var y=g,_=y.destroy;y=y.tag,_!==void 0&&((y&2)!==0||(y&4)!==0)&&zc(c,o,_),g=g.next}while(g!==h)}Hn(s,o,c);break;case 1:if(!at&&(ns(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(C){ze(c,o,C)}Hn(s,o,c);break;case 21:Hn(s,o,c);break;case 22:c.mode&1?(at=(h=at)||c.memoizedState!==null,Hn(s,o,c),at=h):Hn(s,o,c);break;default:Hn(s,o,c)}}function ap(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new mx),o.forEach(function(h){var g=Ex.bind(null,s,h);c.has(h)||(c.add(h),h.then(g,g))})}}function Vt(s,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];try{var y=s,_=o,C=_;e:for(;C!==null;){switch(C.tag){case 5:tt=C.stateNode,Wt=!1;break e;case 3:tt=C.stateNode.containerInfo,Wt=!0;break e;case 4:tt=C.stateNode.containerInfo,Wt=!0;break e}C=C.return}if(tt===null)throw Error(t(160));op(y,_,g),tt=null,Wt=!1;var j=g.alternate;j!==null&&(j.return=null),g.return=null}catch(M){ze(g,o,M)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)lp(o,s),o=o.sibling}function lp(s,o){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Vt(o,s),rn(s),h&4){try{ui(3,s,s.return),Yo(3,s)}catch(te){ze(s,s.return,te)}try{ui(5,s,s.return)}catch(te){ze(s,s.return,te)}}break;case 1:Vt(o,s),rn(s),h&512&&c!==null&&ns(c,c.return);break;case 5:if(Vt(o,s),rn(s),h&512&&c!==null&&ns(c,c.return),s.flags&32){var g=s.stateNode;try{Rs(g,"")}catch(te){ze(s,s.return,te)}}if(h&4&&(g=s.stateNode,g!=null)){var y=s.memoizedProps,_=c!==null?c.memoizedProps:y,C=s.type,j=s.updateQueue;if(s.updateQueue=null,j!==null)try{C==="input"&&y.type==="radio"&&y.name!=null&&Dd(g,y),_l(C,_);var M=_l(C,y);for(_=0;_<j.length;_+=2){var B=j[_],H=j[_+1];B==="style"?Hd(g,H):B==="dangerouslySetInnerHTML"?zd(g,H):B==="children"?Rs(g,H):T(g,B,H,M)}switch(C){case"input":ml(g,y);break;case"textarea":Fd(g,y);break;case"select":var z=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!y.multiple;var G=y.value;G!=null?Dr(g,!!y.multiple,G,!1):z!==!!y.multiple&&(y.defaultValue!=null?Dr(g,!!y.multiple,y.defaultValue,!0):Dr(g,!!y.multiple,y.multiple?[]:"",!1))}g[Zs]=y}catch(te){ze(s,s.return,te)}}break;case 6:if(Vt(o,s),rn(s),h&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,y=s.memoizedProps;try{g.nodeValue=y}catch(te){ze(s,s.return,te)}}break;case 3:if(Vt(o,s),rn(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Bs(o.containerInfo)}catch(te){ze(s,s.return,te)}break;case 4:Vt(o,s),rn(s);break;case 13:Vt(o,s),rn(s),g=s.child,g.flags&8192&&(y=g.memoizedState!==null,g.stateNode.isHidden=y,!y||g.alternate!==null&&g.alternate.memoizedState!==null||(Kc=Be())),h&4&&ap(s);break;case 22:if(B=c!==null&&c.memoizedState!==null,s.mode&1?(at=(M=at)||B,Vt(o,s),at=M):Vt(o,s),rn(s),h&8192){if(M=s.memoizedState!==null,(s.stateNode.isHidden=M)&&!B&&(s.mode&1)!==0)for(X=s,B=s.child;B!==null;){for(H=X=B;X!==null;){switch(z=X,G=z.child,z.tag){case 0:case 11:case 14:case 15:ui(4,z,z.return);break;case 1:ns(z,z.return);var Z=z.stateNode;if(typeof Z.componentWillUnmount=="function"){h=z,c=z.return;try{o=h,Z.props=o.memoizedProps,Z.state=o.memoizedState,Z.componentWillUnmount()}catch(te){ze(h,c,te)}}break;case 5:ns(z,z.return);break;case 22:if(z.memoizedState!==null){dp(H);continue}}G!==null?(G.return=z,X=G):dp(H)}B=B.sibling}e:for(B=null,H=s;;){if(H.tag===5){if(B===null){B=H;try{g=H.stateNode,M?(y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(C=H.stateNode,j=H.memoizedProps.style,_=j!=null&&j.hasOwnProperty("display")?j.display:null,C.style.display=Bd("display",_))}catch(te){ze(s,s.return,te)}}}else if(H.tag===6){if(B===null)try{H.stateNode.nodeValue=M?"":H.memoizedProps}catch(te){ze(s,s.return,te)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===s)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===s)break e;for(;H.sibling===null;){if(H.return===null||H.return===s)break e;B===H&&(B=null),H=H.return}B===H&&(B=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:Vt(o,s),rn(s),h&4&&ap(s);break;case 21:break;default:Vt(o,s),rn(s)}}function rn(s){var o=s.flags;if(o&2){try{e:{for(var c=s.return;c!==null;){if(sp(c)){var h=c;break e}c=c.return}throw Error(t(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(Rs(g,""),h.flags&=-33);var y=ip(s);Wc(s,y,g);break;case 3:case 4:var _=h.stateNode.containerInfo,C=ip(s);Hc(s,C,_);break;default:throw Error(t(161))}}catch(j){ze(s,s.return,j)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function vx(s,o,c){X=s,cp(s)}function cp(s,o,c){for(var h=(s.mode&1)!==0;X!==null;){var g=X,y=g.child;if(g.tag===22&&h){var _=g.memoizedState!==null||Jo;if(!_){var C=g.alternate,j=C!==null&&C.memoizedState!==null||at;C=Jo;var M=at;if(Jo=_,(at=j)&&!M)for(X=g;X!==null;)_=X,j=_.child,_.tag===22&&_.memoizedState!==null?hp(g):j!==null?(j.return=_,X=j):hp(g);for(;y!==null;)X=y,cp(y),y=y.sibling;X=g,Jo=C,at=M}up(s)}else(g.subtreeFlags&8772)!==0&&y!==null?(y.return=g,X=y):up(s)}}function up(s){for(;X!==null;){var o=X;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:at||Yo(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!at)if(c===null)h.componentDidMount();else{var g=o.elementType===o.type?c.memoizedProps:Ht(o.type,c.memoizedProps);h.componentDidUpdate(g,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&df(o,y,h);break;case 3:var _=o.updateQueue;if(_!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}df(o,_,c)}break;case 5:var C=o.stateNode;if(c===null&&o.flags&4){c=C;var j=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&c.focus();break;case"img":j.src&&(c.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var M=o.alternate;if(M!==null){var B=M.memoizedState;if(B!==null){var H=B.dehydrated;H!==null&&Bs(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}at||o.flags&512&&Bc(o)}catch(z){ze(o,o.return,z)}}if(o===s){X=null;break}if(c=o.sibling,c!==null){c.return=o.return,X=c;break}X=o.return}}function dp(s){for(;X!==null;){var o=X;if(o===s){X=null;break}var c=o.sibling;if(c!==null){c.return=o.return,X=c;break}X=o.return}}function hp(s){for(;X!==null;){var o=X;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{Yo(4,o)}catch(j){ze(o,c,j)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var g=o.return;try{h.componentDidMount()}catch(j){ze(o,g,j)}}var y=o.return;try{Bc(o)}catch(j){ze(o,y,j)}break;case 5:var _=o.return;try{Bc(o)}catch(j){ze(o,_,j)}}}catch(j){ze(o,o.return,j)}if(o===s){X=null;break}var C=o.sibling;if(C!==null){C.return=o.return,X=C;break}X=o.return}}var xx=Math.ceil,Qo=I.ReactCurrentDispatcher,Vc=I.ReactCurrentOwner,It=I.ReactCurrentBatchConfig,we=0,Ge=null,Ve=null,nt=0,Nt=0,rs=Fn(0),Je=0,di=null,pr=0,Go=0,qc=0,hi=null,yt=null,Kc=0,ss=1/0,wn=null,Xo=!1,Jc=null,Wn=null,Zo=!1,Vn=null,ea=0,fi=0,Yc=null,ta=-1,na=0;function ht(){return(we&6)!==0?Be():ta!==-1?ta:ta=Be()}function qn(s){return(s.mode&1)===0?1:(we&2)!==0&&nt!==0?nt&-nt:nx.transition!==null?(na===0&&(na=sh()),na):(s=Ee,s!==0||(s=window.event,s=s===void 0?16:fh(s.type)),s)}function qt(s,o,c,h){if(50<fi)throw fi=0,Yc=null,Error(t(185));Ms(s,c,h),((we&2)===0||s!==Ge)&&(s===Ge&&((we&2)===0&&(Go|=c),Je===4&&Kn(s,nt)),vt(s,h),c===1&&we===0&&(o.mode&1)===0&&(ss=Be()+500,No&&Un()))}function vt(s,o){var c=s.callbackNode;nv(s,o);var h=uo(s,s===Ge?nt:0);if(h===0)c!==null&&th(c),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(c!=null&&th(c),o===1)s.tag===0?tx(pp.bind(null,s)):Xh(pp.bind(null,s)),Gv(function(){(we&6)===0&&Un()}),c=null;else{switch(ih(h)){case 1:c=Pl;break;case 4:c=nh;break;case 16:c=oo;break;case 536870912:c=rh;break;default:c=oo}c=bp(c,fp.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function fp(s,o){if(ta=-1,na=0,(we&6)!==0)throw Error(t(327));var c=s.callbackNode;if(is()&&s.callbackNode!==c)return null;var h=uo(s,s===Ge?nt:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||o)o=ra(s,h);else{o=h;var g=we;we|=2;var y=mp();(Ge!==s||nt!==o)&&(wn=null,ss=Be()+500,mr(s,o));do try{bx();break}catch(C){gp(s,C)}while(!0);fc(),Qo.current=y,we=g,Ve!==null?o=0:(Ge=null,nt=0,o=Je)}if(o!==0){if(o===2&&(g=Tl(s),g!==0&&(h=g,o=Qc(s,g))),o===1)throw c=di,mr(s,0),Kn(s,h),vt(s,Be()),c;if(o===6)Kn(s,h);else{if(g=s.current.alternate,(h&30)===0&&!wx(g)&&(o=ra(s,h),o===2&&(y=Tl(s),y!==0&&(h=y,o=Qc(s,y))),o===1))throw c=di,mr(s,0),Kn(s,h),vt(s,Be()),c;switch(s.finishedWork=g,s.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:yr(s,yt,wn);break;case 3:if(Kn(s,h),(h&130023424)===h&&(o=Kc+500-Be(),10<o)){if(uo(s,0)!==0)break;if(g=s.suspendedLanes,(g&h)!==h){ht(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=nc(yr.bind(null,s,yt,wn),o);break}yr(s,yt,wn);break;case 4:if(Kn(s,h),(h&4194240)===h)break;for(o=s.eventTimes,g=-1;0<h;){var _=31-Ut(h);y=1<<_,_=o[_],_>g&&(g=_),h&=~y}if(h=g,h=Be()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*xx(h/1960))-h,10<h){s.timeoutHandle=nc(yr.bind(null,s,yt,wn),h);break}yr(s,yt,wn);break;case 5:yr(s,yt,wn);break;default:throw Error(t(329))}}}return vt(s,Be()),s.callbackNode===c?fp.bind(null,s):null}function Qc(s,o){var c=hi;return s.current.memoizedState.isDehydrated&&(mr(s,o).flags|=256),s=ra(s,o),s!==2&&(o=yt,yt=c,o!==null&&Gc(o)),s}function Gc(s){yt===null?yt=s:yt.push.apply(yt,s)}function wx(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var g=c[h],y=g.getSnapshot;g=g.value;try{if(!zt(y(),g))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Kn(s,o){for(o&=~qc,o&=~Go,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-Ut(o),h=1<<c;s[c]=-1,o&=~h}}function pp(s){if((we&6)!==0)throw Error(t(327));is();var o=uo(s,0);if((o&1)===0)return vt(s,Be()),null;var c=ra(s,o);if(s.tag!==0&&c===2){var h=Tl(s);h!==0&&(o=h,c=Qc(s,h))}if(c===1)throw c=di,mr(s,0),Kn(s,o),vt(s,Be()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,yr(s,yt,wn),vt(s,Be()),null}function Xc(s,o){var c=we;we|=1;try{return s(o)}finally{we=c,we===0&&(ss=Be()+500,No&&Un())}}function gr(s){Vn!==null&&Vn.tag===0&&(we&6)===0&&is();var o=we;we|=1;var c=It.transition,h=Ee;try{if(It.transition=null,Ee=1,s)return s()}finally{Ee=h,It.transition=c,we=o,(we&6)===0&&Un()}}function Zc(){Nt=rs.current,Oe(rs)}function mr(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,Qv(c)),Ve!==null)for(c=Ve.return;c!==null;){var h=c;switch(lc(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Po();break;case 3:es(),Oe(pt),Oe(st),_c();break;case 5:xc(h);break;case 4:es();break;case 13:Oe(Fe);break;case 19:Oe(Fe);break;case 10:pc(h.type._context);break;case 22:case 23:Zc()}c=c.return}if(Ge=s,Ve=s=Jn(s.current,null),nt=Nt=o,Je=0,di=null,qc=Go=pr=0,yt=hi=null,dr!==null){for(o=0;o<dr.length;o++)if(c=dr[o],h=c.interleaved,h!==null){c.interleaved=null;var g=h.next,y=c.pending;if(y!==null){var _=y.next;y.next=g,h.next=_}c.pending=h}dr=null}return s}function gp(s,o){do{var c=Ve;try{if(fc(),Uo.current=Wo,zo){for(var h=$e.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}zo=!1}if(fr=0,Qe=Ke=$e=null,ii=!1,oi=0,Vc.current=null,c===null||c.return===null){Je=1,di=o,Ve=null;break}e:{var y=s,_=c.return,C=c,j=o;if(o=nt,C.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var M=j,B=C,H=B.tag;if((B.mode&1)===0&&(H===0||H===11||H===15)){var z=B.alternate;z?(B.updateQueue=z.updateQueue,B.memoizedState=z.memoizedState,B.lanes=z.lanes):(B.updateQueue=null,B.memoizedState=null)}var G=Uf(_);if(G!==null){G.flags&=-257,zf(G,_,C,y,o),G.mode&1&&$f(y,M,o),o=G,j=M;var Z=o.updateQueue;if(Z===null){var te=new Set;te.add(j),o.updateQueue=te}else Z.add(j);break e}else{if((o&1)===0){$f(y,M,o),eu();break e}j=Error(t(426))}}else if(Me&&C.mode&1){var He=Uf(_);if(He!==null){(He.flags&65536)===0&&(He.flags|=256),zf(He,_,C,y,o),dc(ts(j,C));break e}}y=j=ts(j,C),Je!==4&&(Je=2),hi===null?hi=[y]:hi.push(y),y=_;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var A=Mf(y,j,o);uf(y,A);break e;case 1:C=j;var N=y.type,D=y.stateNode;if((y.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(Wn===null||!Wn.has(D)))){y.flags|=65536,o&=-o,y.lanes|=o;var q=Ff(y,C,o);uf(y,q);break e}}y=y.return}while(y!==null)}vp(c)}catch(ne){o=ne,Ve===c&&c!==null&&(Ve=c=c.return);continue}break}while(!0)}function mp(){var s=Qo.current;return Qo.current=Wo,s===null?Wo:s}function eu(){(Je===0||Je===3||Je===2)&&(Je=4),Ge===null||(pr&268435455)===0&&(Go&268435455)===0||Kn(Ge,nt)}function ra(s,o){var c=we;we|=2;var h=mp();(Ge!==s||nt!==o)&&(wn=null,mr(s,o));do try{_x();break}catch(g){gp(s,g)}while(!0);if(fc(),we=c,Qo.current=h,Ve!==null)throw Error(t(261));return Ge=null,nt=0,Je}function _x(){for(;Ve!==null;)yp(Ve)}function bx(){for(;Ve!==null&&!K0();)yp(Ve)}function yp(s){var o=_p(s.alternate,s,Nt);s.memoizedProps=s.pendingProps,o===null?vp(s):Ve=o,Vc.current=null}function vp(s){var o=s;do{var c=o.alternate;if(s=o.return,(o.flags&32768)===0){if(c=px(c,o,Nt),c!==null){Ve=c;return}}else{if(c=gx(c,o),c!==null){c.flags&=32767,Ve=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Je=6,Ve=null;return}}if(o=o.sibling,o!==null){Ve=o;return}Ve=o=s}while(o!==null);Je===0&&(Je=5)}function yr(s,o,c){var h=Ee,g=It.transition;try{It.transition=null,Ee=1,Sx(s,o,c,h)}finally{It.transition=g,Ee=h}return null}function Sx(s,o,c,h){do is();while(Vn!==null);if((we&6)!==0)throw Error(t(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var y=c.lanes|c.childLanes;if(rv(s,y),s===Ge&&(Ve=Ge=null,nt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Zo||(Zo=!0,bp(oo,function(){return is(),null})),y=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||y){y=It.transition,It.transition=null;var _=Ee;Ee=1;var C=we;we|=4,Vc.current=null,yx(s,c),lp(c,s),Hv(ec),po=!!Zl,ec=Zl=null,s.current=c,vx(c),J0(),we=C,Ee=_,It.transition=y}else s.current=c;if(Zo&&(Zo=!1,Vn=s,ea=g),y=s.pendingLanes,y===0&&(Wn=null),G0(c.stateNode),vt(s,Be()),o!==null)for(h=s.onRecoverableError,c=0;c<o.length;c++)g=o[c],h(g.value,{componentStack:g.stack,digest:g.digest});if(Xo)throw Xo=!1,s=Jc,Jc=null,s;return(ea&1)!==0&&s.tag!==0&&is(),y=s.pendingLanes,(y&1)!==0?s===Yc?fi++:(fi=0,Yc=s):fi=0,Un(),null}function is(){if(Vn!==null){var s=ih(ea),o=It.transition,c=Ee;try{if(It.transition=null,Ee=16>s?16:s,Vn===null)var h=!1;else{if(s=Vn,Vn=null,ea=0,(we&6)!==0)throw Error(t(331));var g=we;for(we|=4,X=s.current;X!==null;){var y=X,_=y.child;if((X.flags&16)!==0){var C=y.deletions;if(C!==null){for(var j=0;j<C.length;j++){var M=C[j];for(X=M;X!==null;){var B=X;switch(B.tag){case 0:case 11:case 15:ui(8,B,y)}var H=B.child;if(H!==null)H.return=B,X=H;else for(;X!==null;){B=X;var z=B.sibling,G=B.return;if(rp(B),B===M){X=null;break}if(z!==null){z.return=G,X=z;break}X=G}}}var Z=y.alternate;if(Z!==null){var te=Z.child;if(te!==null){Z.child=null;do{var He=te.sibling;te.sibling=null,te=He}while(te!==null)}}X=y}}if((y.subtreeFlags&2064)!==0&&_!==null)_.return=y,X=_;else e:for(;X!==null;){if(y=X,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:ui(9,y,y.return)}var A=y.sibling;if(A!==null){A.return=y.return,X=A;break e}X=y.return}}var N=s.current;for(X=N;X!==null;){_=X;var D=_.child;if((_.subtreeFlags&2064)!==0&&D!==null)D.return=_,X=D;else e:for(_=N;X!==null;){if(C=X,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Yo(9,C)}}catch(ne){ze(C,C.return,ne)}if(C===_){X=null;break e}var q=C.sibling;if(q!==null){q.return=C.return,X=q;break e}X=C.return}}if(we=g,Un(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(ao,s)}catch{}h=!0}return h}finally{Ee=c,It.transition=o}}return!1}function xp(s,o,c){o=ts(c,o),o=Mf(s,o,1),s=Bn(s,o,1),o=ht(),s!==null&&(Ms(s,1,o),vt(s,o))}function ze(s,o,c){if(s.tag===3)xp(s,s,c);else for(;o!==null;){if(o.tag===3){xp(o,s,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Wn===null||!Wn.has(h))){s=ts(c,s),s=Ff(o,s,1),o=Bn(o,s,1),s=ht(),o!==null&&(Ms(o,1,s),vt(o,s));break}}o=o.return}}function kx(s,o,c){var h=s.pingCache;h!==null&&h.delete(o),o=ht(),s.pingedLanes|=s.suspendedLanes&c,Ge===s&&(nt&c)===c&&(Je===4||Je===3&&(nt&130023424)===nt&&500>Be()-Kc?mr(s,0):qc|=c),vt(s,o)}function wp(s,o){o===0&&((s.mode&1)===0?o=1:(o=co,co<<=1,(co&130023424)===0&&(co=4194304)));var c=ht();s=yn(s,o),s!==null&&(Ms(s,o,c),vt(s,c))}function Cx(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),wp(s,c)}function Ex(s,o){var c=0;switch(s.tag){case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),wp(s,c)}var _p;_p=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||pt.current)mt=!0;else{if((s.lanes&c)===0&&(o.flags&128)===0)return mt=!1,fx(s,o,c);mt=(s.flags&131072)!==0}else mt=!1,Me&&(o.flags&1048576)!==0&&Zh(o,Oo,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Ko(s,o),s=o.pendingProps;var g=Kr(o,st.current);Zr(o,c),g=kc(null,o,h,s,g,c);var y=Cc();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,gt(h)?(y=!0,To(o)):y=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,yc(o),g.updater=Vo,o.stateNode=g,g._reactInternals=o,Rc(o,h,s,c),o=Dc(null,o,h,!0,y,c)):(o.tag=0,Me&&y&&ac(o),dt(null,o,g,c),o=o.child),o;case 16:h=o.elementType;e:{switch(Ko(s,o),s=o.pendingProps,g=h._init,h=g(h._payload),o.type=h,g=o.tag=Px(h),s=Ht(h,s),g){case 0:o=Lc(null,o,h,s,c);break e;case 1:o=Kf(null,o,h,s,c);break e;case 11:o=Bf(null,o,h,s,c);break e;case 14:o=Hf(null,o,h,Ht(h.type,s),c);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Ht(h,g),Lc(s,o,h,g,c);case 1:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Ht(h,g),Kf(s,o,h,g,c);case 3:e:{if(Jf(o),s===null)throw Error(t(387));h=o.pendingProps,y=o.memoizedState,g=y.element,cf(s,o),Fo(o,h,null,c);var _=o.memoizedState;if(h=_.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){g=ts(Error(t(423)),o),o=Yf(s,o,h,c,g);break e}else if(h!==g){g=ts(Error(t(424)),o),o=Yf(s,o,h,c,g);break e}else for(Tt=Mn(o.stateNode.containerInfo.firstChild),Pt=o,Me=!0,Bt=null,c=af(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Qr(),h===g){o=xn(s,o,c);break e}dt(s,o,h,c)}o=o.child}return o;case 5:return hf(o),s===null&&uc(o),h=o.type,g=o.pendingProps,y=s!==null?s.memoizedProps:null,_=g.children,tc(h,g)?_=null:y!==null&&tc(h,y)&&(o.flags|=32),qf(s,o),dt(s,o,_,c),o.child;case 6:return s===null&&uc(o),null;case 13:return Qf(s,o,c);case 4:return vc(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=Gr(o,null,h,c):dt(s,o,h,c),o.child;case 11:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Ht(h,g),Bf(s,o,h,g,c);case 7:return dt(s,o,o.pendingProps,c),o.child;case 8:return dt(s,o,o.pendingProps.children,c),o.child;case 12:return dt(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(h=o.type._context,g=o.pendingProps,y=o.memoizedProps,_=g.value,Te(Do,h._currentValue),h._currentValue=_,y!==null)if(zt(y.value,_)){if(y.children===g.children&&!pt.current){o=xn(s,o,c);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var C=y.dependencies;if(C!==null){_=y.child;for(var j=C.firstContext;j!==null;){if(j.context===h){if(y.tag===1){j=vn(-1,c&-c),j.tag=2;var M=y.updateQueue;if(M!==null){M=M.shared;var B=M.pending;B===null?j.next=j:(j.next=B.next,B.next=j),M.pending=j}}y.lanes|=c,j=y.alternate,j!==null&&(j.lanes|=c),gc(y.return,c,o),C.lanes|=c;break}j=j.next}}else if(y.tag===10)_=y.type===o.type?null:y.child;else if(y.tag===18){if(_=y.return,_===null)throw Error(t(341));_.lanes|=c,C=_.alternate,C!==null&&(C.lanes|=c),gc(_,c,o),_=y.sibling}else _=y.child;if(_!==null)_.return=y;else for(_=y;_!==null;){if(_===o){_=null;break}if(y=_.sibling,y!==null){y.return=_.return,_=y;break}_=_.return}y=_}dt(s,o,g.children,c),o=o.child}return o;case 9:return g=o.type,h=o.pendingProps.children,Zr(o,c),g=Lt(g),h=h(g),o.flags|=1,dt(s,o,h,c),o.child;case 14:return h=o.type,g=Ht(h,o.pendingProps),g=Ht(h.type,g),Hf(s,o,h,g,c);case 15:return Wf(s,o,o.type,o.pendingProps,c);case 17:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Ht(h,g),Ko(s,o),o.tag=1,gt(h)?(s=!0,To(o)):s=!1,Zr(o,c),Df(o,h,g),Rc(o,h,g,c),Dc(null,o,h,!0,s,c);case 19:return Xf(s,o,c);case 22:return Vf(s,o,c)}throw Error(t(156,o.tag))};function bp(s,o){return eh(s,o)}function jx(s,o,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(s,o,c,h){return new jx(s,o,c,h)}function tu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Px(s){if(typeof s=="function")return tu(s)?1:0;if(s!=null){if(s=s.$$typeof,s===de)return 11;if(s===pe)return 14}return 2}function Jn(s,o){var c=s.alternate;return c===null?(c=Mt(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function sa(s,o,c,h,g,y){var _=2;if(h=s,typeof s=="function")tu(s)&&(_=1);else if(typeof s=="string")_=5;else e:switch(s){case W:return vr(c.children,g,y,o);case Y:_=8,g|=8;break;case ee:return s=Mt(12,c,o,g|2),s.elementType=ee,s.lanes=y,s;case xe:return s=Mt(13,c,o,g),s.elementType=xe,s.lanes=y,s;case ke:return s=Mt(19,c,o,g),s.elementType=ke,s.lanes=y,s;case ae:return ia(c,g,y,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case se:_=10;break e;case he:_=9;break e;case de:_=11;break e;case pe:_=14;break e;case fe:_=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=Mt(_,c,o,g),o.elementType=s,o.type=h,o.lanes=y,o}function vr(s,o,c,h){return s=Mt(7,s,h,o),s.lanes=c,s}function ia(s,o,c,h){return s=Mt(22,s,h,o),s.elementType=ae,s.lanes=c,s.stateNode={isHidden:!1},s}function nu(s,o,c){return s=Mt(6,s,null,o),s.lanes=c,s}function ru(s,o,c){return o=Mt(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function Tx(s,o,c,h,g){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nl(0),this.expirationTimes=Nl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nl(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function su(s,o,c,h,g,y,_,C,j){return s=new Tx(s,o,c,C,j),o===1?(o=1,y===!0&&(o|=8)):o=0,y=Mt(3,null,null,o),s.current=y,y.stateNode=s,y.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},yc(y),s}function Nx(s,o,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:h==null?null:""+h,children:s,containerInfo:o,implementation:c}}function Sp(s){if(!s)return $n;s=s._reactInternals;e:{if(or(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(gt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(gt(c))return Qh(s,c,o)}return o}function kp(s,o,c,h,g,y,_,C,j){return s=su(c,h,!0,s,g,y,_,C,j),s.context=Sp(null),c=s.current,h=ht(),g=qn(c),y=vn(h,g),y.callback=o??null,Bn(c,y,g),s.current.lanes=g,Ms(s,g,h),vt(s,h),s}function oa(s,o,c,h){var g=o.current,y=ht(),_=qn(g);return c=Sp(c),o.context===null?o.context=c:o.pendingContext=c,o=vn(y,_),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=Bn(g,o,_),s!==null&&(qt(s,g,_,y),Mo(s,g,_)),_}function aa(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Cp(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function iu(s,o){Cp(s,o),(s=s.alternate)&&Cp(s,o)}function Rx(){return null}var Ep=typeof reportError=="function"?reportError:function(s){console.error(s)};function ou(s){this._internalRoot=s}la.prototype.render=ou.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));oa(s,o,null,null)},la.prototype.unmount=ou.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;gr(function(){oa(null,s,null,null)}),o[fn]=null}};function la(s){this._internalRoot=s}la.prototype.unstable_scheduleHydration=function(s){if(s){var o=lh();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Ln.length&&o!==0&&o<Ln[c].priority;c++);Ln.splice(c,0,s),c===0&&dh(s)}};function au(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function ca(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function jp(){}function Ox(s,o,c,h,g){if(g){if(typeof h=="function"){var y=h;h=function(){var M=aa(_);y.call(M)}}var _=kp(o,h,s,0,null,!1,!1,"",jp);return s._reactRootContainer=_,s[fn]=_.current,Gs(s.nodeType===8?s.parentNode:s),gr(),_}for(;g=s.lastChild;)s.removeChild(g);if(typeof h=="function"){var C=h;h=function(){var M=aa(j);C.call(M)}}var j=su(s,0,!1,null,null,!1,!1,"",jp);return s._reactRootContainer=j,s[fn]=j.current,Gs(s.nodeType===8?s.parentNode:s),gr(function(){oa(o,j,c,h)}),j}function ua(s,o,c,h,g){var y=c._reactRootContainer;if(y){var _=y;if(typeof g=="function"){var C=g;g=function(){var j=aa(_);C.call(j)}}oa(o,_,s,g)}else _=Ox(c,o,s,g,h);return aa(_)}oh=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=Is(o.pendingLanes);c!==0&&(Rl(o,c|1),vt(o,Be()),(we&6)===0&&(ss=Be()+500,Un()))}break;case 13:gr(function(){var h=yn(s,1);if(h!==null){var g=ht();qt(h,s,1,g)}}),iu(s,1)}},Ol=function(s){if(s.tag===13){var o=yn(s,134217728);if(o!==null){var c=ht();qt(o,s,134217728,c)}iu(s,134217728)}},ah=function(s){if(s.tag===13){var o=qn(s),c=yn(s,o);if(c!==null){var h=ht();qt(c,s,o,h)}iu(s,o)}},lh=function(){return Ee},ch=function(s,o){var c=Ee;try{return Ee=s,o()}finally{Ee=c}},kl=function(s,o,c){switch(o){case"input":if(ml(s,c),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==s&&h.form===s.form){var g=jo(h);if(!g)throw Error(t(90));Ad(h),ml(h,g)}}}break;case"textarea":Fd(s,c);break;case"select":o=c.value,o!=null&&Dr(s,!!c.multiple,o,!1)}},Kd=Xc,Jd=gr;var Ax={usingClientEntryPoint:!1,Events:[ei,Vr,jo,Vd,qd,Xc]},pi={findFiberByHostInstance:ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lx={bundleType:pi.bundleType,version:pi.version,rendererPackageName:pi.rendererPackageName,rendererConfig:pi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Xd(s),s===null?null:s.stateNode},findFiberByHostInstance:pi.findFiberByHostInstance||Rx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var da=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!da.isDisabled&&da.supportsFiber)try{ao=da.inject(Lx),Zt=da}catch{}}return xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ax,xt.createPortal=function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!au(o))throw Error(t(200));return Nx(s,o,null,c)},xt.createRoot=function(s,o){if(!au(s))throw Error(t(299));var c=!1,h="",g=Ep;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=su(s,1,!1,null,null,c,!1,h,g),s[fn]=o.current,Gs(s.nodeType===8?s.parentNode:s),new ou(o)},xt.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Xd(o),s=s===null?null:s.stateNode,s},xt.flushSync=function(s){return gr(s)},xt.hydrate=function(s,o,c){if(!ca(o))throw Error(t(200));return ua(null,s,o,!0,c)},xt.hydrateRoot=function(s,o,c){if(!au(s))throw Error(t(405));var h=c!=null&&c.hydratedSources||null,g=!1,y="",_=Ep;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(_=c.onRecoverableError)),o=kp(o,null,s,1,c??null,g,!1,y,_),s[fn]=o.current,Gs(s),h)for(s=0;s<h.length;s++)c=h[s],g=c._getVersion,g=g(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,g]:o.mutableSourceEagerHydrationData.push(c,g);return new la(o)},xt.render=function(s,o,c){if(!ca(o))throw Error(t(200));return ua(null,s,o,!1,c)},xt.unmountComponentAtNode=function(s){if(!ca(s))throw Error(t(40));return s._reactRootContainer?(gr(function(){ua(null,null,s,!1,function(){s._reactRootContainer=null,s[fn]=null})}),!0):!1},xt.unstable_batchedUpdates=Xc,xt.unstable_renderSubtreeIntoContainer=function(s,o,c,h){if(!ca(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return ua(s,o,c,!1,h)},xt.version="18.3.1-next-f1338f8080-20240426",xt}var Dp;function Hx(){if(Dp)return uu.exports;Dp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),uu.exports=Bx(),uu.exports}var Ip;function Wx(){if(Ip)return ha;Ip=1;var n=Hx();return ha.createRoot=n.createRoot,ha.hydrateRoot=n.hydrateRoot,ha}var Vx=Wx();const qx=sd(Vx);/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Mp="popstate";function Kx(n={}){function e(r,i){let{pathname:a,search:l,hash:u}=r.location;return Lu("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Ii(i)}return Yx(e,t,null,n)}function Ue(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Yt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Jx(){return Math.random().toString(36).substring(2,10)}function Fp(n,e){return{usr:n.state,key:n.key,idx:e}}function Lu(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ks(e):e,state:t,key:e&&e.key||r||Jx()}}function Ii({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ks(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function Yx(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function v(){u="POP";let b=p(),E=b==null?null:b-f;f=b,d&&d({action:u,location:k.location,delta:E})}function x(b,E){u="PUSH";let O=Lu(k.location,b,E);f=p()+1;let T=Fp(O,f),I=k.createHref(O);try{l.pushState(T,"",I)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(I)}a&&d&&d({action:u,location:k.location,delta:1})}function w(b,E){u="REPLACE";let O=Lu(k.location,b,E);f=p();let T=Fp(O,f),I=k.createHref(O);l.replaceState(T,"",I),a&&d&&d({action:u,location:k.location,delta:0})}function S(b){return Qx(b)}let k={get action(){return u},get location(){return n(i,l)},listen(b){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(Mp,v),d=b,()=>{i.removeEventListener(Mp,v),d=null}},createHref(b){return e(i,b)},createURL:S,encodeLocation(b){let E=S(b);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:x,replace:w,go(b){return l.go(b)}};return k}function Qx(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ue(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Ii(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function Fm(n,e,t="/"){return Gx(n,e,t,!1)}function Gx(n,e,t,r){let i=typeof e=="string"?ks(e):e,a=Pn(i.pathname||"/",t);if(a==null)return null;let l=$m(n);Xx(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=cw(a);u=aw(l[d],f,r)}return u}function $m(n,e=[],t=[],r=""){let i=(a,l,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(Ue(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let f=jn([r,d.relativePath]),p=t.concat(d);a.children&&a.children.length>0&&(Ue(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),$m(a.children,e,p,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:iw(f,a.index),routesMeta:p})};return n.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))i(a,l);else for(let u of Um(a.path))i(a,l,u)}),e}function Um(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=Um(r.join("/")),u=[];return u.push(...l.map(d=>d===""?a:[a,d].join("/"))),i&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function Xx(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:ow(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Zx=/^:[\w-]+$/,ew=3,tw=2,nw=1,rw=10,sw=-2,$p=n=>n==="*";function iw(n,e){let t=n.split("/"),r=t.length;return t.some($p)&&(r+=sw),e&&(r+=tw),t.filter(i=>!$p(i)).reduce((i,a)=>i+(Zx.test(a)?ew:a===""?nw:rw),r)}function ow(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function aw(n,e,t=!1){let{routesMeta:r}=n,i={},a="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,p=a==="/"?e:e.slice(a.length)||"/",v=Fa({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),x=d.route;if(!v&&f&&t&&!r[r.length-1].route.index&&(v=Fa({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:jn([a,v.pathname]),pathnameBase:fw(jn([a,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(a=jn([a,v.pathnameBase]))}return l}function Fa(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=lw(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:v},x)=>{if(p==="*"){let S=u[x]||"";l=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const w=u[x];return v&&!w?f[p]=void 0:f[p]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:n}}function lw(n,e=!1,t=!0){Yt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function cw(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Pn(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function uw(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?ks(n):n;return{pathname:t?t.startsWith("/")?t:dw(t,e):e,search:pw(r),hash:gw(i)}}function dw(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function fu(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hw(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function zm(n){let e=hw(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Bm(n,e,t,r=!1){let i;typeof n=="string"?i=ks(n):(i={...n},Ue(!i.pathname||!i.pathname.includes("?"),fu("?","pathname","search",i)),Ue(!i.pathname||!i.pathname.includes("#"),fu("#","pathname","hash",i)),Ue(!i.search||!i.search.includes("#"),fu("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=t;else{let v=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),v-=1;i.pathname=x.join("/")}u=v>=0?e[v]:"/"}let d=uw(i,u),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var jn=n=>n.join("/").replace(/\/\/+/g,"/"),fw=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),pw=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,gw=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function mw(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Hm=["POST","PUT","PATCH","DELETE"];new Set(Hm);var yw=["GET",...Hm];new Set(yw);var Cs=P.createContext(null);Cs.displayName="DataRouter";var tl=P.createContext(null);tl.displayName="DataRouterState";P.createContext(!1);var Wm=P.createContext({isTransitioning:!1});Wm.displayName="ViewTransition";var vw=P.createContext(new Map);vw.displayName="Fetchers";var xw=P.createContext(null);xw.displayName="Await";var hn=P.createContext(null);hn.displayName="Navigation";var Hi=P.createContext(null);Hi.displayName="Location";var Gt=P.createContext({outlet:null,matches:[],isDataRoute:!1});Gt.displayName="Route";var od=P.createContext(null);od.displayName="RouteError";function ww(n,{relative:e}={}){Ue(Wi(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=P.useContext(hn),{hash:i,pathname:a,search:l}=Vi(n,{relative:e}),u=a;return t!=="/"&&(u=a==="/"?t:jn([t,a])),r.createHref({pathname:u,search:l,hash:i})}function Wi(){return P.useContext(Hi)!=null}function Nn(){return Ue(Wi(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Hi).location}var Vm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qm(n){P.useContext(hn).static||P.useLayoutEffect(n)}function Ar(){let{isDataRoute:n}=P.useContext(Gt);return n?Dw():_w()}function _w(){Ue(Wi(),"useNavigate() may be used only in the context of a <Router> component.");let n=P.useContext(Cs),{basename:e,navigator:t}=P.useContext(hn),{matches:r}=P.useContext(Gt),{pathname:i}=Nn(),a=JSON.stringify(zm(r)),l=P.useRef(!1);return qm(()=>{l.current=!0}),P.useCallback((d,f={})=>{if(Yt(l.current,Vm),!l.current)return;if(typeof d=="number"){t.go(d);return}let p=Bm(d,JSON.parse(a),i,f.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:jn([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,a,i,n])}var bw=P.createContext(null);function Sw(n){let e=P.useContext(Gt).outlet;return e&&P.createElement(bw.Provider,{value:n},e)}function Km(){let{matches:n}=P.useContext(Gt),e=n[n.length-1];return e?e.params:{}}function Vi(n,{relative:e}={}){let{matches:t}=P.useContext(Gt),{pathname:r}=Nn(),i=JSON.stringify(zm(t));return P.useMemo(()=>Bm(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function kw(n,e){return Jm(n,e)}function Jm(n,e,t,r){Ue(Wi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=P.useContext(hn),{matches:a}=P.useContext(Gt),l=a[a.length-1],u=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",p=l&&l.route;{let E=p&&p.path||"";Ym(d,!p||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let v=Nn(),x;if(e){let E=typeof e=="string"?ks(e):e;Ue(f==="/"||E.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${E.pathname}" was given in the \`location\` prop.`),x=E}else x=v;let w=x.pathname||"/",S=w;if(f!=="/"){let E=f.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(E.length).join("/")}let k=Fm(n,{pathname:S});Yt(p||k!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Yt(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=Tw(k&&k.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:jn([f,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:jn([f,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),a,t,r);return e&&b?P.createElement(Hi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},b):b}function Cw(){let n=Lw(),e=mw(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:a},"ErrorBoundary")," or"," ",P.createElement("code",{style:a},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),t?P.createElement("pre",{style:i},t):null,l)}var Ew=P.createElement(Cw,null),jw=class extends P.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?P.createElement(Gt.Provider,{value:this.props.routeContext},P.createElement(od.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Pw({routeContext:n,match:e,children:t}){let r=P.useContext(Cs);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Gt.Provider,{value:n},t)}function Tw(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,a=t?.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&a?.[f.route.id]!==void 0);Ue(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(t)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:v}=t,x=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||x){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,p)=>{let v,x=!1,w=null,S=null;t&&(v=a&&f.route.id?a[f.route.id]:void 0,w=f.route.errorElement||Ew,l&&(u<0&&p===0?(Ym("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,S=null):u===p&&(x=!0,S=f.route.hydrateFallbackElement||null)));let k=e.concat(i.slice(0,p+1)),b=()=>{let E;return v?E=w:x?E=S:f.route.Component?E=P.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=d,P.createElement(Pw,{match:f,routeContext:{outlet:d,matches:k,isDataRoute:t!=null},children:E})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?P.createElement(jw,{location:t.location,revalidation:t.revalidation,component:w,error:v,children:b(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):b()},null)}function ad(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nw(n){let e=P.useContext(Cs);return Ue(e,ad(n)),e}function Rw(n){let e=P.useContext(tl);return Ue(e,ad(n)),e}function Ow(n){let e=P.useContext(Gt);return Ue(e,ad(n)),e}function ld(n){let e=Ow(n),t=e.matches[e.matches.length-1];return Ue(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Aw(){return ld("useRouteId")}function Lw(){let n=P.useContext(od),e=Rw("useRouteError"),t=ld("useRouteError");return n!==void 0?n:e.errors?.[t]}function Dw(){let{router:n}=Nw("useNavigate"),e=ld("useNavigate"),t=P.useRef(!1);return qm(()=>{t.current=!0}),P.useCallback(async(i,a={})=>{Yt(t.current,Vm),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var Up={};function Ym(n,e,t){!e&&!Up[n]&&(Up[n]=!0,Yt(!1,t))}P.memo(Iw);function Iw({routes:n,future:e,state:t}){return Jm(n,void 0,t,e)}function Qm(n){return Sw(n.context)}function ft(n){Ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Mw({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:a=!1}){Ue(!Wi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=P.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof t=="string"&&(t=ks(t));let{pathname:d="/",search:f="",hash:p="",state:v=null,key:x="default"}=t,w=P.useMemo(()=>{let S=Pn(d,l);return S==null?null:{location:{pathname:S,search:f,hash:p,state:v,key:x},navigationType:r}},[l,d,f,p,v,x,r]);return Yt(w!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:P.createElement(hn.Provider,{value:u},P.createElement(Hi.Provider,{children:e,value:w}))}function Gm({children:n,location:e}){return kw(Du(n),e)}function Du(n,e=[]){let t=[];return P.Children.forEach(n,(r,i)=>{if(!P.isValidElement(r))return;let a=[...e,i];if(r.type===P.Fragment){t.push.apply(t,Du(r.props.children,a));return}Ue(r.type===ft,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ue(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Du(r.props.children,a)),t.push(l)}),t}var Ra="get",Oa="application/x-www-form-urlencoded";function nl(n){return n!=null&&typeof n.tagName=="string"}function Fw(n){return nl(n)&&n.tagName.toLowerCase()==="button"}function $w(n){return nl(n)&&n.tagName.toLowerCase()==="form"}function Uw(n){return nl(n)&&n.tagName.toLowerCase()==="input"}function zw(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Bw(n,e){return n.button===0&&(!e||e==="_self")&&!zw(n)}function Iu(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function Hw(n,e){let t=Iu(n);return e&&e.forEach((r,i)=>{t.has(i)||e.getAll(i).forEach(a=>{t.append(i,a)})}),t}var fa=null;function Ww(){if(fa===null)try{new FormData(document.createElement("form"),0),fa=!1}catch{fa=!0}return fa}var Vw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pu(n){return n!=null&&!Vw.has(n)?(Yt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Oa}"`),null):n}function qw(n,e){let t,r,i,a,l;if($w(n)){let u=n.getAttribute("action");r=u?Pn(u,e):null,t=n.getAttribute("method")||Ra,i=pu(n.getAttribute("enctype"))||Oa,a=new FormData(n)}else if(Fw(n)||Uw(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(r=d?Pn(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||Ra,i=pu(n.getAttribute("formenctype"))||pu(u.getAttribute("enctype"))||Oa,a=new FormData(u,n),!Ww()){let{name:f,type:p,value:v}=n;if(p==="image"){let x=f?`${f}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else f&&a.append(f,v)}}else{if(nl(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ra,r=null,i=Oa,l=n}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cd(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Kw(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Pn(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function Jw(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Yw(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Qw(n,e,t){let r=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await Jw(a,t);return l.links?l.links():[]}return[]}));return e_(r.flat(1).filter(Yw).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function zp(n,e,t,r,i,a){let l=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,u=(d,f)=>t[f].pathname!==d.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,f)=>l(d,f)||u(d,f)):a==="data"?e.filter((d,f)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Gw(n,e,{includeHydrateFallback:t}={}){return Xw(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function Xw(n){return[...new Set(n)]}function Zw(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function e_(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let a=JSON.stringify(Zw(i));return t.has(a)||(t.add(a),r.push({key:a,link:i})),r},[])}function Xm(){let n=P.useContext(Cs);return cd(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function t_(){let n=P.useContext(tl);return cd(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ud=P.createContext(void 0);ud.displayName="FrameworkContext";function Zm(){let n=P.useContext(ud);return cd(n,"You must render this element inside a <HydratedRouter> element"),n}function n_(n,e){let t=P.useContext(ud),[r,i]=P.useState(!1),[a,l]=P.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:v}=e,x=P.useRef(null);P.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let k=E=>{E.forEach(O=>{l(O.isIntersecting)})},b=new IntersectionObserver(k,{threshold:.5});return x.current&&b.observe(x.current),()=>{b.disconnect()}}},[n]),P.useEffect(()=>{if(r){let k=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(k)}}},[r]);let w=()=>{i(!0)},S=()=>{i(!1),l(!1)};return t?n!=="intent"?[a,x,{}]:[a,x,{onFocus:mi(u,w),onBlur:mi(d,S),onMouseEnter:mi(f,w),onMouseLeave:mi(p,S),onTouchStart:mi(v,w)}]:[!1,x,{}]}function mi(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function r_({page:n,...e}){let{router:t}=Xm(),r=P.useMemo(()=>Fm(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?P.createElement(i_,{page:n,matches:r,...e}):null}function s_(n){let{manifest:e,routeModules:t}=Zm(),[r,i]=P.useState([]);return P.useEffect(()=>{let a=!1;return Qw(n,e,t).then(l=>{a||i(l)}),()=>{a=!0}},[n,e,t]),r}function i_({page:n,matches:e,...t}){let r=Nn(),{manifest:i,routeModules:a}=Zm(),{basename:l}=Xm(),{loaderData:u,matches:d}=t_(),f=P.useMemo(()=>zp(n,e,d,i,r,"data"),[n,e,d,i,r]),p=P.useMemo(()=>zp(n,e,d,i,r,"assets"),[n,e,d,i,r]),v=P.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let S=new Set,k=!1;if(e.forEach(E=>{let O=i.routes[E.route.id];!O||!O.hasLoader||(!f.some(T=>T.route.id===E.route.id)&&E.route.id in u&&a[E.route.id]?.shouldRevalidate||O.hasClientLoader?k=!0:S.add(E.route.id))}),S.size===0)return[];let b=Kw(n,l,"data");return k&&S.size>0&&b.searchParams.set("_routes",e.filter(E=>S.has(E.route.id)).map(E=>E.route.id).join(",")),[b.pathname+b.search]},[l,u,r,i,f,e,n,a]),x=P.useMemo(()=>Gw(p,i),[p,i]),w=s_(p);return P.createElement(P.Fragment,null,v.map(S=>P.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),x.map(S=>P.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),w.map(({key:S,link:k})=>P.createElement("link",{key:S,...k})))}function o_(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ey=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ey&&(window.__reactRouterVersion="7.7.0")}catch{}function a_({basename:n,children:e,window:t}){let r=P.useRef();r.current==null&&(r.current=Kx({window:t,v5Compat:!0}));let i=r.current,[a,l]=P.useState({action:i.action,location:i.location}),u=P.useCallback(d=>{P.startTransition(()=>l(d))},[l]);return P.useLayoutEffect(()=>i.listen(u),[i,u]),P.createElement(Mw,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:i})}var ty=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ny=P.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:v,...x},w){let{basename:S}=P.useContext(hn),k=typeof f=="string"&&ty.test(f),b,E=!1;if(typeof f=="string"&&k&&(b=f,ey))try{let ee=new URL(window.location.href),se=f.startsWith("//")?new URL(ee.protocol+f):new URL(f),he=Pn(se.pathname,S);se.origin===ee.origin&&he!=null?f=he+se.search+se.hash:E=!0}catch{Yt(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=ww(f,{relative:i}),[T,I,L]=n_(r,x),$=u_(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:i,viewTransition:v});function W(ee){e&&e(ee),ee.defaultPrevented||$(ee)}let Y=P.createElement("a",{...x,...L,href:b||O,onClick:E||a?e:W,ref:o_(w,I),target:d,"data-discover":!k&&t==="render"?"true":void 0});return T&&!k?P.createElement(P.Fragment,null,Y,P.createElement(r_,{page:O})):Y});ny.displayName="Link";var ry=P.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:u,children:d,...f},p){let v=Vi(l,{relative:f.relative}),x=Nn(),w=P.useContext(tl),{navigator:S,basename:k}=P.useContext(hn),b=w!=null&&m_(v)&&u===!0,E=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,O=x.pathname,T=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(O=O.toLowerCase(),T=T?T.toLowerCase():null,E=E.toLowerCase()),T&&k&&(T=Pn(T,k)||T);const I=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let L=O===E||!i&&O.startsWith(E)&&O.charAt(I)==="/",$=T!=null&&(T===E||!i&&T.startsWith(E)&&T.charAt(E.length)==="/"),W={isActive:L,isPending:$,isTransitioning:b},Y=L?e:void 0,ee;typeof r=="function"?ee=r(W):ee=[r,L?"active":null,$?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let se=typeof a=="function"?a(W):a;return P.createElement(ny,{...f,"aria-current":Y,className:ee,ref:p,style:se,to:l,viewTransition:u},typeof d=="function"?d(W):d)});ry.displayName="NavLink";var l_=P.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:a,method:l=Ra,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:v,...x},w)=>{let S=p_(),k=g_(u,{relative:f}),b=l.toLowerCase()==="get"?"get":"post",E=typeof u=="string"&&ty.test(u),O=T=>{if(d&&d(T),T.defaultPrevented)return;T.preventDefault();let I=T.nativeEvent.submitter,L=I?.getAttribute("formmethod")||l;S(I||T.currentTarget,{fetcherKey:e,method:L,navigate:t,replace:i,state:a,relative:f,preventScrollReset:p,viewTransition:v})};return P.createElement("form",{ref:w,method:b,action:k,onSubmit:r?d:O,...x,"data-discover":!E&&n==="render"?"true":void 0})});l_.displayName="Form";function c_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sy(n){let e=P.useContext(Cs);return Ue(e,c_(n)),e}function u_(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let u=Ar(),d=Nn(),f=Vi(n,{relative:a});return P.useCallback(p=>{if(Bw(p,e)){p.preventDefault();let v=t!==void 0?t:Ii(d)===Ii(f);u(n,{replace:v,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[d,u,f,t,r,e,n,i,a,l])}function d_(n){Yt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=P.useRef(Iu(n)),t=P.useRef(!1),r=Nn(),i=P.useMemo(()=>Hw(r.search,t.current?null:e.current),[r.search]),a=Ar(),l=P.useCallback((u,d)=>{const f=Iu(typeof u=="function"?u(new URLSearchParams(i)):u);t.current=!0,a("?"+f,d)},[a,i]);return[i,l]}var h_=0,f_=()=>`__${String(++h_)}__`;function p_(){let{router:n}=sy("useSubmit"),{basename:e}=P.useContext(hn),t=Aw();return P.useCallback(async(r,i={})=>{let{action:a,method:l,encType:u,formData:d,body:f}=qw(r,e);if(i.navigate===!1){let p=i.fetcherKey||f_();await n.fetch(p,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function g_(n,{relative:e}={}){let{basename:t}=P.useContext(hn),r=P.useContext(Gt);Ue(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Vi(n||".",{relative:e})},l=Nn();if(n==null){a.search=l.search;let u=new URLSearchParams(a.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(v=>v).forEach(v=>u.append("index",v));let p=u.toString();a.search=p?`?${p}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:jn([t,a.pathname])),Ii(a)}function m_(n,e={}){let t=P.useContext(Wm);Ue(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=sy("useViewTransitionState"),i=Vi(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Pn(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Pn(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Fa(i.pathname,l)!=null||Fa(i.pathname,a)!=null}const y_=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var e=Math.random()*16|0,t=n=="x"?e:e&3|8;return t.toString(16)}),v_=()=>{const[n,e]=P.useState([{from:"bot",text:"Ol! Sou o seu assistente virtual. Como posso ajudar?"}]),[t,r]=P.useState(""),[i,a]=P.useState(!1),[l,u]=P.useState(null),[d,f]=P.useState("placeholder_visitor_id");P.useEffect(()=>{u(y_())},[]);const p=async()=>{if(t.trim()){const v={from:"user",text:t};e(x=>[...x,v]),r(""),a(!0);try{const S={from:"bot",text:(await(await fetch("http://localhost:3006/api/chat",{method:"POST",headers:{"Content-Type":"application/json","x-client-id":"client-abc"},body:JSON.stringify({query:t,context:null,session_id:l,visitor_id:d})})).json()).response};e(k=>[...k,S])}catch(x){console.error("Failed to send message:",x);const w={from:"bot",text:"Sorry, I am having trouble connecting."};e(S=>[...S,w])}finally{a(!1)}}};return m.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-100",children:m.jsxs(Card,{className:"w-[440px] h-[700px] grid grid-rows-[auto,1fr,auto]",children:[m.jsx(CardHeader,{children:m.jsx(CardTitle,{children:"Chatbot"})}),m.jsxs(CardContent,{className:"space-y-4 overflow-y-auto",children:[n.map((v,x)=>m.jsxs("div",{className:`flex items-end gap-2 ${v.from==="user"?"justify-end":""}`,children:[v.from==="bot"&&m.jsxs(Avatar,{className:"h-8 w-8",children:[m.jsx(AvatarImage,{src:"/placeholder-user.jpg"}),m.jsx(AvatarFallback,{children:"CB"})]}),m.jsx("div",{className:`rounded-lg px-3 py-2 ${v.from==="user"?"bg-blue-500 text-white":"bg-gray-200 text-gray-900"}`,children:m.jsx("p",{className:"text-sm",children:v.text})}),v.from==="user"&&m.jsxs(Avatar,{className:"h-8 w-8",children:[m.jsx(AvatarImage,{src:"/placeholder-user.jpg"}),m.jsx(AvatarFallback,{children:"YOU"})]})]},x)),i&&m.jsxs("div",{className:"flex items-end gap-2",children:[m.jsxs(Avatar,{className:"h-8 w-8",children:[m.jsx(AvatarImage,{src:"/placeholder-user.jpg"}),m.jsx(AvatarFallback,{children:"CB"})]}),m.jsx("div",{className:"rounded-lg px-3 py-2 bg-gray-200 text-gray-900",children:m.jsx("p",{className:"text-sm",children:"..."})})]})]}),m.jsxs(CardFooter,{className:"flex items-center gap-2",children:[m.jsx(Input,{placeholder:"",value:t,onChange:v=>r(v.target.value),onKeyPress:v=>v.key==="Enter"&&p(),disabled:i}),m.jsx(Button,{onClick:p,disabled:i,children:"Send"})]})]})})};function x_(){return m.jsx(v_,{})}const w_="modulepreload",__=function(n){return"/"+n},Bp={},qi=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let f=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};var l=f;document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");i=f(t.map(p=>{if(p=__(p),p in Bp)return;Bp[p]=!0;const v=p.endsWith(".css"),x=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${x}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":w_,v||(w.as="script"),w.crossOrigin="",w.href=p,d&&w.setAttribute("nonce",d),document.head.appendChild(w),v)return new Promise((S,k)=>{w.addEventListener("load",S),w.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return i.then(u=>{for(const d of u||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})},b_=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>qi(async()=>{const{default:r}=await Promise.resolve().then(()=>Es);return{default:r}},[]).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class dd extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class S_ extends dd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Hp extends dd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Wp extends dd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Mu;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Mu||(Mu={}));var k_=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function u(p){try{f(r.next(p))}catch(v){l(v)}}function d(p){try{f(r.throw(p))}catch(v){l(v)}}function f(p){p.done?a(p.value):i(p.value).then(u,d)}f((r=r.apply(n,e||[])).next())})};class C_{constructor(e,{headers:t={},customFetch:r,region:i=Mu.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=b_(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return k_(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:l}=t;let u={},{region:d}=t;d||(d=this.region);const f=new URL(`${this.url}/${e}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let p;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",p=l):typeof l=="string"?(u["Content-Type"]="text/plain",p=l):typeof FormData<"u"&&l instanceof FormData?p=l:(u["Content-Type"]="application/json",p=JSON.stringify(l)));const v=yield this.fetch(f.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:p}).catch(k=>{throw new S_(k)}),x=v.headers.get("x-relay-error");if(x&&x==="true")throw new Hp(v);if(!v.ok)throw new Wp(v);let w=((r=v.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),S;return w==="application/json"?S=yield v.json():w==="application/octet-stream"?S=yield v.blob():w==="text/event-stream"?S=v:w==="multipart/form-data"?S=yield v.formData():S=yield v.text(),{data:S,error:null,response:v}}catch(i){return{data:null,error:i,response:i instanceof Wp||i instanceof Hp?i.context:void 0}}})}}var Ze={},os={},as={},ls={},cs={},us={},E_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},bs=E_();const j_=bs.fetch,iy=bs.fetch.bind(bs),oy=bs.Headers,P_=bs.Request,T_=bs.Response,Es=Object.freeze(Object.defineProperty({__proto__:null,Headers:oy,Request:P_,Response:T_,default:iy,fetch:j_},Symbol.toStringTag,{value:"Module"})),N_=Ix(Es);var pa={},Vp;function ay(){if(Vp)return pa;Vp=1,Object.defineProperty(pa,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return pa.default=n,pa}var qp;function ly(){if(qp)return us;qp=1;var n=us&&us.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(us,"__esModule",{value:!0});const e=n(N_),t=n(ay());class r{constructor(a){this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=a.headers,this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=a.shouldThrowOnError,this.signal=a.signal,this.isMaybeSingle=a.isMaybeSingle,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,l){return this.headers=Object.assign({},this.headers),this.headers[a]=l,this}then(a,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var p,v,x;let w=null,S=null,k=null,b=f.status,E=f.statusText;if(f.ok){if(this.method!=="HEAD"){const L=await f.text();L===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?S=L:S=JSON.parse(L))}const T=(p=this.headers.Prefer)===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),I=(v=f.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");T&&I&&I.length>1&&(k=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(w={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,k=null,b=406,E="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const T=await f.text();try{w=JSON.parse(T),Array.isArray(w)&&f.status===404&&(S=[],w=null,b=200,E="OK")}catch{f.status===404&&T===""?(b=204,E="No Content"):w={message:T}}if(w&&this.isMaybeSingle&&(!((x=w?.details)===null||x===void 0)&&x.includes("0 rows"))&&(w=null,b=200,E="OK"),w&&this.shouldThrowOnError)throw new t.default(w)}return{error:w,data:S,count:k,status:b,statusText:E}});return this.shouldThrowOnError||(d=d.catch(f=>{var p,v,x;return{error:{message:`${(p=f?.name)!==null&&p!==void 0?p:"FetchError"}: ${f?.message}`,details:`${(v=f?.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(x=f?.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),d.then(a,l)}returns(){return this}overrideTypes(){return this}}return us.default=r,us}var Kp;function cy(){if(Kp)return cs;Kp=1;var n=cs&&cs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(cs,"__esModule",{value:!0});const e=n(ly());class t extends e.default{select(i){let a=!1;const l=(i??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:a=!0,nullsFirst:l,foreignTable:u,referencedTable:d=u}={}){const f=d?`${d}.order`:"order",p=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${p?`${p},`:""}${i}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:l=a}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,a,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(f,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:a=!1,settings:l=!1,buffers:u=!1,wal:d=!1,format:f="text"}={}){var p;const v=[i?"analyze":null,a?"verbose":null,l?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),x=(p=this.headers.Accept)!==null&&p!==void 0?p:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${f}; for="${x}"; options=${v};`,f==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return cs.default=t,cs}var Jp;function hd(){if(Jp)return ls;Jp=1;var n=ls&&ls.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ls,"__esModule",{value:!0});const e=n(cy());class t extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const l=Array.from(new Set(a)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:l,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${d}fts${f}.${a}`),this}match(i){return Object.entries(i).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(i,a,l){return this.url.searchParams.append(i,`not.${a}.${l}`),this}or(i,{foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,a,l){return this.url.searchParams.append(i,`${a}.${l}`),this}}return ls.default=t,ls}var Yp;function uy(){if(Yp)return as;Yp=1;var n=as&&as.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(as,"__esModule",{value:!0});const e=n(hd());class t{constructor(i,{headers:a={},schema:l,fetch:u}){this.url=i,this.headers=a,this.schema=l,this.fetch=u}select(i,{head:a=!1,count:l}={}){const u=a?"HEAD":"GET";let d=!1;const f=(i??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",f),l&&(this.headers.Prefer=`count=${l}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:a,defaultToNull:l=!0}={}){const u="POST",d=[];if(this.headers.Prefer&&d.push(this.headers.Prefer),a&&d.push(`count=${a}`),l||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(i)){const f=i.reduce((p,v)=>p.concat(Object.keys(v)),[]);if(f.length>0){const p=[...new Set(f)].map(v=>`"${v}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:a,ignoreDuplicates:l=!1,count:u,defaultToNull:d=!0}={}){const f="POST",p=[`resolution=${l?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&p.push(this.headers.Prefer),u&&p.push(`count=${u}`),d||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(i)){const v=i.reduce((x,w)=>x.concat(Object.keys(w)),[]);if(v.length>0){const x=[...new Set(v)].map(w=>`"${w}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:a}={}){const l="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),this.headers.Prefer=u.join(","),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const a="DELETE",l=[];return i&&l.push(`count=${i}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return as.default=t,as}var yi={},vi={},Qp;function R_(){return Qp||(Qp=1,Object.defineProperty(vi,"__esModule",{value:!0}),vi.version=void 0,vi.version="0.0.0-automated"),vi}var Gp;function O_(){if(Gp)return yi;Gp=1,Object.defineProperty(yi,"__esModule",{value:!0}),yi.DEFAULT_HEADERS=void 0;const n=R_();return yi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`},yi}var Xp;function A_(){if(Xp)return os;Xp=1;var n=os&&os.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(os,"__esModule",{value:!0});const e=n(uy()),t=n(hd()),r=O_();class i{constructor(l,{headers:u={},schema:d,fetch:f}={}){this.url=l,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),u),this.schemaName=d,this.fetch=f}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new i(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:d=!1,get:f=!1,count:p}={}){let v;const x=new URL(`${this.url}/rpc/${l}`);let w;d||f?(v=d?"HEAD":"GET",Object.entries(u).filter(([k,b])=>b!==void 0).map(([k,b])=>[k,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([k,b])=>{x.searchParams.append(k,b)})):(v="POST",w=u);const S=Object.assign({},this.headers);return p&&(S.Prefer=`count=${p}`),new t.default({method:v,url:x,headers:S,schema:this.schemaName,body:w,fetch:this.fetch,allowEmpty:!1})}}return os.default=i,os}var Zp;function L_(){if(Zp)return Ze;Zp=1;var n=Ze&&Ze.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.PostgrestError=Ze.PostgrestBuilder=Ze.PostgrestTransformBuilder=Ze.PostgrestFilterBuilder=Ze.PostgrestQueryBuilder=Ze.PostgrestClient=void 0;const e=n(A_());Ze.PostgrestClient=e.default;const t=n(uy());Ze.PostgrestQueryBuilder=t.default;const r=n(hd());Ze.PostgrestFilterBuilder=r.default;const i=n(cy());Ze.PostgrestTransformBuilder=i.default;const a=n(ly());Ze.PostgrestBuilder=a.default;const l=n(ay());return Ze.PostgrestError=l.default,Ze.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:l.default},Ze}var D_=L_();const I_=sd(D_),{PostgrestClient:M_,PostgrestQueryBuilder:IP,PostgrestFilterBuilder:MP,PostgrestTransformBuilder:FP,PostgrestBuilder:$P,PostgrestError:UP}=I_;function F_(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const $_=F_(),U_="2.11.15",z_=`realtime-js/${U_}`,B_="1.0.0",dy=1e4,H_=1e3;var Ni;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Ni||(Ni={}));var lt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(lt||(lt={}));var Jt;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Jt||(Jt={}));var Fu;(function(n){n.websocket="websocket"})(Fu||(Fu={}));var Er;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Er||(Er={}));class W_{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const i=t.getUint8(1),a=t.getUint8(2);let l=this.HEADER_LENGTH+2;const u=r.decode(e.slice(l,l+i));l=l+i;const d=r.decode(e.slice(l,l+a));l=l+a;const f=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{ref:null,topic:u,event:d,payload:f}}}class hy{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ne;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ne||(Ne={}));const eg=(n,e,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,l)=>(a[l]=V_(l,n,e,i),a),{})},V_=(n,e,t,r)=>{const i=e.find(u=>u.name===n),a=i?.type,l=t[n];return a&&!r.includes(a)?fy(a,l):$u(l)},fy=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return Y_(e,t)}switch(n){case Ne.bool:return q_(e);case Ne.float4:case Ne.float8:case Ne.int2:case Ne.int4:case Ne.int8:case Ne.numeric:case Ne.oid:return K_(e);case Ne.json:case Ne.jsonb:return J_(e);case Ne.timestamp:return Q_(e);case Ne.abstime:case Ne.date:case Ne.daterange:case Ne.int4range:case Ne.int8range:case Ne.money:case Ne.reltime:case Ne.text:case Ne.time:case Ne.timestamptz:case Ne.timetz:case Ne.tsrange:case Ne.tstzrange:return $u(e);default:return $u(e)}},$u=n=>n,q_=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},K_=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},J_=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},Y_=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let a;const l=n.slice(1,t);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(u=>fy(e,u))}return n},Q_=n=>typeof n=="string"?n.replace(" ","T"):n,py=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class gu{constructor(e,t,r={},i=dy){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var tg;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(tg||(tg={}));class Ri{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ri.syncState(this.state,i,a,l),this.pendingDiffs.forEach(d=>{this.state=Ri.syncDiff(this.state,d,a,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ri.syncDiff(this.state,i,a,l),u())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){const a=this.cloneDeep(e),l=this.transformState(t),u={},d={};return this.map(a,(f,p)=>{l[f]||(d[f]=p)}),this.map(l,(f,p)=>{const v=a[f];if(v){const x=p.map(b=>b.presence_ref),w=v.map(b=>b.presence_ref),S=p.filter(b=>w.indexOf(b.presence_ref)<0),k=v.filter(b=>x.indexOf(b.presence_ref)<0);S.length>0&&(u[f]=S),k.length>0&&(d[f]=k)}else u[f]=p}),this.syncDiff(a,{joins:u,leaves:d},r,i)}static syncDiff(e,t,r,i){const{joins:a,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(u,d)=>{var f;const p=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(d),p.length>0){const v=e[u].map(w=>w.presence_ref),x=p.filter(w=>v.indexOf(w.presence_ref)<0);e[u].unshift(...x)}r(u,p,d)}),this.map(l,(u,d)=>{let f=e[u];if(!f)return;const p=d.map(v=>v.presence_ref);f=f.filter(v=>p.indexOf(v.presence_ref)<0),e[u]=f,i(u,f,d),f.length===0&&delete e[u]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const i=e[r];return"metas"in i?t[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ng;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(ng||(ng={}));var rg;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(rg||(rg={}));var Cn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Cn||(Cn={}));class fd{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new gu(this,Jt.join,this.params,this.timeout),this.rejoinTimer=new hy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jt.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Ri(this),this.broadcastEndpointURL=py(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==lt.closed){const{config:{broadcast:a,presence:l,private:u}}=this.params;this._onError(p=>e?.(Cn.CHANNEL_ERROR,p)),this._onClose(()=>e?.(Cn.CLOSED));const d={},f={broadcast:a,presence:l,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],private:u};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket.setAuth(),p===void 0){e?.(Cn.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,w=(v=x?.length)!==null&&v!==void 0?v:0,S=[];for(let k=0;k<w;k++){const b=x[k],{filter:{event:E,schema:O,table:T,filter:I}}=b,L=p&&p[k];if(L&&L.event===E&&L.schema===O&&L.table===T&&L.filter===I)S.push(Object.assign(Object.assign({},b),{id:L.id}));else{this.unsubscribe(),this.state=lt.errored,e?.(Cn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(Cn.SUBSCRIBED);return}}).receive("error",p=>{this.state=lt.errored,e?.(Cn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e?.(Cn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:l}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,u,d;const f=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=lt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new gu(this,Jt.leave,{},e),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(a),l}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new gu(this,e,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,a;const l=e.toLocaleLowerCase(),{close:u,error:d,leave:f,join:p}=Jt;if(r&&[u,d,f,p].indexOf(l)>=0&&r!==this._joinRef())return;let x=this._onMessage(l,t,r);if(t&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(w=>{var S,k,b;return((S=w.filter)===null||S===void 0?void 0:S.event)==="*"||((b=(k=w.filter)===null||k===void 0?void 0:k.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===l}).map(w=>w.callback(x,r)):(a=this.bindings[l])===null||a===void 0||a.filter(w=>{var S,k,b,E,O,T;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in w){const I=w.id,L=(S=w.filter)===null||S===void 0?void 0:S.event;return I&&((k=t.ids)===null||k===void 0?void 0:k.includes(I))&&(L==="*"||L?.toLocaleLowerCase()===((b=t.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const I=(O=(E=w?.filter)===null||E===void 0?void 0:E.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return I==="*"||I===((T=t?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===l}).map(w=>{if(typeof x=="object"&&"ids"in x){const S=x.data,{schema:k,table:b,commit_timestamp:E,type:O,errors:T}=S;x=Object.assign(Object.assign({},{schema:k,table:b,commit_timestamp:E,eventType:O,new:{},old:{},errors:T}),this._getPayloadRecords(S))}w.callback(x,r)})}_isClosed(){return this.state===lt.closed}_isJoined(){return this.state===lt.joined}_isJoining(){return this.state===lt.joining}_isLeaving(){return this.state===lt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const i=e.toLocaleLowerCase(),a={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&fd.isEqual(i.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Jt.close,{},e)}_onError(e){this._on(Jt.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=eg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=eg(e.columns,e.old_record)),t}}const sg=()=>{},G_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class X_{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=dy,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=sg,this.ref=0,this.logger=sg,this.conn=null,this.sendBuffer=[],this.serializer=new W_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let l;return a?l=a:typeof fetch>"u"?l=(...u)=>qi(async()=>{const{default:d}=await Promise.resolve().then(()=>Es);return{default:d}},void 0).then(({default:d})=>d(...u)):l=fetch,(...u)=>l(...u)},this.endPoint=`${e}/${Fu.websocket}`,this.httpEndpoint=py(e),t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=(r=t?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=t?.encode?t.encode:(a,l)=>l(JSON.stringify(a)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new hy(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch),t?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=t?.worker||!1,this.workerUrl=t?.workerUrl}this.accessToken=t?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=$_),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:B_}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ni.connecting:return Er.Connecting;case Ni.open:return Er.Open;case Ni.closing:return Er.Closing;default:return Er.Closed}}isConnected(){return this.connectionState()===Er.Open}channel(e,t={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new fd(`realtime:${e}`,t,this);return this.channels.push(a),a}}push(e){const{topic:t,event:r,payload:i,ref:a}=e,l=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${t} ${r} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{const i={access_token:t,version:z_};t&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Jt.access_token,{access_token:t})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(H_,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:i,payload:a,ref:l}=t;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${i} ${l&&"("+l+")"||""}`,a),Array.from(this.channels).filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,a,l)),this.stateChangeCallbacks.message.forEach(u=>u(t))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Jt.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([G_],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}class pd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function et(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class Z_ extends pd{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Uu extends pd{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var eb=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function u(p){try{f(r.next(p))}catch(v){l(v)}}function d(p){try{f(r.throw(p))}catch(v){l(v)}}function f(p){p.done?a(p.value):i(p.value).then(u,d)}f((r=r.apply(n,e||[])).next())})};const gy=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>qi(async()=>{const{default:r}=await Promise.resolve().then(()=>Es);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},tb=()=>eb(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qi(()=>Promise.resolve().then(()=>Es),void 0)).Response:Response}),zu=n=>{if(Array.isArray(n))return n.map(t=>zu(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const i=t.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=zu(r)}),e};var Lr=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function u(p){try{f(r.next(p))}catch(v){l(v)}}function d(p){try{f(r.throw(p))}catch(v){l(v)}}function f(p){p.done?a(p.value):i(p.value).then(u,d)}f((r=r.apply(n,e||[])).next())})};const mu=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),nb=(n,e,t)=>Lr(void 0,void 0,void 0,function*(){const r=yield tb();n instanceof r&&!t?.noResolveJson?n.json().then(i=>{e(new Z_(mu(i),n.status||500))}).catch(i=>{e(new Uu(mu(i),i))}):e(new Uu(mu(n),n))}),rb=(n,e,t,r)=>{const i={method:n,headers:e?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),t))};function Ki(n,e,t,r,i,a){return Lr(this,void 0,void 0,function*(){return new Promise((l,u)=>{n(t,rb(e,r,i,a)).then(d=>{if(!d.ok)throw d;return r?.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>nb(d,u,r))})})}function $a(n,e,t,r){return Lr(this,void 0,void 0,function*(){return Ki(n,"GET",e,t,r)})}function Xn(n,e,t,r,i){return Lr(this,void 0,void 0,function*(){return Ki(n,"POST",e,r,i,t)})}function sb(n,e,t,r,i){return Lr(this,void 0,void 0,function*(){return Ki(n,"PUT",e,r,i,t)})}function ib(n,e,t,r){return Lr(this,void 0,void 0,function*(){return Ki(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function my(n,e,t,r,i){return Lr(this,void 0,void 0,function*(){return Ki(n,"DELETE",e,r,i,t)})}var wt=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function u(p){try{f(r.next(p))}catch(v){l(v)}}function d(p){try{f(r.throw(p))}catch(v){l(v)}}function f(p){p.done?a(p.value):i(p.value).then(u,d)}f((r=r.apply(n,e||[])).next())})};const ob={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ig={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ab{constructor(e,t={},r,i){this.url=e,this.headers=t,this.bucketId=r,this.fetch=gy(i)}uploadOrUpdate(e,t,r,i){return wt(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},ig),i);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",l.cacheControl),d&&a.append("metadata",this.encodeMetadata(d))):(a=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),i?.headers&&(u=Object.assign(Object.assign({},u),i.headers));const f=this._removeEmptyFolders(t),p=this._getFinalPath(f),v=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:e,body:a,headers:u},l?.duplex?{duplex:l.duplex}:{})),x=yield v.json();return v.ok?{data:{path:f,id:x.Id,fullPath:x.Key},error:null}:{data:null,error:x}}catch(a){if(et(a))return{data:null,error:a};throw a}})}upload(e,t,r){return wt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,i){return wt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),l=this._getFinalPath(a),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",t);try{let d;const f=Object.assign({upsert:ig.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType);const v=yield this.fetch(u.toString(),{method:"PUT",body:d,headers:p}),x=yield v.json();return v.ok?{data:{path:a,fullPath:x.Key},error:null}:{data:null,error:x}}catch(d){if(et(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,t){return wt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");const a=yield Xn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+a.url),u=l.searchParams.get("token");if(!u)throw new pd("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}update(e,t,r){return wt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return wt(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(et(i))return{data:null,error:i};throw i}})}copy(e,t,r){return wt(this,void 0,void 0,function*(){try{return{data:{path:(yield Xn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(et(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,r){return wt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Xn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(i){if(et(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,r){return wt(this,void 0,void 0,function*(){try{const i=yield Xn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(i){if(et(i))return{data:null,error:i};throw i}})}download(e,t){return wt(this,void 0,void 0,function*(){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(t?.transform||{}),l=a?`?${a}`:"";try{const u=this._getFinalPath(e);return{data:yield(yield $a(this.fetch,`${this.url}/${i}/${u}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(et(u))return{data:null,error:u};throw u}})}info(e){return wt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield $a(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:zu(r),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}exists(e){return wt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield ib(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(et(r)&&r instanceof Uu){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),i=[],a=t?.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&i.push(a);const u=typeof t?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(t?.transform||{});d!==""&&i.push(d);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${f}`)}}}remove(e){return wt(this,void 0,void 0,function*(){try{return{data:yield my(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(et(t))return{data:null,error:t};throw t}})}list(e,t,r){return wt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},ob),t),{prefix:e||""});return{data:yield Xn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(et(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const lb="2.7.1",cb={"X-Client-Info":`storage-js/${lb}`};var ds=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function u(p){try{f(r.next(p))}catch(v){l(v)}}function d(p){try{f(r.throw(p))}catch(v){l(v)}}function f(p){p.done?a(p.value):i(p.value).then(u,d)}f((r=r.apply(n,e||[])).next())})};class ub{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},cb),t),this.fetch=gy(r)}listBuckets(){return ds(this,void 0,void 0,function*(){try{return{data:yield $a(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(et(e))return{data:null,error:e};throw e}})}getBucket(e){return ds(this,void 0,void 0,function*(){try{return{data:yield $a(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(et(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return ds(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return ds(this,void 0,void 0,function*(){try{return{data:yield sb(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ds(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(et(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ds(this,void 0,void 0,function*(){try{return{data:yield my(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(et(t))return{data:null,error:t};throw t}})}}class db extends ub{constructor(e,t={},r){super(e,t,r)}from(e){return new ab(this.url,this.headers,e,this.fetch)}}const hb="2.51.0";let Ci="";typeof Deno<"u"?Ci="deno":typeof document<"u"?Ci="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ci="react-native":Ci="node";const fb={"X-Client-Info":`supabase-js-${Ci}/${hb}`},pb={headers:fb},gb={schema:"public"},mb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yb={};var vb=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function u(p){try{f(r.next(p))}catch(v){l(v)}}function d(p){try{f(r.throw(p))}catch(v){l(v)}}function f(p){p.done?a(p.value):i(p.value).then(u,d)}f((r=r.apply(n,e||[])).next())})};const xb=n=>{let e;return n?e=n:typeof fetch>"u"?e=iy:e=fetch,(...t)=>e(...t)},wb=()=>typeof Headers>"u"?oy:Headers,_b=(n,e,t)=>{const r=xb(t),i=wb();return(a,l)=>vb(void 0,void 0,void 0,function*(){var u;const d=(u=yield e())!==null&&u!==void 0?u:n;let f=new i(l?.headers);return f.has("apikey")||f.set("apikey",n),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(a,Object.assign(Object.assign({},l),{headers:f}))})};var bb=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function u(p){try{f(r.next(p))}catch(v){l(v)}}function d(p){try{f(r.throw(p))}catch(v){l(v)}}function f(p){p.done?a(p.value):i(p.value).then(u,d)}f((r=r.apply(n,e||[])).next())})};function Sb(n){return n.endsWith("/")?n:n+"/"}function kb(n,e){var t,r;const{db:i,auth:a,realtime:l,global:u}=n,{db:d,auth:f,realtime:p,global:v}=e,x={db:Object.assign(Object.assign({},d),i),auth:Object.assign(Object.assign({},f),a),realtime:Object.assign(Object.assign({},p),l),global:Object.assign(Object.assign(Object.assign({},v),u),{headers:Object.assign(Object.assign({},(t=v?.headers)!==null&&t!==void 0?t:{}),(r=u?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>bb(this,void 0,void 0,function*(){return""})};return n.accessToken?x.accessToken=n.accessToken:delete x.accessToken,x}const yy="2.71.0",vs=30*1e3,Bu=3,yu=Bu*vs,Cb="http://localhost:9999",Eb="supabase.auth.token",jb={"X-Client-Info":`gotrue-js/${yy}`},Hu="X-Supabase-Api-Version",vy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Pb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Tb=10*60*1e3;class gd extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function ge(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class Nb extends gd{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function Rb(n){return ge(n)&&n.name==="AuthApiError"}class xy extends gd{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ir extends gd{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}}class Gn extends ir{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ob(n){return ge(n)&&n.name==="AuthSessionMissingError"}class ga extends ir{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ma extends ir{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ya extends ir{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ab(n){return ge(n)&&n.name==="AuthImplicitGrantRedirectError"}class og extends ir{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wu extends ir{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function vu(n){return ge(n)&&n.name==="AuthRetryableFetchError"}class ag extends ir{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Vu extends ir{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ua="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),lg=` 	
\r=`.split(""),Lb=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<lg.length;e+=1)n[lg[e].charCodeAt(0)]=-2;for(let e=0;e<Ua.length;e+=1)n[Ua[e].charCodeAt(0)]=e;return n})();function cg(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(Ua[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(Ua[r]),e.queuedBits-=6}}function wy(n,e,t){const r=Lb[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function ug(n){const e=[],t=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{Mb(l,r,t)};for(let l=0;l<n.length;l+=1)wy(n.charCodeAt(l),i,a);return e.join("")}function Db(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Ib(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}Db(r,e)}}function Mb(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Fb(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)wy(n.charCodeAt(i),t,r);return new Uint8Array(e)}function $b(n){const e=[];return Ib(n,t=>e.push(t)),new Uint8Array(e)}function Ub(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};return n.forEach(i=>cg(i,t,r)),cg(null,t,r),e.join("")}function zb(n){return Math.round(Date.now()/1e3)+n}function Bb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const Kt=()=>typeof window<"u"&&typeof document<"u",xr={tested:!1,writable:!1},_y=()=>{if(!Kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xr.tested)return xr.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),xr.tested=!0,xr.writable=!0}catch{xr.tested=!0,xr.writable=!1}return xr.writable};function Hb(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}const by=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>qi(async()=>{const{default:r}=await Promise.resolve().then(()=>Es);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},Wb=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",xs=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},wr=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Qn=async(n,e)=>{await n.removeItem(e)};class rl{constructor(){this.promise=new rl.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}rl.promiseConstructor=Promise;function xu(n){const e=n.split(".");if(e.length!==3)throw new Vu("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Pb.test(e[r]))throw new Vu("JWT not in base64url format");return{header:JSON.parse(ug(e[0])),payload:JSON.parse(ug(e[1])),signature:Fb(e[2]),raw:{header:e[0],payload:e[1]}}}async function Vb(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function qb(n,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await n(a);if(!e(a,null,l)){r(l);return}}catch(l){if(!e(a,l)){i(l);return}}})()})}function Kb(n){return("0"+n.toString(16)).substr(-2)}function Jb(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let a=0;a<56;a++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Kb).join("")}async function Yb(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Qb(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await Yb(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hs(n,e,t=!1){const r=Jb();let i=r;t&&(i+="/PASSWORD_RECOVERY"),await xs(n,`${e}-code-verifier`,i);const a=await Qb(r);return[a,r===a?"plain":"s256"]}const Gb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Xb(n){const e=n.headers.get(Hu);if(!e||!e.match(Gb))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Zb(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function eS(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const tS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fs(n){if(!tS.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function wu(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}var nS=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const kr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),rS=[502,503,504];async function dg(n){var e;if(!Wb(n))throw new Wu(kr(n),0);if(rS.includes(n.status))throw new Wu(kr(n),n.status);let t;try{t=await n.json()}catch(a){throw new xy(kr(a),a)}let r;const i=Xb(n);if(i&&i.getTime()>=vy["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new ag(kr(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Gn}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new ag(kr(t),n.status,t.weak_password.reasons);throw new Nb(kr(t),n.status||500,r)}const sS=(n,e,t,r)=>{const i={method:n,headers:e?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function ve(n,e,t,r){var i;const a=Object.assign({},r?.headers);a[Hu]||(a[Hu]=vy["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await iS(n,e,t+u,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(d):{data:Object.assign({},d),error:null}}async function iS(n,e,t,r,i,a){const l=sS(e,r,i,a);let u;try{u=await n(t,Object.assign({},l))}catch(d){throw console.error(d),new Wu(kr(d),0)}if(u.ok||await dg(u),r?.noResolveJson)return u;try{return await u.json()}catch(d){await dg(d)}}function bn(n){var e;let t=null;cS(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=zb(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function hg(n){const e=bn(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Zn(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function oS(n){return{data:n,error:null}}function aS(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:a}=n,l=nS(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:a},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function lS(n){return n}function cS(n){return n.access_token&&n.refresh_token&&n.expires_in}const _u=["global","local","others"];var uS=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};class dS{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=by(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=_u[0]){if(_u.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_u.join(", ")}`);try{return await ve(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Zn})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=uS(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:aS,redirectTo:t?.redirectTo})}catch(t){if(ge(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await ve(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Zn})}catch(t){if(ge(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,i,a,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},p=await ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:lS});if(p.error)throw p.error;const v=await p.json(),x=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return w.length>0&&(w.forEach(S=>{const k=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(S.split(";")[1].split("=")[1]);f[`${b}Page`]=k}),f.total=parseInt(x)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(ge(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){fs(e);try{return await ve(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Zn})}catch(t){if(ge(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){fs(e);try{return await ve(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Zn})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){fs(e);try{return await ve(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Zn})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){fs(e.userId);try{const{data:t,error:r}=await ve(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(ge(t))return{data:null,error:t};throw t}}async _deleteFactor(e){fs(e.userId),fs(e.id);try{return{data:await ve(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ge(t))return{data:null,error:t};throw t}}}function fg(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function hS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ps={debug:!!(globalThis&&_y()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Sy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class fS extends Sy{}async function pS(n,e,t){ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ps.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await t()}finally{ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new fS(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(ps.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}hS();const gS={url:Cb,storageKey:Eb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function pg(n,e,t){return await t()}const gs={};class Mi{constructor(e){var t,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Mi.nextInstanceID,Mi.nextInstanceID+=1,this.instanceID>0&&Kt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},gS),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new dS({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=by(i.fetch),this.lock=i.lock||pg,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Kt()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=pS:this.lock=pg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:_y()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=fg(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=fg(this.memoryStorage)),Kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=gs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){gs[this.storageKey]=Object.assign(Object.assign({},gs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=gs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){gs[this.storageKey]=Object.assign(Object.assign({},gs[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yy}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=Hb(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),Kt()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Ab(a)){const d=(e=a.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ge(t)?{error:t}:{error:new xy("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,i;try{const a=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:bn}),{data:l,error:u}=a;if(u||!l)return{data:{user:null,session:null},error:u};const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(a){if(ge(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,r,i;try{let a;if("email"in e){const{email:p,password:v,options:x}=e;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await hs(this.storage,this.storageKey)),a=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:p,password:v,data:(t=x?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:w,code_challenge_method:S},xform:bn})}else if("phone"in e){const{phone:p,password:v,options:x}=e;a=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:v,data:(r=x?.data)!==null&&r!==void 0?r:{},channel:(i=x?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:bn})}else throw new ma("You must provide either an email or phone number and a password");const{data:l,error:u}=a;if(u||!l)return{data:{user:null,session:null},error:u};const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(a){if(ge(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:a,password:l,options:u}=e;t=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:hg})}else if("phone"in e){const{phone:a,password:l,options:u}=e;t=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:hg})}else throw new ma("You must provide either an email or phone number and a password");const{data:r,error:i}=t;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ga}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(t){if(ge(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,r,i,a,l,u,d,f,p,v,x,w;let S,k;if("message"in e)S=e.message,k=e.signature;else{const{chain:b,wallet:E,statement:O,options:T}=e;let I;if(Kt())if(typeof E=="object")I=E;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))I=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=E}const L=new URL((t=T?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in I&&I.signIn){const $=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),O?{statement:O}:null));let W;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")W=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)W=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in W&&"signature"in W&&(typeof W.signedMessage=="string"||W.signedMessage instanceof Uint8Array)&&W.signature instanceof Uint8Array)S=typeof W.signedMessage=="string"?W.signedMessage:new TextDecoder().decode(W.signedMessage),k=W.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${L.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(i=(r=T?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=T?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((l=T?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((u=T?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((d=T?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((f=T?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((v=(p=T?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||v===void 0)&&v.length?["Resources",...T.signInWithSolana.resources.map(W=>`- ${W}`)]:[]].join(`
`);const $=await I.signMessage(new TextEncoder().encode(S),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=$}}try{const{data:b,error:E}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Ub(k)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:bn});if(E)throw E;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new ga}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:E})}catch(b){if(ge(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const t=await wr(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(t??"").split("/");try{const{data:a,error:l}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:bn});if(await Qn(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new ga}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(ge(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:r,token:i,access_token:a,nonce:l}=e,u=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:bn}),{data:d,error:f}=u;return f?{data:{user:null,session:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new ga}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:f})}catch(t){if(ge(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,i,a,l;try{if("email"in e){const{email:u,options:d}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await hs(this.storage,this.storageKey));const{error:v}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(t=d?.data)!==null&&t!==void 0?t:{},create_user:(r=d?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){const{phone:u,options:d}=e,{data:f,error:p}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=d?.data)!==null&&i!==void 0?i:{},create_user:(a=d?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(l=d?.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:f?.message_id},error:p}}throw new ma("You must provide either an email or phone number.")}catch(u){if(ge(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var t,r;try{let i,a;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:bn});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(i){if(ge(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var t,r,i;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await hs(this.storage,this.storageKey)),await ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:oS})}catch(a){if(ge(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Gn;const{error:i}=await ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(ge(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:l}=await ve(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:l,error:u}=await ve(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:l?.message_id},error:u}}throw new ma("You must provide either an email or phone number and a type")}catch(t){if(ge(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await wr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<yu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await wr(this.userStorage,this.storageKey+"-user");l?.user?e.user=l.user:e.user=wu()}if(this.storage.isServer&&e.user){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(d,f,p)=>(!l&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,f,p))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Zn}):await this._useSession(async t=>{var r,i,a;const{data:l,error:u}=t;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Gn}:await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Zn})})}catch(t){if(ge(t))return Ob(t)&&(await this._removeSession(),await Qn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Gn;const l=i.session;let u=null,d=null;this.flowType==="pkce"&&e.email!=null&&([u,d]=await hs(this.storage,this.storageKey));const{data:f,error:p}=await ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:Zn});if(p)throw p;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Gn;const t=Date.now()/1e3;let r=t,i=!0,a=null;const{payload:l}=xu(e.access_token);if(l.exp&&(r=l.exp,i=r<=t),i){const{session:u,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:d}=await this._getUser(e.access_token);if(d)throw d;a={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(ge(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:l,error:u}=t;if(u)throw u;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new Gn;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(ge(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Kt())throw new ya("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ya(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new og("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ya("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new og("No code detected.");const{data:O,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:u,expires_at:d,token_type:f}=e;if(!a||!u||!l||!f)throw new ya("No session defined in URL");const p=Math.round(Date.now()/1e3),v=parseInt(u);let x=p+v;d&&(x=parseInt(d));const w=x-p;w*1e3<=vs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${v}s`);const S=x-v;p-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,x,p):p-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,x,p);const{data:k,error:b}=await this._getUser(a);if(b)throw b;const E={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:v,expires_at:x,refresh_token:l,token_type:f,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:e.type},error:null}}catch(r){if(ge(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await wr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:i,error:a}=t;if(a)return{error:a};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(Rb(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await Qn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=Bb(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,i;try{const{data:{session:a},error:l}=t;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,t={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await hs(this.storage,this.storageKey,!0));try{return await ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(ge(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(ge(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:i}=await this._useSession(async a=>{var l,u,d,f,p;const{data:v,error:x}=a;if(x)throw x;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await ve(this.fetch,"GET",w,{headers:this.headers,jwt:(p=(f=v.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return Kt()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if(ge(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,i;const{data:a,error:l}=t;if(l)throw l;return await ve(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(ge(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await qb(async i=>(i>0&&await Vb(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:bn})),(i,a)=>{const l=200*Math.pow(2,i);return a&&vu(a)&&Date.now()+l-r<vs})}catch(r){if(this._debug(t,"error",r),ge(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),Kt()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await wr(this.storage,this.storageKey);if(i&&this.userStorage){let l=await wr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await xs(this.userStorage,this.storageKey+"-user",l)),i.user=(e=l?.user)!==null&&e!==void 0?e:wu()}else if(i&&!i.user&&!i.user){const l=await wr(this.storage,this.storageKey+"-user");l&&l?.user?(i.user=l.user,await Qn(this.storage,this.storageKey+"-user"),await xs(this.storage,this.storageKey,i)):i.user=wu()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<yu;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${yu}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),vu(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&l?.user?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Gn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new rl;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new Gn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={session:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(i,"error",a),ge(a)){const l={session:null,error:a};return vu(a)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,t)}catch(d){a.push(d)}});if(await Promise.all(l),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&await xs(this.userStorage,this.storageKey+"-user",{user:t.user});const i=Object.assign({},t);delete i.user;const a=structuredClone(i);await xs(this.storage,this.storageKey,a)}else{const i=structuredClone(t);await xs(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Qn(this.storage,this.storageKey),await Qn(this.storage,this.storageKey+"-code-verifier"),await Qn(this.storage,this.storageKey+"-user"),this.userStorage&&await Qn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Kt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),vs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/vs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${vs}ms, refresh threshold is ${Bu} ticks`),i<=Bu&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Sy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const i=[`provider=${encodeURIComponent(t)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await hs(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:i,error:a}=t;return a?{data:null,error:a}:await ve(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(ge(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,i;const{data:a,error:l}=t;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:d,error:f}=await ve(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(e.factorType==="totp"&&(!((i=d?.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(t){if(ge(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:a}=t;if(a)return{data:null,error:a};const{data:l,error:u}=await ve(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:u})})}catch(t){if(ge(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:a}=t;return a?{data:null,error:a}:await ve(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(ge(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=e?.factors||[],i=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),a=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=xu(i.access_token);let u=null;l.aal&&(u=l.aal);let d=u;((r=(t=i.user.factors)===null||t===void 0?void 0:t.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const p=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(u=>u.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===e),r&&this.jwks_cached_at+Tb>i)return r;const{data:a,error:l}=await ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(u=>u.kid===e),!r)?null:r}async getClaims(e,t={}){try{let r=e;if(!r){const{data:w,error:S}=await this.getSession();if(S||!w.session)return{data:null,error:S};r=w.session.access_token}const{header:i,payload:a,signature:l,raw:{header:u,payload:d}}=xu(r);t?.allowExpired||Zb(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!f){const{error:w}=await this.getUser(r);if(w)throw w;return{data:{claims:a,header:i,signature:l},error:null}}const p=eS(i.alg),v=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,v,l,$b(`${u}.${d}`)))throw new Vu("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}}Mi.nextInstanceID=0;const mS=Mi;class yS extends mS{constructor(e){super(e)}}var vS=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function u(p){try{f(r.next(p))}catch(v){l(v)}}function d(p){try{f(r.throw(p))}catch(v){l(v)}}function f(p){p.done?a(p.value):i(p.value).then(u,d)}f((r=r.apply(n,e||[])).next())})};class xS{constructor(e,t,r){var i,a,l;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const u=Sb(e),d=new URL(u);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,p={db:gb,realtime:yb,auth:Object.assign(Object.assign({},mb),{storageKey:f}),global:pb},v=kb(r??{},p);this.storageKey=(i=v.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=v.global.headers)!==null&&a!==void 0?a:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(x,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=v.auth)!==null&&l!==void 0?l:{},this.headers,v.global.fetch),this.fetch=_b(t,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new M_(new URL("rest/v1",d).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),v.accessToken||this._listenForAuthEvents()}get functions(){return new C_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new db(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return vS(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:a,flowType:l,lock:u,debug:d},f,p){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new yS({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),f),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,flowType:l,lock:u,debug:d,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new X_(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const wS=(n,e,t)=>new xS(n,e,t),_S="https://ezgyjecylhkkmkqpcmtz.supabase.co",bS="sb_publishable_Hr918kDYs7Gc0XisLl1Cmw_bDJgqtEV",ws=wS(_S,bS);async function ky(n){const{data:e,error:t}=await ws.from("listing_metrics").select("lead_score_distribution_hot, lead_score_distribution_warm, lead_score_distribution_cold").eq("client_id",n);if(t)return console.error("Error fetching lead distribution metrics:",t),null;if(e&&e.length>0){const r=e.reduce((u,d)=>u+d.lead_score_distribution_hot,0),i=e.reduce((u,d)=>u+d.lead_score_distribution_warm,0),a=e.reduce((u,d)=>u+d.lead_score_distribution_cold,0),l=r+i+a;return{hot:r/l*100,warm:i/l*100,cold:a/l*100,total:l}}return{hot:0,warm:0,cold:0,total:0}}async function SS(n,e){const{data:t,error:r}=await ws.from("listing_metrics").select("lead_score_distribution_hot, lead_score_distribution_warm, lead_score_distribution_cold").eq("listing_id",n).eq("client_id",e).maybeSingle();if(r)return console.error(`Error fetching lead distribution metrics for listing ${n}:`,r),null;if(t){const i=t.lead_score_distribution_hot||0,a=t.lead_score_distribution_warm||0,l=t.lead_score_distribution_cold||0,u=i+a+l;return u===0?{hot:0,warm:0,cold:0,total:0}:{hot:i/u*100,warm:a/u*100,cold:l/u*100,total:u}}return{hot:0,warm:0,cold:0,total:0}}const kS=()=>`${window.location.origin}/api`,rr=kS(),Cy=P.createContext(),CS=({children:n})=>{const[e,t]=P.useState([]),[r,i]=P.useState("");return P.useEffect(()=>{(async()=>{try{const l=await fetch(`${rr}/v1/clients`);if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const u=await l.json();console.log("ClientContext: Fetched clients data:",u),t(u),u.length>0?(i(u[0].client_id),console.log("ClientContext: Initial selectedClientId set to",u[0].client_id)):(i(""),console.log("ClientContext: No clients found, selectedClientId set to empty string"))}catch(l){console.error("Error fetching clients:",l)}})()},[]),m.jsx(Cy.Provider,{value:{clients:e,selectedClientId:r,setSelectedClientId:i},children:n})},sl=()=>P.useContext(Cy),ES=({newHotLeadsCount:n,onAcknowledgeLeads:e})=>m.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:"text-lg font-semibold text-red-800",children:[" ",n," New Hot Leads Identified!"]}),m.jsx("p",{className:"text-sm text-red-700 mt-1",children:"These leads scored 70+ points and are ready for immediate agent follow-up."})]}),m.jsx("button",{onClick:e,className:"bg-red-600 text-white px-4 py-2 rounded text-sm hover:bg-red-700 transition-colors",children:"View Hot Leads"})]})});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ji(n){return n+.5|0}const er=(n,e,t)=>Math.max(Math.min(n,t),e);function Ei(n){return er(Ji(n*2.55),0,255)}function nr(n){return er(Ji(n*255),0,255)}function En(n){return er(Ji(n/2.55)/100,0,1)}function gg(n){return er(Ji(n*100),0,100)}const Ft={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},qu=[..."0123456789ABCDEF"],jS=n=>qu[n&15],PS=n=>qu[(n&240)>>4]+qu[n&15],va=n=>(n&240)>>4===(n&15),TS=n=>va(n.r)&&va(n.g)&&va(n.b)&&va(n.a);function NS(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Ft[n[1]]*17,g:255&Ft[n[2]]*17,b:255&Ft[n[3]]*17,a:e===5?Ft[n[4]]*17:255}:(e===7||e===9)&&(t={r:Ft[n[1]]<<4|Ft[n[2]],g:Ft[n[3]]<<4|Ft[n[4]],b:Ft[n[5]]<<4|Ft[n[6]],a:e===9?Ft[n[7]]<<4|Ft[n[8]]:255})),t}const RS=(n,e)=>n<255?e(n):"";function OS(n){var e=TS(n)?jS:PS;return n?"#"+e(n.r)+e(n.g)+e(n.b)+RS(n.a,e):void 0}const AS=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ey(n,e,t){const r=e*Math.min(t,1-t),i=(a,l=(a+n/30)%12)=>t-r*Math.max(Math.min(l-3,9-l,1),-1);return[i(0),i(8),i(4)]}function LS(n,e,t){const r=(i,a=(i+n/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function DS(n,e,t){const r=Ey(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function IS(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function md(n){const t=n.r/255,r=n.g/255,i=n.b/255,a=Math.max(t,r,i),l=Math.min(t,r,i),u=(a+l)/2;let d,f,p;return a!==l&&(p=a-l,f=u>.5?p/(2-a-l):p/(a+l),d=IS(t,r,i,p,a),d=d*60+.5),[d|0,f||0,u]}function yd(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(nr)}function vd(n,e,t){return yd(Ey,n,e,t)}function MS(n,e,t){return yd(DS,n,e,t)}function FS(n,e,t){return yd(LS,n,e,t)}function jy(n){return(n%360+360)%360}function $S(n){const e=AS.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?Ei(+e[5]):nr(+e[5]));const i=jy(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?r=MS(i,a,l):e[1]==="hsv"?r=FS(i,a,l):r=vd(i,a,l),{r:r[0],g:r[1],b:r[2],a:t}}function US(n,e){var t=md(n);t[0]=jy(t[0]+e),t=vd(t),n.r=t[0],n.g=t[1],n.b=t[2]}function zS(n){if(!n)return;const e=md(n),t=e[0],r=gg(e[1]),i=gg(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${En(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}const mg={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},yg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function BS(){const n={},e=Object.keys(yg),t=Object.keys(mg);let r,i,a,l,u;for(r=0;r<e.length;r++){for(l=u=e[r],i=0;i<t.length;i++)a=t[i],u=u.replace(a,mg[a]);a=parseInt(yg[l],16),n[u]=[a>>16&255,a>>8&255,a&255]}return n}let xa;function HS(n){xa||(xa=BS(),xa.transparent=[0,0,0,0]);const e=xa[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const WS=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function VS(n){const e=WS.exec(n);let t=255,r,i,a;if(e){if(e[7]!==r){const l=+e[7];t=e[8]?Ei(l):er(l*255,0,255)}return r=+e[1],i=+e[3],a=+e[5],r=255&(e[2]?Ei(r):er(r,0,255)),i=255&(e[4]?Ei(i):er(i,0,255)),a=255&(e[6]?Ei(a):er(a,0,255)),{r,g:i,b:a,a:t}}}function qS(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${En(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const bu=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,ms=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function KS(n,e,t){const r=ms(En(n.r)),i=ms(En(n.g)),a=ms(En(n.b));return{r:nr(bu(r+t*(ms(En(e.r))-r))),g:nr(bu(i+t*(ms(En(e.g))-i))),b:nr(bu(a+t*(ms(En(e.b))-a))),a:n.a+t*(e.a-n.a)}}function wa(n,e,t){if(n){let r=md(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=vd(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function Py(n,e){return n&&Object.assign(e||{},n)}function vg(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=nr(n[3]))):(e=Py(n,{r:0,g:0,b:0,a:1}),e.a=nr(e.a)),e}function JS(n){return n.charAt(0)==="r"?VS(n):$S(n)}class Fi{constructor(e){if(e instanceof Fi)return e;const t=typeof e;let r;t==="object"?r=vg(e):t==="string"&&(r=NS(e)||HS(e)||JS(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Py(this._rgb);return e&&(e.a=En(e.a)),e}set rgb(e){this._rgb=vg(e)}rgbString(){return this._valid?qS(this._rgb):void 0}hexString(){return this._valid?OS(this._rgb):void 0}hslString(){return this._valid?zS(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let a;const l=t===a?.5:t,u=2*l-1,d=r.a-i.a,f=((u*d===-1?u:(u+d)/(1+u*d))+1)/2;a=1-f,r.r=255&f*r.r+a*i.r+.5,r.g=255&f*r.g+a*i.g+.5,r.b=255&f*r.b+a*i.b+.5,r.a=l*r.a+(1-l)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=KS(this._rgb,e._rgb,t)),this}clone(){return new Fi(this.rgb)}alpha(e){return this._rgb.a=nr(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Ji(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return wa(this._rgb,2,e),this}darken(e){return wa(this._rgb,2,-e),this}saturate(e){return wa(this._rgb,1,e),this}desaturate(e){return wa(this._rgb,1,-e),this}rotate(e){return US(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function _n(){}const YS=(()=>{let n=0;return()=>n++})();function ut(n){return n==null}function rt(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function be(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Tn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function sn(n,e){return Tn(n)?n:e}function Pe(n,e){return typeof n>"u"?e:n}const QS=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,Ty=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Ae(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function je(n,e,t,r){let i,a,l;if(rt(n))for(a=n.length,i=0;i<a;i++)e.call(t,n[i],i);else if(be(n))for(l=Object.keys(n),a=l.length,i=0;i<a;i++)e.call(t,n[l[i]],l[i])}function za(n,e){let t,r,i,a;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],a=e[t],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function Ba(n){if(rt(n))return n.map(Ba);if(be(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=Ba(n[t[i]]);return e}return n}function Ny(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function GS(n,e,t,r){if(!Ny(n))return;const i=e[n],a=t[n];be(i)&&be(a)?$i(i,a,r):e[n]=Ba(a)}function $i(n,e,t){const r=rt(e)?e:[e],i=r.length;if(!be(n))return n;t=t||{};const a=t.merger||GS;let l;for(let u=0;u<i;++u){if(l=r[u],!be(l))continue;const d=Object.keys(l);for(let f=0,p=d.length;f<p;++f)a(d[f],n,l,t)}return n}function Oi(n,e){return $i(n,e,{merger:XS})}function XS(n,e,t){if(!Ny(n))return;const r=e[n],i=t[n];be(r)&&be(i)?Oi(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Ba(i))}const xg={"":n=>n,x:n=>n.x,y:n=>n.y};function ZS(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function ek(n){const e=ZS(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function Ui(n,e){return(xg[e]||(xg[e]=ek(e)))(n)}function xd(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Ha=n=>typeof n<"u",sr=n=>typeof n=="function",wg=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function tk(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Le=Math.PI,qe=2*Le,Wa=Number.POSITIVE_INFINITY,nk=Le/180,Ye=Le/2,_r=Le/4,_g=Le*2/3,bg=Math.sign;function rk(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,a)=>i-a).pop(),e}function sk(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Va(n){return!sk(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function jr(n){return n*(Le/180)}function ik(n){return n*(180/Le)}function Ry(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let a=Math.atan2(r,t);return a<-.5*Le&&(a+=qe),{angle:a,distance:i}}function ok(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function cn(n){return(n%qe+qe)%qe}function qa(n,e,t,r){const i=cn(n),a=cn(e),l=cn(t),u=cn(a-i),d=cn(l-i),f=cn(i-a),p=cn(i-l);return i===a||i===l||r&&a===l||u>d&&f<p}function $t(n,e,t){return Math.max(e,Math.min(t,n))}function ak(n){return $t(n,-32768,32767)}function ji(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function wd(n,e,t){t=t||(l=>n[l]<e);let r=n.length-1,i=0,a;for(;r-i>1;)a=i+r>>1,t(a)?i=a:r=a;return{lo:i,hi:r}}const Ku=(n,e,t,r)=>wd(n,t,r?i=>{const a=n[i][e];return a<t||a===t&&n[i+1][e]===t}:i=>n[i][e]<t),lk=(n,e,t)=>wd(n,t,r=>n[r][e]>=t);function ck(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}const Oy=["push","pop","shift","splice","unshift"];function uk(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Oy.forEach(t=>{const r="_onData"+xd(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...a){const l=i.apply(this,a);return n._chartjs.listeners.forEach(u=>{typeof u[r]=="function"&&u[r](...a)}),l}})})}function Sg(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(Oy.forEach(a=>{delete n[a]}),delete n._chartjs)}function dk(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const Ay=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Ly(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,Ay.call(window,()=>{r=!1,n.apply(e,t)}))}}function hk(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const Dy=n=>n==="start"?"left":n==="end"?"right":"center",Rt=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,fk=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e,_a=n=>n===0||n===1,kg=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*qe/t)),Cg=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*qe/t)+1,Ai={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ye)+1,easeOutSine:n=>Math.sin(n*Ye),easeInOutSine:n=>-.5*(Math.cos(Le*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>_a(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>_a(n)?n:kg(n,.075,.3),easeOutElastic:n=>_a(n)?n:Cg(n,.075,.3),easeInOutElastic(n){return _a(n)?n:n<.5?.5*kg(n*2,.1125,.45):.5+.5*Cg(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Ai.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Ai.easeInBounce(n*2)*.5:Ai.easeOutBounce(n*2-1)*.5+.5};function Iy(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Eg(n){return Iy(n)?n:new Fi(n)}function Su(n){return Iy(n)?n:new Fi(n).saturate(.5).darken(.1).hexString()}const pk=["x","y","borderWidth","radius","tension"],gk=["color","borderColor","backgroundColor"];function mk(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:gk},numbers:{type:"number",properties:pk}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function yk(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const jg=new Map;function vk(n,e){e=e||{};const t=n+JSON.stringify(e);let r=jg.get(t);return r||(r=new Intl.NumberFormat(n,e),jg.set(t,r)),r}function xk(n,e,t){return vk(e,t).format(n)}const wk={values(n){return rt(n)?n:""+n}};var _k={formatters:wk};function bk(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:_k.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Rr=Object.create(null),Ju=Object.create(null);function Li(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const a=t[r];n=n[a]||(n[a]=Object.create(null))}return n}function ku(n,e,t){return typeof e=="string"?$i(Li(n,e),t):$i(Li(n,""),e)}class Sk{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Su(i.backgroundColor),this.hoverBorderColor=(r,i)=>Su(i.borderColor),this.hoverColor=(r,i)=>Su(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return ku(this,e,t)}get(e){return Li(this,e)}describe(e,t){return ku(Ju,e,t)}override(e,t){return ku(Rr,e,t)}route(e,t,r,i){const a=Li(this,e),l=Li(this,r),u="_"+t;Object.defineProperties(a,{[u]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const d=this[u],f=l[i];return be(d)?Object.assign({},f,d):Pe(d,f)},set(d){this[u]=d}}})}apply(e){e.forEach(t=>t(this))}}var We=new Sk({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[mk,yk,bk]);function kk(n){return!n||ut(n.size)||ut(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Pg(n,e,t,r,i){let a=e[i];return a||(a=e[i]=n.measureText(i).width,t.push(i)),a>r&&(r=a),r}function br(n,e,t){const r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function Tg(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Ng(n,e,t,r){My(n,e,t,r,null)}function My(n,e,t,r,i){let a,l,u,d,f,p,v,x;const w=e.pointStyle,S=e.rotation,k=e.radius;let b=(S||0)*nk;if(w&&typeof w=="object"&&(a=w.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(b),n.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),n.restore();return}if(!(isNaN(k)||k<=0)){switch(n.beginPath(),w){default:i?n.ellipse(t,r,i/2,k,0,0,qe):n.arc(t,r,k,0,qe),n.closePath();break;case"triangle":p=i?i/2:k,n.moveTo(t+Math.sin(b)*p,r-Math.cos(b)*k),b+=_g,n.lineTo(t+Math.sin(b)*p,r-Math.cos(b)*k),b+=_g,n.lineTo(t+Math.sin(b)*p,r-Math.cos(b)*k),n.closePath();break;case"rectRounded":f=k*.516,d=k-f,l=Math.cos(b+_r)*d,v=Math.cos(b+_r)*(i?i/2-f:d),u=Math.sin(b+_r)*d,x=Math.sin(b+_r)*(i?i/2-f:d),n.arc(t-v,r-u,f,b-Le,b-Ye),n.arc(t+x,r-l,f,b-Ye,b),n.arc(t+v,r+u,f,b,b+Ye),n.arc(t-x,r+l,f,b+Ye,b+Le),n.closePath();break;case"rect":if(!S){d=Math.SQRT1_2*k,p=i?i/2:d,n.rect(t-p,r-d,2*p,2*d);break}b+=_r;case"rectRot":v=Math.cos(b)*(i?i/2:k),l=Math.cos(b)*k,u=Math.sin(b)*k,x=Math.sin(b)*(i?i/2:k),n.moveTo(t-v,r-u),n.lineTo(t+x,r-l),n.lineTo(t+v,r+u),n.lineTo(t-x,r+l),n.closePath();break;case"crossRot":b+=_r;case"cross":v=Math.cos(b)*(i?i/2:k),l=Math.cos(b)*k,u=Math.sin(b)*k,x=Math.sin(b)*(i?i/2:k),n.moveTo(t-v,r-u),n.lineTo(t+v,r+u),n.moveTo(t+x,r-l),n.lineTo(t-x,r+l);break;case"star":v=Math.cos(b)*(i?i/2:k),l=Math.cos(b)*k,u=Math.sin(b)*k,x=Math.sin(b)*(i?i/2:k),n.moveTo(t-v,r-u),n.lineTo(t+v,r+u),n.moveTo(t+x,r-l),n.lineTo(t-x,r+l),b+=_r,v=Math.cos(b)*(i?i/2:k),l=Math.cos(b)*k,u=Math.sin(b)*k,x=Math.sin(b)*(i?i/2:k),n.moveTo(t-v,r-u),n.lineTo(t+v,r+u),n.moveTo(t+x,r-l),n.lineTo(t-x,r+l);break;case"line":l=i?i/2:Math.cos(b)*k,u=Math.sin(b)*k,n.moveTo(t-l,r-u),n.lineTo(t+l,r+u);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(b)*(i?i/2:k),r+Math.sin(b)*k);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Fy(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function _d(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function bd(n){n.restore()}function Ck(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),ut(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function Ek(n,e,t,r,i){if(i.strikethrough||i.underline){const a=n.measureText(r),l=e-a.actualBoundingBoxLeft,u=e+a.actualBoundingBoxRight,d=t-a.actualBoundingBoxAscent,f=t+a.actualBoundingBoxDescent,p=i.strikethrough?(d+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(l,p),n.lineTo(u,p),n.stroke()}}function jk(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Ka(n,e,t,r,i,a={}){const l=rt(e)?e:[e],u=a.strokeWidth>0&&a.strokeColor!=="";let d,f;for(n.save(),n.font=i.string,Ck(n,a),d=0;d<l.length;++d)f=l[d],a.backdrop&&jk(n,a.backdrop),u&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),ut(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(f,t,r,a.maxWidth)),n.fillText(f,t,r,a.maxWidth),Ek(n,t,r,f,a),r+=Number(i.lineHeight);n.restore()}function Yu(n,e){const{x:t,y:r,w:i,h:a,radius:l}=e;n.arc(t+l.topLeft,r+l.topLeft,l.topLeft,1.5*Le,Le,!0),n.lineTo(t,r+a-l.bottomLeft),n.arc(t+l.bottomLeft,r+a-l.bottomLeft,l.bottomLeft,Le,Ye,!0),n.lineTo(t+i-l.bottomRight,r+a),n.arc(t+i-l.bottomRight,r+a-l.bottomRight,l.bottomRight,Ye,0,!0),n.lineTo(t+i,r+l.topRight),n.arc(t+i-l.topRight,r+l.topRight,l.topRight,0,-Ye,!0),n.lineTo(t+l.topLeft,r)}const Pk=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Tk=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Nk(n,e){const t=(""+n).match(Pk);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const Rk=n=>+n||0;function Sd(n,e){const t={},r=be(e),i=r?Object.keys(e):e,a=be(n)?r?l=>Pe(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of i)t[l]=Rk(a(l));return t}function Ok(n){return Sd(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Di(n){return Sd(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Qt(n){const e=Ok(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function St(n,e){n=n||{},e=e||We.font;let t=Pe(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=Pe(n.style,e.style);r&&!(""+r).match(Tk)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Pe(n.family,e.family),lineHeight:Nk(Pe(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:Pe(n.weight,e.weight),string:""};return i.string=kk(i),i}function ba(n,e,t,r){let i,a,l;for(i=0,a=n.length;i<a;++i)if(l=n[i],l!==void 0&&l!==void 0)return l}function Ak(n,e,t){const{min:r,max:i}=n,a=Ty(e,(i-r)/2),l=(u,d)=>t&&u===0?0:u+d;return{min:l(r,-Math.abs(a)),max:l(i,a)}}function js(n,e){return Object.assign(Object.create(n),e)}function kd(n,e=[""],t,r,i=()=>n[0]){const a=t||n;typeof r>"u"&&(r=By("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:r,_getTarget:i,override:u=>kd([u,...n],e,a,r)};return new Proxy(l,{deleteProperty(u,d){return delete u[d],delete u._keys,delete n[0][d],!0},get(u,d){return Uy(u,d,()=>zk(d,e,n,u))},getOwnPropertyDescriptor(u,d){return Reflect.getOwnPropertyDescriptor(u._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,d){return Og(u).includes(d)},ownKeys(u){return Og(u)},set(u,d,f){const p=u._storage||(u._storage=i());return u[d]=p[d]=f,delete u._keys,!0}})}function Ss(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:$y(n,r),setContext:a=>Ss(n,a,t,r),override:a=>Ss(n.override(a),e,t,r)};return new Proxy(i,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,u){return Uy(a,l,()=>Dk(a,l,u))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,u){return n[l]=u,delete a[l],!0}})}function $y(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:sr(t)?t:()=>t,isIndexable:sr(r)?r:()=>r}}const Lk=(n,e)=>n?n+xd(e):e,Cd=(n,e)=>be(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Uy(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function Dk(n,e,t){const{_proxy:r,_context:i,_subProxy:a,_descriptors:l}=n;let u=r[e];return sr(u)&&l.isScriptable(e)&&(u=Ik(e,u,n,t)),rt(u)&&u.length&&(u=Mk(e,u,n,l.isIndexable)),Cd(e,u)&&(u=Ss(u,i,a&&a[e],l)),u}function Ik(n,e,t,r){const{_proxy:i,_context:a,_subProxy:l,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let d=e(a,l||r);return u.delete(n),Cd(n,d)&&(d=Ed(i._scopes,i,n,d)),d}function Mk(n,e,t,r){const{_proxy:i,_context:a,_subProxy:l,_descriptors:u}=t;if(typeof a.index<"u"&&r(n))return e[a.index%e.length];if(be(e[0])){const d=e,f=i._scopes.filter(p=>p!==d);e=[];for(const p of d){const v=Ed(f,i,n,p);e.push(Ss(v,a,l&&l[n],u))}}return e}function zy(n,e,t){return sr(n)?n(e,t):n}const Fk=(n,e)=>n===!0?e:typeof n=="string"?Ui(e,n):void 0;function $k(n,e,t,r,i){for(const a of e){const l=Fk(t,a);if(l){n.add(l);const u=zy(l._fallback,t,i);if(typeof u<"u"&&u!==t&&u!==r)return u}else if(l===!1&&typeof r<"u"&&t!==r)return null}return!1}function Ed(n,e,t,r){const i=e._rootScopes,a=zy(e._fallback,t,r),l=[...n,...i],u=new Set;u.add(r);let d=Rg(u,l,t,a||t,r);return d===null||typeof a<"u"&&a!==t&&(d=Rg(u,l,a,d,r),d===null)?!1:kd(Array.from(u),[""],i,a,()=>Uk(e,t,r))}function Rg(n,e,t,r,i){for(;t;)t=$k(n,e,t,r,i);return t}function Uk(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return rt(i)&&be(t)?t:i||{}}function zk(n,e,t,r){let i;for(const a of e)if(i=By(Lk(a,n),t),typeof i<"u")return Cd(n,i)?Ed(t,r,n,i):i}function By(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function Og(n){let e=n._keys;return e||(e=n._keys=Bk(n._scopes)),e}function Bk(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function jd(){return typeof window<"u"&&typeof document<"u"}function Pd(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ja(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const il=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function Hk(n,e){return il(n).getPropertyValue(e)}const Wk=["top","right","bottom","left"];function Tr(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const a=Wk[i];r[a]=parseFloat(n[e+"-"+a+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Vk=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function qk(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:a}=r;let l=!1,u,d;if(Vk(i,a,n.target))u=i,d=a;else{const f=e.getBoundingClientRect();u=r.clientX-f.left,d=r.clientY-f.top,l=!0}return{x:u,y:d,box:l}}function Cr(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=il(t),a=i.boxSizing==="border-box",l=Tr(i,"padding"),u=Tr(i,"border","width"),{x:d,y:f,box:p}=qk(n,t),v=l.left+(p&&u.left),x=l.top+(p&&u.top);let{width:w,height:S}=e;return a&&(w-=l.width+u.width,S-=l.height+u.height),{x:Math.round((d-v)/w*t.width/r),y:Math.round((f-x)/S*t.height/r)}}function Kk(n,e,t){let r,i;if(e===void 0||t===void 0){const a=n&&Pd(n);if(!a)e=n.clientWidth,t=n.clientHeight;else{const l=a.getBoundingClientRect(),u=il(a),d=Tr(u,"border","width"),f=Tr(u,"padding");e=l.width-f.width-d.width,t=l.height-f.height-d.height,r=Ja(u.maxWidth,a,"clientWidth"),i=Ja(u.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:r||Wa,maxHeight:i||Wa}}const Sa=n=>Math.round(n*10)/10;function Jk(n,e,t,r){const i=il(n),a=Tr(i,"margin"),l=Ja(i.maxWidth,n,"clientWidth")||Wa,u=Ja(i.maxHeight,n,"clientHeight")||Wa,d=Kk(n,e,t);let{width:f,height:p}=d;if(i.boxSizing==="content-box"){const x=Tr(i,"border","width"),w=Tr(i,"padding");f-=w.width+x.width,p-=w.height+x.height}return f=Math.max(0,f-a.width),p=Math.max(0,r?f/r:p-a.height),f=Sa(Math.min(f,l,d.maxWidth)),p=Sa(Math.min(p,u,d.maxHeight)),f&&!p&&(p=Sa(f/2)),(e!==void 0||t!==void 0)&&r&&d.height&&p>d.height&&(p=d.height,f=Sa(Math.floor(p*r))),{width:f,height:p}}function Ag(n,e,t){const r=e||1,i=Math.floor(n.height*r),a=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||l.height!==i||l.width!==a?(n.currentDevicePixelRatio=r,l.height=i,l.width=a,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const Yk=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};jd()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function Lg(n,e){const t=Hk(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const Qk=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},Gk=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function _s(n,e,t){return n?Qk(e,t):Gk()}function Hy(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function Wy(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function ka(n,e,t){return n.options.clip?n[t]:e[t]}function Xk(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:ka(t,e,"left"),right:ka(t,e,"right"),top:ka(r,e,"top"),bottom:ka(r,e,"bottom")}:e}function Zk(n,e){const t=e._clip;if(t.disabled)return!1;const r=Xk(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class e1{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const a=t.listeners[i],l=t.duration;a.forEach(u=>u({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(r-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Ay.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const a=r.items;let l=a.length-1,u=!1,d;for(;l>=0;--l)d=a[l],d._active?(d._total>r.duration&&(r.duration=d._total),d.tick(e),u=!0):(a[l]=a[a.length-1],a.pop());u&&(i.draw(),this._notify(i,r,e,"progress")),a.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Sn=new e1;const Dg="transparent",t1={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=Eg(n||Dg),i=r.valid&&Eg(e||Dg);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class n1{constructor(e,t,r,i){const a=t[r];i=ba([e.to,i,a,e.from]);const l=ba([e.from,a,i]);this._active=!0,this._fn=e.fn||t1[e.type||typeof l],this._easing=Ai[e.easing]||Ai.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=l,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],a=r-this._start,l=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=ba([e.to,t,i,e.from]),this._from=ba([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,a=this._from,l=this._loop,u=this._to;let d;if(this._active=a!==u&&(l||t<r),!this._active){this._target[i]=u,this._notify(!0);return}if(t<0){this._target[i]=a;return}d=t/r%2,d=l&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[i]=this._fn(a,u,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}class Vy{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!be(e))return;const t=Object.keys(We.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const a=e[i];if(!be(a))return;const l={};for(const u of t)l[u]=a[u];(rt(a.properties)&&a.properties||[i]).forEach(u=>{(u===i||!r.has(u))&&r.set(u,l)})})}_animateOptions(e,t){const r=t.options,i=s1(e,r);if(!i)return[];const a=this._createAnimations(i,r);return r.$shared&&r1(e.options.$animations,r).then(()=>{e.options=r},()=>{}),a}_createAnimations(e,t){const r=this._properties,i=[],a=e.$animations||(e.$animations={}),l=Object.keys(t),u=Date.now();let d;for(d=l.length-1;d>=0;--d){const f=l[d];if(f.charAt(0)==="$")continue;if(f==="options"){i.push(...this._animateOptions(e,t));continue}const p=t[f];let v=a[f];const x=r.get(f);if(v)if(x&&v.active()){v.update(x,p,u);continue}else v.cancel();if(!x||!x.duration){e[f]=p;continue}a[f]=v=new n1(x,e,f,p),i.push(v)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return Sn.add(this._chart,r),!0}}function r1(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const a=n[r[i]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function s1(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Ig(n,e){const t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:r?a:i,end:r?i:a}}function i1(n,e,t){if(t===!1)return!1;const r=Ig(n,t),i=Ig(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function o1(n){let e,t,r,i;return be(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function qy(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,a;for(i=0,a=r.length;i<a;++i)t.push(r[i].index);return t}function Mg(n,e,t,r={}){const i=n.keys,a=r.mode==="single";let l,u,d,f;if(e===null)return;let p=!1;for(l=0,u=i.length;l<u;++l){if(d=+i[l],d===t){if(p=!0,r.all)continue;break}f=n.values[d],Tn(f)&&(a||e===0||bg(e)===bg(f))&&(e+=f)}return!p&&!r.all?0:e}function a1(n,e){const{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",a=r.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let d,f,p;for(d=0,f=l.length;d<f;++d)p=l[d],u[d]={[i]:p,[a]:n[p]};return u}function Cu(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function l1(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function c1(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function u1(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function Fg(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const a=n[i.index];if(t&&a>0||!t&&a<0)return i.index}return null}function $g(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:a,vScale:l,index:u}=r,d=a.axis,f=l.axis,p=l1(a,l,r),v=e.length;let x;for(let w=0;w<v;++w){const S=e[w],{[d]:k,[f]:b}=S,E=S._stacks||(S._stacks={});x=E[f]=u1(i,p,k),x[u]=b,x._top=Fg(x,l,!0,r.type),x._bottom=Fg(x,l,!1,r.type);const O=x._visualValues||(x._visualValues={});O[u]=b}}function Eu(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function d1(n,e){return js(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function h1(n,e,t){return js(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function xi(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const a=i._stacks;if(!a||a[r]===void 0||a[r][t]===void 0)return;delete a[r][t],a[r]._visualValues!==void 0&&a[r]._visualValues[t]!==void 0&&delete a[r]._visualValues[t]}}}const ju=n=>n==="reset"||n==="none",Ug=(n,e)=>e?n:Object.assign({},n),f1=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:qy(t,!0),values:null};class Ky{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Cu(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&xi(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(v,x,w,S)=>v==="x"?x:v==="r"?S:w,a=t.xAxisID=Pe(r.xAxisID,Eu(e,"x")),l=t.yAxisID=Pe(r.yAxisID,Eu(e,"y")),u=t.rAxisID=Pe(r.rAxisID,Eu(e,"r")),d=t.indexAxis,f=t.iAxisID=i(d,a,l,u),p=t.vAxisID=i(d,l,a,u);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Sg(this._data,this),e._stacked&&xi(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(be(t)){const i=this._cachedMeta;this._data=a1(t,i)}else if(r!==t){if(r){Sg(r,this);const i=this._cachedMeta;xi(i),i._parsed=[]}t&&Object.isExtensible(t)&&uk(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const a=t._stacked;t._stacked=Cu(t.vScale,t),t.stack!==r.stack&&(i=!0,xi(t),t.stack=r.stack),this._resyncElements(e),(i||a!==t._stacked)&&($g(this,t._parsed),t._stacked=Cu(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:i}=this,{iScale:a,_stacked:l}=r,u=a.axis;let d=e===0&&t===i.length?!0:r._sorted,f=e>0&&r._parsed[e-1],p,v,x;if(this._parsing===!1)r._parsed=i,r._sorted=!0,x=i;else{rt(i[e])?x=this.parseArrayData(r,i,e,t):be(i[e])?x=this.parseObjectData(r,i,e,t):x=this.parsePrimitiveData(r,i,e,t);const w=()=>v[u]===null||f&&v[u]<f[u];for(p=0;p<t;++p)r._parsed[p+e]=v=x[p],d&&(w()&&(d=!1),f=v);r._sorted=d}l&&$g(this,x)}parsePrimitiveData(e,t,r,i){const{iScale:a,vScale:l}=e,u=a.axis,d=l.axis,f=a.getLabels(),p=a===l,v=new Array(i);let x,w,S;for(x=0,w=i;x<w;++x)S=x+r,v[x]={[u]:p||a.parse(f[S],S),[d]:l.parse(t[S],S)};return v}parseArrayData(e,t,r,i){const{xScale:a,yScale:l}=e,u=new Array(i);let d,f,p,v;for(d=0,f=i;d<f;++d)p=d+r,v=t[p],u[d]={x:a.parse(v[0],p),y:l.parse(v[1],p)};return u}parseObjectData(e,t,r,i){const{xScale:a,yScale:l}=e,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,f=new Array(i);let p,v,x,w;for(p=0,v=i;p<v;++p)x=p+r,w=t[x],f[p]={x:a.parse(Ui(w,u),x),y:l.parse(Ui(w,d),x)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const i=this.chart,a=this._cachedMeta,l=t[e.axis],u={keys:qy(i,!0),values:t._stacks[e.axis]._visualValues};return Mg(u,l,a.index,{mode:r})}updateRangeFromParsed(e,t,r,i){const a=r[t.axis];let l=a===null?NaN:a;const u=i&&r._stacks[t.axis];i&&u&&(i.values=u,l=Mg(i,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const r=this._cachedMeta,i=r._parsed,a=r._sorted&&e===r.iScale,l=i.length,u=this._getOtherScale(e),d=f1(t,r,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:v}=c1(u);let x,w;function S(){w=i[x];const k=w[u.axis];return!Tn(w[e.axis])||p>k||v<k}for(x=0;x<l&&!(!S()&&(this.updateRangeFromParsed(f,e,w,d),a));++x);if(a){for(x=l-1;x>=0;--x)if(!S()){this.updateRangeFromParsed(f,e,w,d);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let i,a,l;for(i=0,a=t.length;i<a;++i)l=t[i][e.axis],Tn(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,i=t.vScale,a=this.getParsed(e);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=o1(Pe(this.options.clip,i1(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,i=r.data||[],a=t.chartArea,l=[],u=this._drawStart||0,d=this._drawCount||i.length-u,f=this.options.drawActiveElementsOnTop;let p;for(r.dataset&&r.dataset.draw(e,a,u,d),p=u;p<u+d;++p){const v=i[p];v.hidden||(v.active&&f?l.push(v):v.draw(e,a))}for(p=0;p<l.length;++p)l[p].draw(e,a)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const i=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=h1(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=i.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=d1(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=r,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const i=t==="active",a=this._cachedDataOpts,l=e+"-"+t,u=a[l],d=this.enableOptionSharing&&Ha(r);if(u)return Ug(u,d);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,e),v=i?[`${e}Hover`,"hover",e,""]:[e,""],x=f.getOptionScopes(this.getDataset(),p),w=Object.keys(We.elements[e]),S=()=>this.getContext(r,i,t),k=f.resolveNamedOptions(x,w,S,v);return k.$shared&&(k.$shared=d,a[l]=Object.freeze(Ug(k,d))),k}_resolveAnimations(e,t,r){const i=this.chart,a=this._cachedDataOpts,l=`animation-${t}`,u=a[l];if(u)return u;let d;if(i.options.animation!==!1){const p=this.chart.config,v=p.datasetAnimationScopeKeys(this._type,t),x=p.getOptionScopes(this.getDataset(),v);d=p.createResolver(x,this.getContext(e,r,t))}const f=new Vy(i,d&&d.animations);return d&&d._cacheable&&(a[l]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||ju(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,a=this.getSharedOptions(r),l=this.includeOptions(t,a)||a!==i;return this.updateSharedOptions(a,t,r),{sharedOptions:a,includeOptions:l}}updateElement(e,t,r,i){ju(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!ju(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;const a=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[u,d,f]of this._syncList)this[u](d,f);this._syncList=[];const i=r.length,a=t.length,l=Math.min(a,i);l&&this.parse(0,l),a>i?this._insertElements(i,a-i,e):a<i&&this._removeElements(a,i-a)}_insertElements(e,t,r=!0){const i=this._cachedMeta,a=i.data,l=e+t;let u;const d=f=>{for(f.length+=t,u=f.length-1;u>=l;u--)f[u]=f[u-t]};for(d(a),u=e;u<l;++u)a[u]=new this.dataElementType;this._parsing&&d(i._parsed),this.parse(e,t),r&&this.updateElements(a,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,t);r._stacked&&xi(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function p1(n,e,t){let r=1,i=1,a=0,l=0;if(e<qe){const u=n,d=u+e,f=Math.cos(u),p=Math.sin(u),v=Math.cos(d),x=Math.sin(d),w=(T,I,L)=>qa(T,u,d,!0)?1:Math.max(I,I*t,L,L*t),S=(T,I,L)=>qa(T,u,d,!0)?-1:Math.min(I,I*t,L,L*t),k=w(0,f,v),b=w(Ye,p,x),E=S(Le,f,v),O=S(Le+Ye,p,x);r=(k-E)/2,i=(b-O)/2,a=-(k+E)/2,l=-(b+O)/2}return{ratioX:r,ratioY:i,offsetX:a,offsetY:l}}class g1 extends Ky{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return t.labels.map((a,l)=>{const d=e.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:i,lineWidth:d.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let a=d=>+r[d];if(be(r[e])){const{key:d="value"}=this._parsing;a=f=>+Ui(r[f],d)}let l,u;for(l=e,u=e+t;l<u;++l)i._parsed[l]=a(l)}}_getRotation(){return jr(this.options.rotation-90)}_getCircumference(){return jr(this.options.circumference)}_getRotationExtents(){let e=qe,t=-qe;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,a=i._getRotation(),l=i._getCircumference();e=Math.min(e,a),t=Math.max(t,a+l)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,i=this._cachedMeta,a=i.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,u=Math.max((Math.min(r.width,r.height)-l)/2,0),d=Math.min(QS(this.options.cutout,u),1),f=this._getRingWeight(this.index),{circumference:p,rotation:v}=this._getRotationExtents(),{ratioX:x,ratioY:w,offsetX:S,offsetY:k}=p1(v,p,d),b=(r.width-l)/x,E=(r.height-l)/w,O=Math.max(Math.min(b,E)/2,0),T=Ty(this.options.radius,O),I=Math.max(T*d,0),L=(T-I)/this._getVisibleDatasetWeightTotal();this.offsetX=S*T,this.offsetY=k*T,i.total=this.calculateTotal(),this.outerRadius=T-L*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-L*f,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const r=this.options,i=this._cachedMeta,a=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*a/qe)}updateElements(e,t,r,i){const a=i==="reset",l=this.chart,u=l.chartArea,f=l.options.animation,p=(u.left+u.right)/2,v=(u.top+u.bottom)/2,x=a&&f.animateScale,w=x?0:this.innerRadius,S=x?0:this.outerRadius,{sharedOptions:k,includeOptions:b}=this._getSharedOptions(t,i);let E=this._getRotation(),O;for(O=0;O<t;++O)E+=this._circumference(O,a);for(O=t;O<t+r;++O){const T=this._circumference(O,a),I=e[O],L={x:p+this.offsetX,y:v+this.offsetY,startAngle:E,endAngle:E+T,circumference:T,outerRadius:S,innerRadius:w};b&&(L.options=k||this.resolveDataElementOptions(O,I.active?"active":i)),E+=T,this.updateElement(I,O,L,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,i;for(i=0;i<t.length;i++){const a=e._parsed[i];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?qe*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],a=xk(t._parsed[e],r.options.locale);return{label:i[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const r=this.chart;let i,a,l,u,d;if(!e){for(i=0,a=r.data.datasets.length;i<a;++i)if(r.isDatasetVisible(i)){l=r.getDatasetMeta(i),e=l.data,u=l.controller;break}}if(!e)return 0;for(i=0,a=e.length;i<a;++i)d=u.resolveDataElementOptions(i),d.borderAlign!=="inner"&&(t=Math.max(t,d.borderWidth||0,d.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,i=e.length;r<i;++r){const a=this.resolveDataElementOptions(r);t=Math.max(t,a.offset||0,a.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(Pe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class m1 extends g1{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function Sr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Td{static override(e){Object.assign(Td.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Sr()}parse(){return Sr()}format(){return Sr()}add(){return Sr()}diff(){return Sr()}startOf(){return Sr()}endOf(){return Sr()}}var y1={_date:Td};function v1(n,e,t,r){const{controller:i,data:a,_sorted:l}=n,u=i._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&a.length){const f=u._reversePixels?lk:Ku;if(r){if(i._sharedOptions){const p=a[0],v=typeof p.getRange=="function"&&p.getRange(e);if(v){const x=f(a,e,t-v),w=f(a,e,t+v);return{lo:x.lo,hi:w.hi}}}}else{const p=f(a,e,t);if(d){const{vScale:v}=i._cachedMeta,{_parsed:x}=n,w=x.slice(0,p.lo+1).reverse().findIndex(k=>!ut(k[v.axis]));p.lo-=Math.max(0,w);const S=x.slice(p.hi).findIndex(k=>!ut(k[v.axis]));p.hi+=Math.max(0,S)}return p}}return{lo:0,hi:a.length-1}}function ol(n,e,t,r,i){const a=n.getSortedVisibleDatasetMetas(),l=t[e];for(let u=0,d=a.length;u<d;++u){const{index:f,data:p}=a[u],{lo:v,hi:x}=v1(a[u],e,l,i);for(let w=v;w<=x;++w){const S=p[w];S.skip||r(S,f,w)}}}function x1(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){const a=e?Math.abs(r.x-i.x):0,l=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Pu(n,e,t,r,i){const a=[];return!i&&!n.isPointInArea(e)||ol(n,t,e,function(u,d,f){!i&&!Fy(u,n.chartArea,0)||u.inRange(e.x,e.y,r)&&a.push({element:u,datasetIndex:d,index:f})},!0),a}function w1(n,e,t,r){let i=[];function a(l,u,d){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],r),{angle:v}=Ry(l,{x:e.x,y:e.y});qa(v,f,p)&&i.push({element:l,datasetIndex:u,index:d})}return ol(n,t,e,a),i}function _1(n,e,t,r,i,a){let l=[];const u=x1(t);let d=Number.POSITIVE_INFINITY;function f(p,v,x){const w=p.inRange(e.x,e.y,i);if(r&&!w)return;const S=p.getCenterPoint(i);if(!(!!a||n.isPointInArea(S))&&!w)return;const b=u(e,S);b<d?(l=[{element:p,datasetIndex:v,index:x}],d=b):b===d&&l.push({element:p,datasetIndex:v,index:x})}return ol(n,t,e,f),l}function Tu(n,e,t,r,i,a){return!a&&!n.isPointInArea(e)?[]:t==="r"&&!r?w1(n,e,t,i):_1(n,e,t,r,i,a)}function zg(n,e,t,r,i){const a=[],l=t==="x"?"inXRange":"inYRange";let u=!1;return ol(n,t,e,(d,f,p)=>{d[l]&&d[l](e[t],i)&&(a.push({element:d,datasetIndex:f,index:p}),u=u||d.inRange(e.x,e.y,i))}),r&&!u?[]:a}var b1={modes:{index(n,e,t,r){const i=Cr(e,n),a=t.axis||"x",l=t.includeInvisible||!1,u=t.intersect?Pu(n,i,a,r,l):Tu(n,i,a,!1,r,l),d=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const p=u[0].index,v=f.data[p];v&&!v.skip&&d.push({element:v,datasetIndex:f.index,index:p})}),d):[]},dataset(n,e,t,r){const i=Cr(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;let u=t.intersect?Pu(n,i,a,r,l):Tu(n,i,a,!1,r,l);if(u.length>0){const d=u[0].datasetIndex,f=n.getDatasetMeta(d).data;u=[];for(let p=0;p<f.length;++p)u.push({element:f[p],datasetIndex:d,index:p})}return u},point(n,e,t,r){const i=Cr(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return Pu(n,i,a,r,l)},nearest(n,e,t,r){const i=Cr(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return Tu(n,i,a,t.intersect,r,l)},x(n,e,t,r){const i=Cr(e,n);return zg(n,i,"x",t.intersect,r)},y(n,e,t,r){const i=Cr(e,n);return zg(n,i,"y",t.intersect,r)}}};const Jy=["left","top","right","bottom"];function wi(n,e){return n.filter(t=>t.pos===e)}function Bg(n,e){return n.filter(t=>Jy.indexOf(t.pos)===-1&&t.box.axis===e)}function _i(n,e){return n.sort((t,r)=>{const i=e?r:t,a=e?t:r;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function S1(n){const e=[];let t,r,i,a,l,u;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:a,options:{stack:l,stackWeight:u=1}}=i,e.push({index:t,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:l&&a+l,stackWeight:u});return e}function k1(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:a}=t;if(!r||!Jy.includes(i))continue;const l=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function C1(n,e){const t=k1(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let a,l,u;for(a=0,l=n.length;a<l;++a){u=n[a];const{fullSize:d}=u.box,f=t[u.stack],p=f&&u.stackWeight/f.weight;u.horizontal?(u.width=p?p*r:d&&e.availableWidth,u.height=i):(u.width=r,u.height=p?p*i:d&&e.availableHeight)}return t}function E1(n){const e=S1(n),t=_i(e.filter(f=>f.box.fullSize),!0),r=_i(wi(e,"left"),!0),i=_i(wi(e,"right")),a=_i(wi(e,"top"),!0),l=_i(wi(e,"bottom")),u=Bg(e,"x"),d=Bg(e,"y");return{fullSize:t,leftAndTop:r.concat(a),rightAndBottom:i.concat(d).concat(l).concat(u),chartArea:wi(e,"chartArea"),vertical:r.concat(i).concat(d),horizontal:a.concat(l).concat(u)}}function Hg(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function Yy(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function j1(n,e,t,r){const{pos:i,box:a}=t,l=n.maxPadding;if(!be(i)){t.size&&(n[i]-=t.size);const v=r[t.stack]||{size:0,count:1};v.size=Math.max(v.size,t.horizontal?a.height:a.width),t.size=v.size/v.count,n[i]+=t.size}a.getPadding&&Yy(l,a.getPadding());const u=Math.max(0,e.outerWidth-Hg(l,n,"left","right")),d=Math.max(0,e.outerHeight-Hg(l,n,"top","bottom")),f=u!==n.w,p=d!==n.h;return n.w=u,n.h=d,t.horizontal?{same:f,other:p}:{same:p,other:f}}function P1(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function T1(n,e){const t=e.maxPadding;function r(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(l=>{a[l]=Math.max(e[l],t[l])}),a}return r(n?["left","right"]:["top","bottom"])}function Pi(n,e,t,r){const i=[];let a,l,u,d,f,p;for(a=0,l=n.length,f=0;a<l;++a){u=n[a],d=u.box,d.update(u.width||e.w,u.height||e.h,T1(u.horizontal,e));const{same:v,other:x}=j1(e,t,u,r);f|=v&&i.length,p=p||x,d.fullSize||i.push(u)}return f&&Pi(i,e,t,r)||p}function Ca(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function Wg(n,e,t,r){const i=t.padding;let{x:a,y:l}=e;for(const u of n){const d=u.box,f=r[u.stack]||{placed:0,weight:1},p=u.stackWeight/f.weight||1;if(u.horizontal){const v=e.w*p,x=f.size||d.height;Ha(f.start)&&(l=f.start),d.fullSize?Ca(d,i.left,l,t.outerWidth-i.right-i.left,x):Ca(d,e.left+f.placed,l,v,x),f.start=l,f.placed+=v,l=d.bottom}else{const v=e.h*p,x=f.size||d.width;Ha(f.start)&&(a=f.start),d.fullSize?Ca(d,a,i.top,x,t.outerHeight-i.bottom-i.top):Ca(d,a,e.top+f.placed,x,v),f.start=a,f.placed+=v,a=d.right}}e.x=a,e.y=l}var tr={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=Qt(n.options.layout.padding),a=Math.max(e-i.width,0),l=Math.max(t-i.height,0),u=E1(n.boxes),d=u.vertical,f=u.horizontal;je(n.boxes,k=>{typeof k.beforeLayout=="function"&&k.beforeLayout()});const p=d.reduce((k,b)=>b.box.options&&b.box.options.display===!1?k:k+1,0)||1,v=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/p,hBoxMaxHeight:l/2}),x=Object.assign({},i);Yy(x,Qt(r));const w=Object.assign({maxPadding:x,w:a,h:l,x:i.left,y:i.top},i),S=C1(d.concat(f),v);Pi(u.fullSize,w,v,S),Pi(d,w,v,S),Pi(f,w,v,S)&&Pi(d,w,v,S),P1(w),Wg(u.leftAndTop,w,v,S),w.x+=w.w,w.y+=w.h,Wg(u.rightAndBottom,w,v,S),n.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},je(u.chartArea,k=>{const b=k.box;Object.assign(b,n.chartArea),b.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class Qy{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class N1 extends Qy{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Aa="$chartjs",R1={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Vg=n=>n===null||n==="";function O1(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[Aa]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Vg(i)){const a=Lg(n,"width");a!==void 0&&(n.width=a)}if(Vg(r))if(n.style.height==="")n.height=n.width/(e||2);else{const a=Lg(n,"height");a!==void 0&&(n.height=a)}return n}const Gy=Yk?{passive:!0}:!1;function A1(n,e,t){n&&n.addEventListener(e,t,Gy)}function L1(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,Gy)}function D1(n,e){const t=R1[n.type]||n.type,{x:r,y:i}=Cr(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Ya(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function I1(n,e,t){const r=n.canvas,i=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||Ya(u.addedNodes,r),l=l&&!Ya(u.removedNodes,r);l&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function M1(n,e,t){const r=n.canvas,i=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||Ya(u.removedNodes,r),l=l&&!Ya(u.addedNodes,r);l&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const zi=new Map;let qg=0;function Xy(){const n=window.devicePixelRatio;n!==qg&&(qg=n,zi.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function F1(n,e){zi.size||window.addEventListener("resize",Xy),zi.set(n,e)}function $1(n){zi.delete(n),zi.size||window.removeEventListener("resize",Xy)}function U1(n,e,t){const r=n.canvas,i=r&&Pd(r);if(!i)return;const a=Ly((u,d)=>{const f=i.clientWidth;t(u,d),f<i.clientWidth&&t()},window),l=new ResizeObserver(u=>{const d=u[0],f=d.contentRect.width,p=d.contentRect.height;f===0&&p===0||a(f,p)});return l.observe(i),F1(n,a),l}function Nu(n,e,t){t&&t.disconnect(),e==="resize"&&$1(n)}function z1(n,e,t){const r=n.canvas,i=Ly(a=>{n.ctx!==null&&t(D1(a,n))},n);return A1(r,e,i),i}class B1 extends Qy{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(O1(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[Aa])return!1;const r=t[Aa].initial;["height","width"].forEach(a=>{const l=r[a];ut(l)?t.removeAttribute(a):t.setAttribute(a,l)});const i=r.style||{};return Object.keys(i).forEach(a=>{t.style[a]=i[a]}),t.width=t.width,delete t[Aa],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),l={attach:I1,detach:M1,resize:U1}[t]||z1;i[t]=l(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:Nu,detach:Nu,resize:Nu}[t]||L1)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return Jk(e,t,r,i)}isAttached(e){const t=e&&Pd(e);return!!(t&&t.isConnected)}}function H1(n){return!jd()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?N1:B1}class Yi{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return Va(this.x)&&Va(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(a=>{i[a]=r[a]&&r[a].active()?r[a]._to:this[a]}),i}}function W1(n,e){const t=n.options.ticks,r=V1(n),i=Math.min(t.maxTicksLimit||r,r),a=t.major.enabled?K1(e):[],l=a.length,u=a[0],d=a[l-1],f=[];if(l>i)return J1(e,f,a,l/i),f;const p=q1(a,e,i);if(l>0){let v,x;const w=l>1?Math.round((d-u)/(l-1)):null;for(Ea(e,f,p,ut(w)?0:u-w,u),v=0,x=l-1;v<x;v++)Ea(e,f,p,a[v],a[v+1]);return Ea(e,f,p,d,ut(w)?e.length:d+w),f}return Ea(e,f,p),f}function V1(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function q1(n,e,t){const r=Y1(n),i=e.length/t;if(!r)return Math.max(i,1);const a=rk(r);for(let l=0,u=a.length-1;l<u;l++){const d=a[l];if(d>i)return d}return Math.max(i,1)}function K1(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function J1(n,e,t,r){let i=0,a=t[0],l;for(r=Math.ceil(r),l=0;l<n.length;l++)l===a&&(e.push(n[l]),i++,a=t[i*r])}function Ea(n,e,t,r,i){const a=Pe(r,0),l=Math.min(Pe(i,n.length),n.length);let u=0,d,f,p;for(t=Math.ceil(t),i&&(d=i-r,t=d/Math.floor(d/t)),p=a;p<0;)u++,p=Math.round(a+u*t);for(f=Math.max(a,0);f<l;f++)f===p&&(e.push(n[f]),u++,p=Math.round(a+u*t))}function Y1(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const Q1=n=>n==="left"?"right":n==="right"?"left":n,Kg=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,Jg=(n,e)=>Math.min(e||n,n);function Yg(n,e){const t=[],r=n.length/e,i=n.length;let a=0;for(;a<i;a+=r)t.push(n[Math.floor(a)]);return t}function G1(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),a=n._startPixel,l=n._endPixel,u=1e-6;let d=n.getPixelForTick(i),f;if(!(t&&(r===1?f=Math.max(d-a,l-d):e===0?f=(n.getPixelForTick(1)-d)/2:f=(d-n.getPixelForTick(i-1))/2,d+=i<e?f:-f,d<a-u||d>l+u)))return d}function X1(n,e){je(n,t=>{const r=t.gc,i=r.length/2;let a;if(i>e){for(a=0;a<i;++a)delete t.data[r[a]];r.splice(0,i)}})}function bi(n){return n.drawTicks?n.tickLength:0}function Qg(n,e){if(!n.display)return 0;const t=St(n.font,e),r=Qt(n.padding);return(rt(n.text)?n.text.length:1)*t.lineHeight+r.height}function Z1(n,e){return js(n,{scale:e,type:"scale"})}function eC(n,e,t){return js(n,{tick:t,index:e,type:"tick"})}function tC(n,e,t){let r=Dy(n);return(t&&e!=="right"||!t&&e==="right")&&(r=Q1(r)),r}function nC(n,e,t,r){const{top:i,left:a,bottom:l,right:u,chart:d}=n,{chartArea:f,scales:p}=d;let v=0,x,w,S;const k=l-i,b=u-a;if(n.isHorizontal()){if(w=Rt(r,a,u),be(t)){const E=Object.keys(t)[0],O=t[E];S=p[E].getPixelForValue(O)+k-e}else t==="center"?S=(f.bottom+f.top)/2+k-e:S=Kg(n,t,e);x=u-a}else{if(be(t)){const E=Object.keys(t)[0],O=t[E];w=p[E].getPixelForValue(O)-b+e}else t==="center"?w=(f.left+f.right)/2-b+e:w=Kg(n,t,e);S=Rt(r,l,i),v=t==="left"?-Ye:Ye}return{titleX:w,titleY:S,maxWidth:x,rotation:v}}class al extends Yi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=sn(e,Number.POSITIVE_INFINITY),t=sn(t,Number.NEGATIVE_INFINITY),r=sn(r,Number.POSITIVE_INFINITY),i=sn(i,Number.NEGATIVE_INFINITY),{min:sn(e,r),max:sn(t,i),minDefined:Tn(e),maxDefined:Tn(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:a}=this.getUserBounds(),l;if(i&&a)return{min:t,max:r};const u=this.getMatchingVisibleMetas();for(let d=0,f=u.length;d<f;++d)l=u[d].controller.getMinMax(this,e),i||(t=Math.min(t,l.min)),a||(r=Math.max(r,l.max));return t=a&&t>r?r:t,r=i&&t>r?t:r,{min:sn(t,sn(r,t)),max:sn(r,sn(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ae(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:a,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Ak(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=u<this.ticks.length;this._convertTicksToLabels(d?Yg(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=W1(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ae(this.options.afterUpdate,[this])}beforeSetDimensions(){Ae(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ae(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ae(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ae(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,a;for(r=0,i=e.length;r<i;r++)a=e[r],a.label=Ae(t.callback,[a.value,r,e],this)}afterTickToLabelConversion(){Ae(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ae(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=Jg(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,a=t.maxRotation;let l=i,u,d,f;if(!this._isVisible()||!t.display||i>=a||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const p=this._getLabelSizes(),v=p.widest.width,x=p.highest.height,w=$t(this.chart.width-v,0,this.maxWidth);u=e.offset?this.maxWidth/r:w/(r-1),v+6>u&&(u=w/(r-(e.offset?.5:1)),d=this.maxHeight-bi(e.grid)-t.padding-Qg(e.title,this.chart.options.font),f=Math.sqrt(v*v+x*x),l=ik(Math.min(Math.asin($t((p.highest.height+6)/u,-1,1)),Math.asin($t(d/f,-1,1))-Math.asin($t(x/f,-1,1)))),l=Math.max(i,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){Ae(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ae(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:a}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const d=Qg(i,t.options.font);if(u?(e.width=this.maxWidth,e.height=bi(a)+d):(e.height=this.maxHeight,e.width=bi(a)+d),r.display&&this.ticks.length){const{first:f,last:p,widest:v,highest:x}=this._getLabelSizes(),w=r.padding*2,S=jr(this.labelRotation),k=Math.cos(S),b=Math.sin(S);if(u){const E=r.mirror?0:b*v.width+k*x.height;e.height=Math.min(this.maxHeight,e.height+E+w)}else{const E=r.mirror?0:k*v.width+b*x.height;e.width=Math.min(this.maxWidth,e.width+E+w)}this._calculatePadding(f,p,b,k)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:a,padding:l},position:u}=this.options,d=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,w=0;d?f?(x=i*e.width,w=r*t.height):(x=r*e.height,w=i*t.width):a==="start"?w=t.width:a==="end"?x=e.width:a!=="inner"&&(x=e.width/2,w=t.width/2),this.paddingLeft=Math.max((x-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((w-v+l)*this.width/(this.width-v),0)}else{let p=t.height/2,v=e.height/2;a==="start"?(p=0,v=e.height):a==="end"&&(p=t.height,v=0),this.paddingTop=p+l,this.paddingBottom=v+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ae(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)ut(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=Yg(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:i,_longestTextCache:a}=this,l=[],u=[],d=Math.floor(t/Jg(t,r));let f=0,p=0,v,x,w,S,k,b,E,O,T,I,L;for(v=0;v<t;v+=d){if(S=e[v].label,k=this._resolveTickFontOptions(v),i.font=b=k.string,E=a[b]=a[b]||{data:{},gc:[]},O=k.lineHeight,T=I=0,!ut(S)&&!rt(S))T=Pg(i,E.data,E.gc,T,S),I=O;else if(rt(S))for(x=0,w=S.length;x<w;++x)L=S[x],!ut(L)&&!rt(L)&&(T=Pg(i,E.data,E.gc,T,L),I+=O);l.push(T),u.push(I),f=Math.max(T,f),p=Math.max(I,p)}X1(a,t);const $=l.indexOf(f),W=u.indexOf(p),Y=ee=>({width:l[ee]||0,height:u[ee]||0});return{first:Y(0),last:Y(t-1),widest:Y($),highest:Y(W),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return ak(this._alignToPixels?br(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=eC(this.getContext(),e,r))}return this.$context||(this.$context=Z1(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=jr(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,u=a?a.widest.width+l:0,d=a?a.highest.height+l:0;return this.isHorizontal()?d*r>u*i?u/r:d/i:d*i<u*r?d/r:u/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:a,position:l,border:u}=i,d=a.offset,f=this.isHorizontal(),v=this.ticks.length+(d?1:0),x=bi(a),w=[],S=u.setContext(this.getContext()),k=S.display?S.width:0,b=k/2,E=function(fe){return br(r,fe,k)};let O,T,I,L,$,W,Y,ee,se,he,de,xe;if(l==="top")O=E(this.bottom),W=this.bottom-x,ee=O-b,he=E(e.top)+b,xe=e.bottom;else if(l==="bottom")O=E(this.top),he=e.top,xe=E(e.bottom)-b,W=O+b,ee=this.top+x;else if(l==="left")O=E(this.right),$=this.right-x,Y=O-b,se=E(e.left)+b,de=e.right;else if(l==="right")O=E(this.left),se=e.left,de=E(e.right)-b,$=O+b,Y=this.left+x;else if(t==="x"){if(l==="center")O=E((e.top+e.bottom)/2+.5);else if(be(l)){const fe=Object.keys(l)[0],ae=l[fe];O=E(this.chart.scales[fe].getPixelForValue(ae))}he=e.top,xe=e.bottom,W=O+b,ee=W+x}else if(t==="y"){if(l==="center")O=E((e.left+e.right)/2);else if(be(l)){const fe=Object.keys(l)[0],ae=l[fe];O=E(this.chart.scales[fe].getPixelForValue(ae))}$=O-b,Y=$-x,se=e.left,de=e.right}const ke=Pe(i.ticks.maxTicksLimit,v),pe=Math.max(1,Math.ceil(v/ke));for(T=0;T<v;T+=pe){const fe=this.getContext(T),ae=a.setContext(fe),K=u.setContext(fe),Q=ae.lineWidth,J=ae.color,R=K.dash||[],U=K.dashOffset,le=ae.tickWidth,ce=ae.tickColor,V=ae.tickBorderDash||[],re=ae.tickBorderDashOffset;I=G1(this,T,d),I!==void 0&&(L=br(r,I,Q),f?$=Y=se=de=L:W=ee=he=xe=L,w.push({tx1:$,ty1:W,tx2:Y,ty2:ee,x1:se,y1:he,x2:de,y2:xe,width:Q,color:J,borderDash:R,borderDashOffset:U,tickWidth:le,tickColor:ce,tickBorderDash:V,tickBorderDashOffset:re}))}return this._ticksLength=v,this._borderValue=O,w}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:a}=r,l=this.isHorizontal(),u=this.ticks,{align:d,crossAlign:f,padding:p,mirror:v}=a,x=bi(r.grid),w=x+p,S=v?-p:w,k=-jr(this.labelRotation),b=[];let E,O,T,I,L,$,W,Y,ee,se,he,de,xe="middle";if(i==="top")$=this.bottom-S,W=this._getXAxisLabelAlignment();else if(i==="bottom")$=this.top+S,W=this._getXAxisLabelAlignment();else if(i==="left"){const pe=this._getYAxisLabelAlignment(x);W=pe.textAlign,L=pe.x}else if(i==="right"){const pe=this._getYAxisLabelAlignment(x);W=pe.textAlign,L=pe.x}else if(t==="x"){if(i==="center")$=(e.top+e.bottom)/2+w;else if(be(i)){const pe=Object.keys(i)[0],fe=i[pe];$=this.chart.scales[pe].getPixelForValue(fe)+w}W=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")L=(e.left+e.right)/2-w;else if(be(i)){const pe=Object.keys(i)[0],fe=i[pe];L=this.chart.scales[pe].getPixelForValue(fe)}W=this._getYAxisLabelAlignment(x).textAlign}t==="y"&&(d==="start"?xe="top":d==="end"&&(xe="bottom"));const ke=this._getLabelSizes();for(E=0,O=u.length;E<O;++E){T=u[E],I=T.label;const pe=a.setContext(this.getContext(E));Y=this.getPixelForTick(E)+a.labelOffset,ee=this._resolveTickFontOptions(E),se=ee.lineHeight,he=rt(I)?I.length:1;const fe=he/2,ae=pe.color,K=pe.textStrokeColor,Q=pe.textStrokeWidth;let J=W;l?(L=Y,W==="inner"&&(E===O-1?J=this.options.reverse?"left":"right":E===0?J=this.options.reverse?"right":"left":J="center"),i==="top"?f==="near"||k!==0?de=-he*se+se/2:f==="center"?de=-ke.highest.height/2-fe*se+se:de=-ke.highest.height+se/2:f==="near"||k!==0?de=se/2:f==="center"?de=ke.highest.height/2-fe*se:de=ke.highest.height-he*se,v&&(de*=-1),k!==0&&!pe.showLabelBackdrop&&(L+=se/2*Math.sin(k))):($=Y,de=(1-he)*se/2);let R;if(pe.showLabelBackdrop){const U=Qt(pe.backdropPadding),le=ke.heights[E],ce=ke.widths[E];let V=de-U.top,re=0-U.left;switch(xe){case"middle":V-=le/2;break;case"bottom":V-=le;break}switch(W){case"center":re-=ce/2;break;case"right":re-=ce;break;case"inner":E===O-1?re-=ce:E>0&&(re-=ce/2);break}R={left:re,top:V,width:ce+U.width,height:le+U.height,color:pe.backdropColor}}b.push({label:I,font:ee,textOffset:de,options:{rotation:k,color:ae,strokeColor:K,strokeWidth:Q,textAlign:J,textBaseline:xe,translation:[L,$],backdrop:R}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-jr(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:a}}=this.options,l=this._getLabelSizes(),u=e+a,d=l.widest.width;let f,p;return t==="left"?i?(p=this.right+a,r==="near"?f="left":r==="center"?(f="center",p+=d/2):(f="right",p+=d)):(p=this.right-u,r==="near"?f="right":r==="center"?(f="center",p-=d/2):(f="left",p=this.left)):t==="right"?i?(p=this.left+a,r==="near"?f="right":r==="center"?(f="center",p-=d/2):(f="left",p-=d)):(p=this.left+u,r==="near"?f="left":r==="center"?(f="center",p+=d/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:a,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,a,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(a=>a.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,l;const u=(d,f,p)=>{!p.width||!p.color||(r.save(),r.lineWidth=p.width,r.strokeStyle=p.color,r.setLineDash(p.borderDash||[]),r.lineDashOffset=p.borderDashOffset,r.beginPath(),r.moveTo(d.x,d.y),r.lineTo(f.x,f.y),r.stroke(),r.restore())};if(t.display)for(a=0,l=i.length;a<l;++a){const d=i[a];t.drawOnChartArea&&u({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),t.drawTicks&&u({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:i}}=this,a=r.setContext(this.getContext()),l=r.display?a.width:0;if(!l)return;const u=i.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let f,p,v,x;this.isHorizontal()?(f=br(e,this.left,l)-l/2,p=br(e,this.right,u)+u/2,v=x=d):(v=br(e,this.top,l)-l/2,x=br(e,this.bottom,u)+u/2,f=p=d),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(f,v),t.lineTo(p,x),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&_d(r,i);const a=this.getLabelItems(e);for(const l of a){const u=l.options,d=l.font,f=l.label,p=l.textOffset;Ka(r,f,0,p,d,u)}i&&bd(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const a=St(r.font),l=Qt(r.padding),u=r.align;let d=a.lineHeight/2;t==="bottom"||t==="center"||be(t)?(d+=l.bottom,rt(r.text)&&(d+=a.lineHeight*(r.text.length-1))):d+=l.top;const{titleX:f,titleY:p,maxWidth:v,rotation:x}=nC(this,d,t,u);Ka(e,r.text,0,0,a,{color:r.color,maxWidth:v,rotation:x,textAlign:tC(u,t,i),textBaseline:"middle",translation:[f,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=Pe(e.grid&&e.grid.z,-1),i=Pe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==al.prototype.draw?[{z:t,draw:a=>{this.draw(a)}}]:[{z:r,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let a,l;for(a=0,l=t.length;a<l;++a){const u=t[a];u[r]===this.id&&(!e||u.type===e)&&i.push(u)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return St(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ja{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;iC(t)&&(r=this.register(t));const i=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in i||(i[a]=e,rC(e,l,r),this.override&&We.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in We[i]&&(delete We[i][r],this.override&&delete Rr[r])}}function rC(n,e,t){const r=$i(Object.create(null),[t?We.get(t):{},We.get(e),n.defaults]);We.set(e,r),n.defaultRoutes&&sC(e,n.defaultRoutes),n.descriptors&&We.describe(e,n.descriptors)}function sC(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),a=[n].concat(r).join("."),l=e[t].split("."),u=l.pop(),d=l.join(".");We.route(a,i,d,u)})}function iC(n){return"id"in n&&"defaults"in n}class oC{constructor(){this.controllers=new ja(Ky,"datasets",!0),this.elements=new ja(Yi,"elements"),this.plugins=new ja(Object,"plugins"),this.scales=new ja(al,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const a=r||this._getRegistryForType(i);r||a.isForType(i)||a===this.plugins&&i.id?this._exec(e,a,i):je(i,l=>{const u=r||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,t,r){const i=xd(e);Ae(r["before"+i],[],r),t[e](r),Ae(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var ln=new oC;class aC{constructor(){this._init=[]}notify(e,t,r,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=i?this._descriptors(e).filter(i):this._descriptors(e),l=this._notify(a,e,t,r);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,t,r,i){i=i||{};for(const a of e){const l=a.plugin,u=l[r],d=[t,i,a.options];if(Ae(u,d,l)===!1&&i.cancelable)return!1}return!0}invalidate(){ut(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=Pe(r.options&&r.options.plugins,{}),a=lC(r);return i===!1&&!t?[]:uC(e,a,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(a,l)=>a.filter(u=>!l.some(d=>u.plugin.id===d.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function lC(n){const e={},t=[],r=Object.keys(ln.plugins.items);for(let a=0;a<r.length;a++)t.push(ln.getPlugin(r[a]));const i=n.plugins||[];for(let a=0;a<i.length;a++){const l=i[a];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function cC(n,e){return!e&&n===!1?null:n===!0?{}:n}function uC(n,{plugins:e,localIds:t},r,i){const a=[],l=n.getContext();for(const u of e){const d=u.id,f=cC(r[d],i);f!==null&&a.push({plugin:u,options:dC(n.config,{plugin:u,local:t[d]},f,l)})}return a}function dC(n,{plugin:e,local:t},r,i){const a=n.pluginScopeKeys(e),l=n.getOptionScopes(r,a);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Qu(n,e){const t=We.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function hC(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function fC(n,e){return n===e?"_index_":"_value_"}function Gg(n){if(n==="x"||n==="y"||n==="r")return n}function pC(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Gu(n,...e){if(Gg(n))return n;for(const t of e){const r=t.axis||pC(t.position)||n.length>1&&Gg(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Xg(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function gC(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return Xg(n,"x",t[0])||Xg(n,"y",t[0])}return{}}function mC(n,e){const t=Rr[n.type]||{scales:{}},r=e.scales||{},i=Qu(n.type,e),a=Object.create(null);return Object.keys(r).forEach(l=>{const u=r[l];if(!be(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const d=Gu(l,u,gC(l,n),We.scales[u.type]),f=fC(d,i),p=t.scales||{};a[l]=Oi(Object.create(null),[{axis:d},u,p[d],p[f]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,d=l.indexAxis||Qu(u,e),p=(Rr[u]||{}).scales||{};Object.keys(p).forEach(v=>{const x=hC(v,d),w=l[x+"AxisID"]||x;a[w]=a[w]||Object.create(null),Oi(a[w],[{axis:x},r[w],p[v]])})}),Object.keys(a).forEach(l=>{const u=a[l];Oi(u,[We.scales[u.type],We.scale])}),a}function Zy(n){const e=n.options||(n.options={});e.plugins=Pe(e.plugins,{}),e.scales=mC(n,e)}function e0(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function yC(n){return n=n||{},n.data=e0(n.data),Zy(n),n}const Zg=new Map,t0=new Set;function Pa(n,e){let t=Zg.get(n);return t||(t=e(),Zg.set(n,t),t0.add(t)),t}const Si=(n,e,t)=>{const r=Ui(e,t);r!==void 0&&n.add(r)};class vC{constructor(e){this._config=yC(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=e0(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Zy(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Pa(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Pa(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Pa(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return Pa(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:a}=this,l=this._cachedScopes(e,r),u=l.get(t);if(u)return u;const d=new Set;t.forEach(p=>{e&&(d.add(e),p.forEach(v=>Si(d,e,v))),p.forEach(v=>Si(d,i,v)),p.forEach(v=>Si(d,Rr[a]||{},v)),p.forEach(v=>Si(d,We,v)),p.forEach(v=>Si(d,Ju,v))});const f=Array.from(d);return f.length===0&&f.push(Object.create(null)),t0.has(t)&&l.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,Rr[t]||{},We.datasets[t]||{},{type:t},We,Ju]}resolveNamedOptions(e,t,r,i=[""]){const a={$shared:!0},{resolver:l,subPrefixes:u}=em(this._resolverCache,e,i);let d=l;if(wC(l,t)){a.$shared=!1,r=sr(r)?r():r;const f=this.createResolver(e,r,u);d=Ss(l,r,f)}for(const f of t)a[f]=d[f];return a}createResolver(e,t,r=[""],i){const{resolver:a}=em(this._resolverCache,e,r);return be(t)?Ss(a,t,void 0,i):a}}function em(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let a=r.get(i);return a||(a={resolver:kd(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},r.set(i,a)),a}const xC=n=>be(n)&&Object.getOwnPropertyNames(n).some(e=>sr(n[e]));function wC(n,e){const{isScriptable:t,isIndexable:r}=$y(n);for(const i of e){const a=t(i),l=r(i),u=(l||a)&&n[i];if(a&&(sr(u)||xC(u))||l&&rt(u))return!0}return!1}var _C="4.5.0";const bC=["top","bottom","left","right","chartArea"];function tm(n,e){return n==="top"||n==="bottom"||bC.indexOf(n)===-1&&e==="x"}function nm(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function rm(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Ae(t&&t.onComplete,[n],e)}function SC(n){const e=n.chart,t=e.options.animation;Ae(t&&t.onProgress,[n],e)}function n0(n){return jd()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const La={},sm=n=>{const e=n0(n);return Object.values(La).filter(t=>t.canvas===e).pop()};function kC(n,e,t){const r=Object.keys(n);for(const i of r){const a=+i;if(a>=e){const l=n[i];delete n[i],(t>0||a>e)&&(n[a+t]=l)}}}function CC(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}let Qi=class{static defaults=We;static instances=La;static overrides=Rr;static registry=ln;static version=_C;static getChart=sm;static register(...e){ln.add(...e),im()}static unregister(...e){ln.remove(...e),im()}constructor(e,t){const r=this.config=new vC(t),i=n0(e),a=sm(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||H1(i)),this.platform.updateConfig(r);const u=this.platform.acquireContext(i,l.aspectRatio),d=u&&u.canvas,f=d&&d.height,p=d&&d.width;if(this.id=YS(),this.ctx=u,this.canvas=d,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new aC,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=hk(v=>this.update(v),l.resizeDelay||0),this._dataChanges=[],La[this.id]=this,!u||!d){console.error("Failed to create chart: can't acquire context from the given item");return}Sn.listen(this,"complete",rm),Sn.listen(this,"progress",SC),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:a}=this;return ut(e)?t&&a?a:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ln}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ag(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Tg(this.canvas,this.ctx),this}stop(){return Sn.stop(this),this}resize(e,t){Sn.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,i=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(i,e,t,a),u=r.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,Ag(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),Ae(r.onResize,[this,l],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};je(t,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((l,u)=>(l[u]=!1,l),{});let a=[];t&&(a=a.concat(Object.keys(t).map(l=>{const u=t[l],d=Gu(l,u),f=d==="r",p=d==="x";return{options:u,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),je(a,l=>{const u=l.options,d=u.id,f=Gu(d,u),p=Pe(u.type,l.dtype);(u.position===void 0||tm(u.position,f)!==tm(l.dposition))&&(u.position=l.dposition),i[d]=!0;let v=null;if(d in r&&r[d].type===p)v=r[d];else{const x=ln.getScale(p);v=new x({id:d,type:p,ctx:this.ctx,chart:this}),r[v.id]=v}v.init(u,e)}),je(i,(l,u)=>{l||delete r[u]}),je(r,l=>{tr.configure(this,l,l.options),tr.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,a)=>i.index-a.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(nm("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{t.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const a=t[r];let l=this.getDatasetMeta(r);const u=a.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=u,l.indexAxis=a.indexAxis||Qu(u,this.options),l.order=a.order||0,l.index=r,l.label=""+a.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const d=ln.getController(u),{datasetElementType:f,dataElementType:p}=We.datasets[u];Object.assign(d,{dataElementType:ln.getElement(p),datasetElementType:f&&ln.getElement(f)}),l.controller=new d(this,r),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){je(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:v}=this.getDatasetMeta(f),x=!i&&a.indexOf(v)===-1;v.buildOrUpdateElements(x),l=Math.max(+v.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),i||je(a,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(nm("z","_idx"));const{_active:u,_lastEvent:d}=this;d?this._eventHandler(d,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){je(this.scales,e=>{tr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!wg(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:a}of t){const l=r==="_removeElements"?-a:a;kC(e,i,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=a=>new Set(e.filter(l=>l[0]===a).map((l,u)=>u+","+l.splice(1).join(","))),i=r(0);for(let a=1;a<t;a++)if(!wg(i,r(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;tr.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],je(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,sr(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Sn.has(this)?this.attached&&!Sn.running(this)&&Sn.start(this):(this.draw(),rm({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,a;for(i=0,a=t.length;i<a;++i){const l=t[i];(!e||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=Zk(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&_d(t,i),e.controller.draw(),i&&bd(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Fy(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const a=b1.modes[t];return typeof a=="function"?a(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(a=>a&&a._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=js(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,i);Ha(t)?(a.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),l.update(a,{visible:r}),this.update(u=>u.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Sn.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Tg(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete La[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(a,l)=>{t.addEventListener(this,a,l),e[a]=l},i=(a,l,u)=>{a.offsetX=l,a.offsetY=u,this._eventHandler(a)};je(this.options.events,a=>r(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(d,f)=>{t.addEventListener(this,d,f),e[d]=f},i=(d,f)=>{e[d]&&(t.removeEventListener(this,d,f),delete e[d])},a=(d,f)=>{this.canvas&&this.resize(d,f)};let l;const u=()=>{i("attach",u),this.attached=!0,this.resize(),r("resize",a),r("detach",l)};l=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),r("attach",u)},t.isAttached(this.canvas)?u():l()}unbindEvents(){je(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},je(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let a,l,u,d;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),u=0,d=e.length;u<d;++u){l=e[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[i+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:a,index:l})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[l],index:l}});!za(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const i=this.options.hover,a=(d,f)=>d.filter(p=>!f.some(v=>p.datasetIndex===v.datasetIndex&&p.index===v.index)),l=a(t,e),u=r?e:a(e,t);l.length&&this.updateHoverStyle(l,i.mode,!1),u.length&&i.mode&&this.updateHoverStyle(u,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const a=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(a||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:a}=this,l=t,u=this._getActiveElements(e,i,r,l),d=tk(e),f=CC(e,this._lastEvent,r,d);r&&(this._lastEvent=null,Ae(a.onHover,[e,u,this],this),d&&Ae(a.onClick,[e,u,this],this));const p=!za(u,i);return(p||t)&&(this._active=u,this._updateHoverStyles(u,i,t)),this._lastEvent=f,p}_getActiveElements(e,t,r,i){if(e.type==="mouseout")return[];if(!r)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,i)}};function im(){return je(Qi.instances,n=>n._plugins.invalidate())}function EC(n,e,t){const{startAngle:r,x:i,y:a,outerRadius:l,innerRadius:u,options:d}=e,{borderWidth:f,borderJoinStyle:p}=d,v=Math.min(f/l,cn(r-t));if(n.beginPath(),n.arc(i,a,l-f/2,r+v/2,t-v/2),u>0){const x=Math.min(f/u,cn(r-t));n.arc(i,a,u+f/2,t-x/2,r+x/2,!0)}else{const x=Math.min(f/2,l*cn(r-t));if(p==="round")n.arc(i,a,x,t-Le/2,r+Le/2,!0);else if(p==="bevel"){const w=2*x*x,S=-w*Math.cos(t+Le/2)+i,k=-w*Math.sin(t+Le/2)+a,b=w*Math.cos(r+Le/2)+i,E=w*Math.sin(r+Le/2)+a;n.lineTo(S,k),n.lineTo(b,E)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function jC(n,e,t){const{startAngle:r,pixelMargin:i,x:a,y:l,outerRadius:u,innerRadius:d}=e;let f=i/u;n.beginPath(),n.arc(a,l,u,r-f,t+f),d>i?(f=i/d,n.arc(a,l,d,t+f,r-f,!0)):n.arc(a,l,i,t+Ye,r-Ye),n.closePath(),n.clip()}function PC(n){return Sd(n,["outerStart","outerEnd","innerStart","innerEnd"])}function TC(n,e,t,r){const i=PC(n.options.borderRadius),a=(t-e)/2,l=Math.min(a,r*e/2),u=d=>{const f=(t-Math.min(a,d))*r/2;return $t(d,0,Math.min(a,f))};return{outerStart:u(i.outerStart),outerEnd:u(i.outerEnd),innerStart:$t(i.innerStart,0,l),innerEnd:$t(i.innerEnd,0,l)}}function ys(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function Qa(n,e,t,r,i,a){const{x:l,y:u,startAngle:d,pixelMargin:f,innerRadius:p}=e,v=Math.max(e.outerRadius+r+t-f,0),x=p>0?p+r+t+f:0;let w=0;const S=i-d;if(r){const pe=p>0?p-r:0,fe=v>0?v-r:0,ae=(pe+fe)/2,K=ae!==0?S*ae/(ae+r):S;w=(S-K)/2}const k=Math.max(.001,S*v-t/Le)/v,b=(S-k)/2,E=d+b+w,O=i-b-w,{outerStart:T,outerEnd:I,innerStart:L,innerEnd:$}=TC(e,x,v,O-E),W=v-T,Y=v-I,ee=E+T/W,se=O-I/Y,he=x+L,de=x+$,xe=E+L/he,ke=O-$/de;if(n.beginPath(),a){const pe=(ee+se)/2;if(n.arc(l,u,v,ee,pe),n.arc(l,u,v,pe,se),I>0){const Q=ys(Y,se,l,u);n.arc(Q.x,Q.y,I,se,O+Ye)}const fe=ys(de,O,l,u);if(n.lineTo(fe.x,fe.y),$>0){const Q=ys(de,ke,l,u);n.arc(Q.x,Q.y,$,O+Ye,ke+Math.PI)}const ae=(O-$/x+(E+L/x))/2;if(n.arc(l,u,x,O-$/x,ae,!0),n.arc(l,u,x,ae,E+L/x,!0),L>0){const Q=ys(he,xe,l,u);n.arc(Q.x,Q.y,L,xe+Math.PI,E-Ye)}const K=ys(W,E,l,u);if(n.lineTo(K.x,K.y),T>0){const Q=ys(W,ee,l,u);n.arc(Q.x,Q.y,T,E-Ye,ee)}}else{n.moveTo(l,u);const pe=Math.cos(ee)*v+l,fe=Math.sin(ee)*v+u;n.lineTo(pe,fe);const ae=Math.cos(se)*v+l,K=Math.sin(se)*v+u;n.lineTo(ae,K)}n.closePath()}function NC(n,e,t,r,i){const{fullCircles:a,startAngle:l,circumference:u}=e;let d=e.endAngle;if(a){Qa(n,e,t,r,d,i);for(let f=0;f<a;++f)n.fill();isNaN(u)||(d=l+(u%qe||qe))}return Qa(n,e,t,r,d,i),n.fill(),d}function RC(n,e,t,r,i){const{fullCircles:a,startAngle:l,circumference:u,options:d}=e,{borderWidth:f,borderJoinStyle:p,borderDash:v,borderDashOffset:x,borderRadius:w}=d,S=d.borderAlign==="inner";if(!f)return;n.setLineDash(v||[]),n.lineDashOffset=x,S?(n.lineWidth=f*2,n.lineJoin=p||"round"):(n.lineWidth=f,n.lineJoin=p||"bevel");let k=e.endAngle;if(a){Qa(n,e,t,r,k,i);for(let b=0;b<a;++b)n.stroke();isNaN(u)||(k=l+(u%qe||qe))}S&&jC(n,e,k),d.selfJoin&&k-l>=Le&&w===0&&p!=="miter"&&EC(n,e,k),a||(Qa(n,e,t,r,k,i),n.stroke())}class r0 extends Yi{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){const i=this.getProps(["x","y"],r),{angle:a,distance:l}=Ry(i,{x:e,y:t}),{startAngle:u,endAngle:d,innerRadius:f,outerRadius:p,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),x=(this.options.spacing+this.options.borderWidth)/2,w=Pe(v,d-u),S=qa(a,u,d)&&u!==d,k=w>=qe||S,b=ji(l,f+x,p+x);return k&&b}getCenterPoint(e){const{x:t,y:r,startAngle:i,endAngle:a,innerRadius:l,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:d,spacing:f}=this.options,p=(i+a)/2,v=(l+u+f+d)/2;return{x:t+Math.cos(p)*v,y:r+Math.sin(p)*v}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:r}=this,i=(t.offset||0)/4,a=(t.spacing||0)/2,l=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=r>qe?Math.floor(r/qe):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const u=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(u)*i,Math.sin(u)*i);const d=1-Math.sin(Math.min(Le,r||0)),f=i*d;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,NC(e,this,f,a,l),RC(e,this,f,a,l),e.restore()}}const om=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},OC=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class am extends Yi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Ae(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=St(r.font),a=i.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:d}=om(r,a);let f,p;t.font=i.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,a,u,d)+10):(p=this.maxHeight,f=this._fitCols(l,i,u,d)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:a,maxWidth:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.lineWidths=[0],p=i+u;let v=e;a.textAlign="left",a.textBaseline="middle";let x=-1,w=-p;return this.legendItems.forEach((S,k)=>{const b=r+t/2+a.measureText(S.text).width;(k===0||f[f.length-1]+b+2*u>l)&&(v+=p,f[f.length-(k>0?0:1)]=0,w+=p,x++),d[k]={left:0,top:w,row:x,width:b,height:i},f[f.length-1]+=b+u}),v}_fitCols(e,t,r,i){const{ctx:a,maxHeight:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-e;let v=u,x=0,w=0,S=0,k=0;return this.legendItems.forEach((b,E)=>{const{itemWidth:O,itemHeight:T}=AC(r,t,a,b,i);E>0&&w+T+2*u>p&&(v+=x+u,f.push({width:x,height:w}),S+=x+u,k++,x=w=0),d[E]={left:S,top:w,col:k,width:O,height:T},x=Math.max(x,O),w+=T+u}),v+=x,f.push({width:x,height:w}),v}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:a}}=this,l=_s(a,this.left,this.width);if(this.isHorizontal()){let u=0,d=Rt(r,this.left+i,this.right-this.lineWidths[u]);for(const f of t)u!==f.row&&(u=f.row,d=Rt(r,this.left+i,this.right-this.lineWidths[u])),f.top+=this.top+e+i,f.left=l.leftForLtr(l.x(d),f.width),d+=f.width+i}else{let u=0,d=Rt(r,this.top+e+i,this.bottom-this.columnSizes[u].height);for(const f of t)f.col!==u&&(u=f.col,d=Rt(r,this.top+e+i,this.bottom-this.columnSizes[u].height)),f.top=d,f.left+=this.left+i,f.left=l.leftForLtr(l.x(f.left),f.width),d+=f.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;_d(e,this),this._draw(),bd(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:a,labels:l}=e,u=We.color,d=_s(e.rtl,this.left,this.width),f=St(l.font),{padding:p}=l,v=f.size,x=v/2;let w;this.drawTitle(),i.textAlign=d.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=f.string;const{boxWidth:S,boxHeight:k,itemHeight:b}=om(l,v),E=function($,W,Y){if(isNaN(S)||S<=0||isNaN(k)||k<0)return;i.save();const ee=Pe(Y.lineWidth,1);if(i.fillStyle=Pe(Y.fillStyle,u),i.lineCap=Pe(Y.lineCap,"butt"),i.lineDashOffset=Pe(Y.lineDashOffset,0),i.lineJoin=Pe(Y.lineJoin,"miter"),i.lineWidth=ee,i.strokeStyle=Pe(Y.strokeStyle,u),i.setLineDash(Pe(Y.lineDash,[])),l.usePointStyle){const se={radius:k*Math.SQRT2/2,pointStyle:Y.pointStyle,rotation:Y.rotation,borderWidth:ee},he=d.xPlus($,S/2),de=W+x;My(i,se,he,de,l.pointStyleWidth&&S)}else{const se=W+Math.max((v-k)/2,0),he=d.leftForLtr($,S),de=Di(Y.borderRadius);i.beginPath(),Object.values(de).some(xe=>xe!==0)?Yu(i,{x:he,y:se,w:S,h:k,radius:de}):i.rect(he,se,S,k),i.fill(),ee!==0&&i.stroke()}i.restore()},O=function($,W,Y){Ka(i,Y.text,$,W+b/2,f,{strikethrough:Y.hidden,textAlign:d.textAlign(Y.textAlign)})},T=this.isHorizontal(),I=this._computeTitleHeight();T?w={x:Rt(a,this.left+p,this.right-r[0]),y:this.top+p+I,line:0}:w={x:this.left+p,y:Rt(a,this.top+I+p,this.bottom-t[0].height),line:0},Hy(this.ctx,e.textDirection);const L=b+p;this.legendItems.forEach(($,W)=>{i.strokeStyle=$.fontColor,i.fillStyle=$.fontColor;const Y=i.measureText($.text).width,ee=d.textAlign($.textAlign||($.textAlign=l.textAlign)),se=S+x+Y;let he=w.x,de=w.y;d.setWidth(this.width),T?W>0&&he+se+p>this.right&&(de=w.y+=L,w.line++,he=w.x=Rt(a,this.left+p,this.right-r[w.line])):W>0&&de+L>this.bottom&&(he=w.x=he+t[w.line].width+p,w.line++,de=w.y=Rt(a,this.top+I+p,this.bottom-t[w.line].height));const xe=d.x(he);if(E(xe,de,$),he=fk(ee,he+S+x,T?he+se:this.right,e.rtl),O(d.x(he),de,$),T)w.x+=se+p;else if(typeof $.text!="string"){const ke=f.lineHeight;w.y+=s0($,ke)+p}else w.y+=L}),Wy(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=St(t.font),i=Qt(t.padding);if(!t.display)return;const a=_s(e.rtl,this.left,this.width),l=this.ctx,u=t.position,d=r.size/2,f=i.top+d;let p,v=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),p=this.top+f,v=Rt(e.align,v,this.right-x);else{const S=this.columnSizes.reduce((k,b)=>Math.max(k,b.height),0);p=f+Rt(e.align,this.top,this.bottom-S-e.labels.padding-this._computeTitleHeight())}const w=Rt(u,v,v+x);l.textAlign=a.textAlign(Dy(u)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=r.string,Ka(l,t.text,w,p,r)}_computeTitleHeight(){const e=this.options.title,t=St(e.font),r=Qt(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,a;if(ji(e,this.left,this.right)&&ji(t,this.top,this.bottom)){for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(i=a[r],ji(e,i.left,i.left+i.width)&&ji(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!IC(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,a=OC(i,r);i&&!a&&Ae(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!a&&Ae(t.onHover,[e,r,this],this)}else r&&Ae(t.onClick,[e,r,this],this)}}function AC(n,e,t,r,i){const a=LC(r,n,e,t),l=DC(i,r,e.lineHeight);return{itemWidth:a,itemHeight:l}}function LC(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((a,l)=>a.length>l.length?a:l)),e+t.size/2+r.measureText(i).width}function DC(n,e,t){let r=n;return typeof e.text!="string"&&(r=s0(e,t)),r}function s0(n,e){const t=n.text?n.text.length:0;return e*t}function IC(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var i0={id:"legend",_element:am,start(n,e,t){const r=n.legend=new am({ctx:n.ctx,options:t,chart:n});tr.configure(n,r,t),tr.addBox(n,r)},stop(n){tr.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;tr.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:a,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const f=d.controller.getStyle(t?0:void 0),p=Qt(f.borderWidth);return{text:e[d.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!d.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:r||f.pointStyle,rotation:f.rotation,textAlign:i||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const Ti={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,a=0;for(e=0,t=n.length;e<t;++e){const u=n[e].element;if(u&&u.hasValue()){const d=u.tooltipPosition();r.add(d.x),i+=d.y,++a}}return a===0||r.size===0?!1:{x:[...r].reduce((u,d)=>u+d)/r.size,y:i/a}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,a,l,u;for(a=0,l=n.length;a<l;++a){const d=n[a].element;if(d&&d.hasValue()){const f=d.getCenterPoint(),p=ok(e,f);p<i&&(i=p,u=d)}}if(u){const d=u.tooltipPosition();t=d.x,r=d.y}return{x:t,y:r}}};function an(n,e){return e&&(rt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function kn(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function MC(n,e){const{element:t,datasetIndex:r,index:i}=e,a=n.getDatasetMeta(r).controller,{label:l,value:u}=a.getLabelAndValue(i);return{chart:n,label:l,parsed:a.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:u,dataset:a.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function lm(n,e){const t=n.chart.ctx,{body:r,footer:i,title:a}=n,{boxWidth:l,boxHeight:u}=e,d=St(e.bodyFont),f=St(e.titleFont),p=St(e.footerFont),v=a.length,x=i.length,w=r.length,S=Qt(e.padding);let k=S.height,b=0,E=r.reduce((I,L)=>I+L.before.length+L.lines.length+L.after.length,0);if(E+=n.beforeBody.length+n.afterBody.length,v&&(k+=v*f.lineHeight+(v-1)*e.titleSpacing+e.titleMarginBottom),E){const I=e.displayColors?Math.max(u,d.lineHeight):d.lineHeight;k+=w*I+(E-w)*d.lineHeight+(E-1)*e.bodySpacing}x&&(k+=e.footerMarginTop+x*p.lineHeight+(x-1)*e.footerSpacing);let O=0;const T=function(I){b=Math.max(b,t.measureText(I).width+O)};return t.save(),t.font=f.string,je(n.title,T),t.font=d.string,je(n.beforeBody.concat(n.afterBody),T),O=e.displayColors?l+2+e.boxPadding:0,je(r,I=>{je(I.before,T),je(I.lines,T),je(I.after,T)}),O=0,t.font=p.string,je(n.footer,T),t.restore(),b+=S.width,{width:b,height:k}}function FC(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function $C(n,e,t,r){const{x:i,width:a}=r,l=t.caretSize+t.caretPadding;if(n==="left"&&i+a+l>e.width||n==="right"&&i-a-l<0)return!0}function UC(n,e,t,r){const{x:i,width:a}=t,{width:l,chartArea:{left:u,right:d}}=n;let f="center";return r==="center"?f=i<=(u+d)/2?"left":"right":i<=a/2?f="left":i>=l-a/2&&(f="right"),$C(f,n,e,t)&&(f="center"),f}function cm(n,e,t){const r=t.yAlign||e.yAlign||FC(n,t);return{xAlign:t.xAlign||e.xAlign||UC(n,e,t,r),yAlign:r}}function zC(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function BC(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function um(n,e,t,r){const{caretSize:i,caretPadding:a,cornerRadius:l}=n,{xAlign:u,yAlign:d}=t,f=i+a,{topLeft:p,topRight:v,bottomLeft:x,bottomRight:w}=Di(l);let S=zC(e,u);const k=BC(e,d,f);return d==="center"?u==="left"?S+=f:u==="right"&&(S-=f):u==="left"?S-=Math.max(p,x)+i:u==="right"&&(S+=Math.max(v,w)+i),{x:$t(S,0,r.width-e.width),y:$t(k,0,r.height-e.height)}}function Ta(n,e,t){const r=Qt(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function dm(n){return an([],kn(n))}function HC(n,e,t){return js(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function hm(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const o0={beforeTitle:_n,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:_n,beforeBody:_n,beforeLabel:_n,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return ut(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:_n,afterBody:_n,beforeFooter:_n,footer:_n,afterFooter:_n};function _t(n,e,t,r){const i=n[e].call(t,r);return typeof i>"u"?o0[e].call(t,r):i}class fm extends Yi{static positioners=Ti;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,a=new Vy(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=HC(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,i=_t(r,"beforeTitle",this,e),a=_t(r,"title",this,e),l=_t(r,"afterTitle",this,e);let u=[];return u=an(u,kn(i)),u=an(u,kn(a)),u=an(u,kn(l)),u}getBeforeBody(e,t){return dm(_t(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,i=[];return je(e,a=>{const l={before:[],lines:[],after:[]},u=hm(r,a);an(l.before,kn(_t(u,"beforeLabel",this,a))),an(l.lines,_t(u,"label",this,a)),an(l.after,kn(_t(u,"afterLabel",this,a))),i.push(l)}),i}getAfterBody(e,t){return dm(_t(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,i=_t(r,"beforeFooter",this,e),a=_t(r,"footer",this,e),l=_t(r,"afterFooter",this,e);let u=[];return u=an(u,kn(i)),u=an(u,kn(a)),u=an(u,kn(l)),u}_createItems(e){const t=this._active,r=this.chart.data,i=[],a=[],l=[];let u=[],d,f;for(d=0,f=t.length;d<f;++d)u.push(MC(this.chart,t[d]));return e.filter&&(u=u.filter((p,v,x)=>e.filter(p,v,x,r))),e.itemSort&&(u=u.sort((p,v)=>e.itemSort(p,v,r))),je(u,p=>{const v=hm(e.callbacks,p);i.push(_t(v,"labelColor",this,p)),a.push(_t(v,"labelPointStyle",this,p)),l.push(_t(v,"labelTextColor",this,p))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=u,u}update(e,t){const r=this.options.setContext(this.getContext()),i=this._active;let a,l=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{const u=Ti[r.position].call(this,i,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const d=this._size=lm(this,r),f=Object.assign({},u,d),p=cm(this.chart,r,f),v=um(r,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,a={opacity:1,x:v.x,y:v.y,width:d.width,height:d.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){const a=this.getCaretPosition(e,r,i);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,r){const{xAlign:i,yAlign:a}=this,{caretSize:l,cornerRadius:u}=r,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:v}=Di(u),{x,y:w}=e,{width:S,height:k}=t;let b,E,O,T,I,L;return a==="center"?(I=w+k/2,i==="left"?(b=x,E=b-l,T=I+l,L=I-l):(b=x+S,E=b+l,T=I-l,L=I+l),O=b):(i==="left"?E=x+Math.max(d,p)+l:i==="right"?E=x+S-Math.max(f,v)-l:E=this.caretX,a==="top"?(T=w,I=T-l,b=E-l,O=E+l):(T=w+k,I=T+l,b=E+l,O=E-l),L=T),{x1:b,x2:E,x3:O,y1:T,y2:I,y3:L}}drawTitle(e,t,r){const i=this.title,a=i.length;let l,u,d;if(a){const f=_s(r.rtl,this.x,this.width);for(e.x=Ta(this,r.titleAlign,r),t.textAlign=f.textAlign(r.titleAlign),t.textBaseline="middle",l=St(r.titleFont),u=r.titleSpacing,t.fillStyle=r.titleColor,t.font=l.string,d=0;d<a;++d)t.fillText(i[d],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,d+1===a&&(e.y+=r.titleMarginBottom-u)}}_drawColorBox(e,t,r,i,a){const l=this.labelColors[r],u=this.labelPointStyles[r],{boxHeight:d,boxWidth:f}=a,p=St(a.bodyFont),v=Ta(this,"left",a),x=i.x(v),w=d<p.lineHeight?(p.lineHeight-d)/2:0,S=t.y+w;if(a.usePointStyle){const k={radius:Math.min(f,d)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},b=i.leftForLtr(x,f)+f/2,E=S+d/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,Ng(e,k,b,E),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,Ng(e,k,b,E)}else{e.lineWidth=be(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const k=i.leftForLtr(x,f),b=i.leftForLtr(i.xPlus(x,1),f-2),E=Di(l.borderRadius);Object.values(E).some(O=>O!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,Yu(e,{x:k,y:S,w:f,h:d,radius:E}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),Yu(e,{x:b,y:S+1,w:f-2,h:d-2,radius:E}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(k,S,f,d),e.strokeRect(k,S,f,d),e.fillStyle=l.backgroundColor,e.fillRect(b,S+1,f-2,d-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:i}=this,{bodySpacing:a,bodyAlign:l,displayColors:u,boxHeight:d,boxWidth:f,boxPadding:p}=r,v=St(r.bodyFont);let x=v.lineHeight,w=0;const S=_s(r.rtl,this.x,this.width),k=function(Y){t.fillText(Y,S.x(e.x+w),e.y+x/2),e.y+=x+a},b=S.textAlign(l);let E,O,T,I,L,$,W;for(t.textAlign=l,t.textBaseline="middle",t.font=v.string,e.x=Ta(this,b,r),t.fillStyle=r.bodyColor,je(this.beforeBody,k),w=u&&b!=="right"?l==="center"?f/2+p:f+2+p:0,I=0,$=i.length;I<$;++I){for(E=i[I],O=this.labelTextColors[I],t.fillStyle=O,je(E.before,k),T=E.lines,u&&T.length&&(this._drawColorBox(t,e,I,S,r),x=Math.max(v.lineHeight,d)),L=0,W=T.length;L<W;++L)k(T[L]),x=v.lineHeight;je(E.after,k)}w=0,x=v.lineHeight,je(this.afterBody,k),e.y-=a}drawFooter(e,t,r){const i=this.footer,a=i.length;let l,u;if(a){const d=_s(r.rtl,this.x,this.width);for(e.x=Ta(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=d.textAlign(r.footerAlign),t.textBaseline="middle",l=St(r.footerFont),t.fillStyle=r.footerColor,t.font=l.string,u=0;u<a;++u)t.fillText(i[u],d.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){const{xAlign:a,yAlign:l}=this,{x:u,y:d}=e,{width:f,height:p}=r,{topLeft:v,topRight:x,bottomLeft:w,bottomRight:S}=Di(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(u+v,d),l==="top"&&this.drawCaret(e,t,r,i),t.lineTo(u+f-x,d),t.quadraticCurveTo(u+f,d,u+f,d+x),l==="center"&&a==="right"&&this.drawCaret(e,t,r,i),t.lineTo(u+f,d+p-S),t.quadraticCurveTo(u+f,d+p,u+f-S,d+p),l==="bottom"&&this.drawCaret(e,t,r,i),t.lineTo(u+w,d+p),t.quadraticCurveTo(u,d+p,u,d+p-w),l==="center"&&a==="left"&&this.drawCaret(e,t,r,i),t.lineTo(u,d+v),t.quadraticCurveTo(u,d,u+v,d),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,i=r&&r.x,a=r&&r.y;if(i||a){const l=Ti[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=lm(this,e),d=Object.assign({},l,this._size),f=cm(t,e,d),p=um(e,d,f,t);(i._to!==p.x||a._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=Qt(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=r,this.drawBackground(a,e,i,t),Hy(e,t.textDirection),a.y+=l.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),Wy(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,i=e.map(({datasetIndex:u,index:d})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[d],index:d}}),a=!za(r,i),l=this._positionChanged(i,t);(a||l)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],l=this._getActiveElements(e,a,t,r),u=this._positionChanged(l,e),d=t||!za(l,a)||u;return d&&(this._active=l,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),d}_getActiveElements(e,t,r,i){const a=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,a.mode,a,r);return a.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:r,caretY:i,options:a}=this,l=Ti[a.position].call(this,e,t);return l!==!1&&(r!==l.x||i!==l.y)}}var a0={id:"tooltip",_element:fm,positioners:Ti,afterInit(n,e,t){t&&(n.tooltip=new fm({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:o0},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const ll={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},bt=Object.keys(ll);function pm(n,e){return n-e}function gm(n,e){if(ut(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:a}=n._parseOpts;let l=e;return typeof r=="function"&&(l=r(l)),Tn(l)||(l=typeof r=="string"?t.parse(l,r):t.parse(l)),l===null?null:(i&&(l=i==="week"&&(Va(a)||a===!0)?t.startOf(l,"isoWeek",a):t.startOf(l,i)),+l)}function mm(n,e,t,r){const i=bt.length;for(let a=bt.indexOf(n);a<i-1;++a){const l=ll[bt[a]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(u*l.size))<=r)return bt[a]}return bt[i-1]}function WC(n,e,t,r,i){for(let a=bt.length-1;a>=bt.indexOf(t);a--){const l=bt[a];if(ll[l].common&&n._adapter.diff(i,r,l)>=e-1)return l}return bt[t?bt.indexOf(t):0]}function VC(n){for(let e=bt.indexOf(n)+1,t=bt.length;e<t;++e)if(ll[bt[e]].common)return bt[e]}function ym(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:i}=wd(t,e),a=t[r]>=e?t[r]:t[i];n[a]=!0}}function qC(n,e,t,r){const i=n._adapter,a=+i.startOf(e[0].value,r),l=e[e.length-1].value;let u,d;for(u=a;u<=l;u=+i.add(u,1,r))d=t[u],d>=0&&(e[d].major=!0);return e}function vm(n,e,t){const r=[],i={},a=e.length;let l,u;for(l=0;l<a;++l)u=e[l],i[u]=l,r.push({value:u,major:!1});return a===0||!t?r:qC(n,r,i,t)}class xm extends al{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),i=this._adapter=new y1._date(e.adapters.date);i.init(t),Oi(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:gm(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:i,max:a,minDefined:l,maxDefined:u}=this.getUserBounds();function d(f){!l&&!isNaN(f.min)&&(i=Math.min(i,f.min)),!u&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!l||!u)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),i=Tn(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),a=Tn(a)&&!isNaN(a)?a:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,l=this.max,u=ck(i,a,l);return this._unit=t.unit||(r.autoSkip?mm(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):WC(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:VC(this._unit),this.initOffsets(i),e.reverse&&u.reverse(),vm(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,i,a;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?r=a:r=(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=$t(t,0,l),r=$t(r,0,l),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,i=this.options,a=i.time,l=a.unit||mm(a.minUnit,t,r,this._getLabelCapacity(t)),u=Pe(i.ticks.stepSize,1),d=l==="week"?a.isoWeekday:!1,f=Va(d)||d===!0,p={};let v=t,x,w;if(f&&(v=+e.startOf(v,"isoWeek",d)),v=+e.startOf(v,f?"day":l),e.diff(r,t,l)>1e5*u)throw new Error(t+" and "+r+" are too far apart with stepSize of "+u+" "+l);const S=i.ticks.source==="data"&&this.getDataTimestamps();for(x=v,w=0;x<r;x=+e.add(x,u,l),w++)ym(p,x,S);return(x===r||i.bounds==="ticks"||w===1)&&ym(p,x,S),Object.keys(p).sort(pm).map(k=>+k)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,a=this._unit,l=t||i[a];return this._adapter.format(e,l)}_tickFormatFunction(e,t,r,i){const a=this.options,l=a.ticks.callback;if(l)return Ae(l,[e,t,r],this);const u=a.time.displayFormats,d=this._unit,f=this._majorUnit,p=d&&u[d],v=f&&u[f],x=r[t],w=f&&v&&x&&x.major;return this._adapter.format(e,i||(w?v:p))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,i=jr(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(i),l=Math.sin(i),u=this._resolveTickFontOptions(0).size;return{w:r*a+u*l,h:r*l+u*a}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,a=this._tickFormatFunction(e,0,vm(this,[e],this._majorUnit),i),l=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const i=this.getLabels();for(t=0,r=i.length;t<r;++t)e.push(gm(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return dk(e.sort(pm))}}function Na(n,e,t){let r=0,i=n.length-1,a,l,u,d;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=Ku(n,"pos",e)),{pos:a,time:u}=n[r],{pos:l,time:d}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=Ku(n,"time",e)),{time:a,pos:u}=n[r],{time:l,pos:d}=n[i]);const f=l-a;return f?u+(d-u)*(e-a)/f:u}class BP extends xm{static id="timeseries";static defaults=xm.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Na(t,this.min),this._tableRange=Na(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],a=[];let l,u,d,f,p;for(l=0,u=e.length;l<u;++l)f=e[l],f>=t&&f<=r&&i.push(f);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(l=0,u=i.length;l<u;++l)p=i[l+1],d=i[l-1],f=i[l],Math.round((p+d)/2)!==f&&a.push({time:f,pos:l/(u-1)});return a}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,a)=>i-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Na(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return Na(this._table,r*this._tableRange+this._minPos,!0)}}const l0="label";function wm(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function KC(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function c0(n,e){n.labels=e}function u0(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l0;const r=[];n.datasets=e.map(i=>{const a=n.datasets.find(l=>l[t]===i[t]);return!a||!i.data||r.includes(a)?{...i}:(r.push(a),Object.assign(a,i),a)})}function JC(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l0;const t={labels:[],datasets:[]};return c0(t,n.labels),u0(t,n.datasets,e),t}function YC(n,e){const{height:t=150,width:r=300,redraw:i=!1,datasetIdKey:a,type:l,data:u,options:d,plugins:f=[],fallbackContent:p,updateMode:v,...x}=n,w=P.useRef(null),S=P.useRef(null),k=()=>{w.current&&(S.current=new Qi(w.current,{type:l,data:JC(u,a),options:d&&{...d},plugins:f}),wm(e,S.current))},b=()=>{wm(e,null),S.current&&(S.current.destroy(),S.current=null)};return P.useEffect(()=>{!i&&S.current&&d&&KC(S.current,d)},[i,d]),P.useEffect(()=>{!i&&S.current&&c0(S.current.config.data,u.labels)},[i,u.labels]),P.useEffect(()=>{!i&&S.current&&u.datasets&&u0(S.current.config.data,u.datasets,a)},[i,u.datasets]),P.useEffect(()=>{S.current&&(i?(b(),setTimeout(k)):S.current.update(v))},[i,d,u.labels,u.datasets,v]),P.useEffect(()=>{S.current&&(b(),setTimeout(k))},[l]),P.useEffect(()=>(k(),()=>b()),[]),dn.createElement("canvas",{ref:w,role:"img",height:t,width:r,...x},p)}const QC=P.forwardRef(YC);function GC(n,e){return Qi.register(e),P.forwardRef((t,r)=>dn.createElement(QC,{...t,ref:r,type:n}))}const XC=GC("pie",m1);Qi.register(r0,a0,i0);const d0=({title:n,description:e,height:t="h-40",chartData:r,chartOptions:i})=>m.jsxs("div",{className:"bg-white rounded-lg border shadow-sm p-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:n}),m.jsx("div",{className:`${t} flex items-center justify-center`,children:r?m.jsx(XC,{data:r,options:i}):m.jsx("div",{className:"text-gray-500",children:"Loading Chart..."})}),m.jsx("p",{className:"text-sm text-gray-600 mt-4",children:e})]}),ZC=({listings:n})=>m.jsxs("div",{className:"bg-white rounded-lg border shadow-sm p-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top 5 Most Inquired-About Listings"}),m.jsxs("div",{className:"flex justify-between items-center text-gray-600 text-sm font-medium mb-2",children:[m.jsx("span",{children:"Listing"}),m.jsx("span",{children:"Inquiries"})]}),m.jsx("ul",{className:"space-y-3",children:n.map((e,t)=>m.jsxs("li",{className:"flex justify-between items-center text-gray-700",children:[m.jsxs("span",{children:[t+1,". ",e.name]}),m.jsx("span",{className:"font-medium",children:e.inquiries})]},t))})]}),un=({value:n,label:e,description:t,className:r=""})=>m.jsxs("div",{className:`bg-white rounded-lg border shadow-sm p-6 text-center ${r}`,children:[m.jsx("div",{className:"text-4xl font-bold text-gray-900 mb-2",children:n}),m.jsx("div",{className:"text-sm text-gray-600",children:e}),t&&m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t})]}),eE=()=>{const{selectedClientId:n}=sl(),[e,t]=P.useState("Loading..."),r="Total Leads Generated";return P.useEffect(()=>{(async()=>{if(!n)return;const a=await ky(n);t(a?a.total.toString():"N/A")})()},[n]),m.jsx(un,{value:e,label:r})},tE=()=>m.jsx(un,{value:"78%",label:"Chatbot Resolution Rate"}),nE=({newHotLeadsCount:n})=>m.jsx(un,{value:n,label:"New Hot Leads (70+ Pts)"}),rE=()=>m.jsx(un,{value:"5.2 min",label:"Avg. Chat Duration"}),sE=()=>m.jsx(un,{value:"18",label:"Property Viewings Booked"}),iE=()=>m.jsx(un,{value:"3",label:"Unanswered Questions"}),_m=({onViewHotLeads:n,topInquiredListings:e})=>{const{selectedClientId:t}=sl(),[r,i]=P.useState(null),[a,l]=P.useState(0),[u,d]=P.useState([]);P.useEffect(()=>{const v=async()=>{if(!t)return;const w=await ky(t);w&&i({labels:["Hot Leads","Warm Leads","Cold Leads"],datasets:[{data:[w.hot,w.warm,w.cold],backgroundColor:["#FF6384","#FFCE56","#36A2EB"],hoverBackgroundColor:["#FF6384","#FFCE56","#36A2EB"]}]})},x=async()=>{if(!t)return;const{data:w,count:S,error:k}=await ws.from("visitors").select("visitor_id",{count:"exact"}).eq("client_id",t).gte("lead_score",70).eq("is_acknowledged",!1);k?(console.error("Error fetching new hot leads:",k),l(0),d([])):(console.log("Fetched new hot leads count:",S),console.log("Fetched new hot leads data:",w),l(S),d(w.map(b=>b.visitor_id)))};v(),x()},[t]);const f=async()=>{if(u.length>0)try{const v=await fetch(`${rr}/v1/leads/acknowledge`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({visitorIds:u,clientId:t})});v.ok?(console.log("Hot leads acknowledged successfully."),l(0),d([])):console.error("Failed to acknowledge hot leads:",v.statusText)}catch(v){console.error("Error acknowledging hot leads:",v)}},p={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{generateLabels:function(v){const x=v.data;if(x.labels.length&&x.datasets.length){const w=x.datasets[0].data.reduce((S,k)=>S+k,0);return x.labels.map((S,k)=>{const b=x.datasets[0].data[k],E=w>0?(b/w*100).toFixed(1):0;return{text:`${S}: ${E}%`,fillStyle:x.datasets[0].backgroundColor[k],strokeStyle:x.datasets[0].borderColor?x.datasets[0].borderColor[k]:x.datasets[0].backgroundColor[k],lineWidth:1,hidden:!1,index:k}})}return[]}}},tooltip:{callbacks:{label:function(v){let x=v.label||"";return x&&(x+=": "),v.parsed!==null&&(x+=v.parsed.toFixed(1)+"%"),x}}}}};return m.jsxs("div",{className:"space-y-6",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Dashboard Overview"}),m.jsx(ES,{newHotLeadsCount:a,onAcknowledgeLeads:f}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[m.jsx(eE,{}),m.jsx(tE,{}),m.jsx(nE,{newHotLeadsCount:a}),m.jsx(rE,{}),m.jsx(sE,{}),m.jsx(iE,{})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsx(d0,{title:"Lead Score Distribution",description:"Shows the percentage of leads in Hot, Warm, and Cold categories.",chartData:r,chartOptions:p}),m.jsx(ZC,{listings:e})]})]})},oE=()=>m.jsxs("div",{className:"flex space-x-4",children:[m.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition-colors",children:"All Leads"}),m.jsx("button",{className:"px-6 py-2 bg-gray-200 text-gray-800 rounded-lg shadow hover:bg-gray-300 transition-colors",children:"Hot Leads"}),m.jsx("button",{className:"px-6 py-2 bg-gray-200 text-gray-800 rounded-lg shadow hover:bg-gray-300 transition-colors",children:"Warm Leads"}),m.jsx("button",{className:"px-6 py-2 bg-gray-200 text-gray-800 rounded-lg shadow hover:bg-gray-300 transition-colors",children:"Cold Leads"})]}),aE=()=>m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Lead Score Distribution (Detailed)"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Detailed Histogram for Lead Score Ranges (e.g., 10-point bins)"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Granular view of lead quality across all scores."}),m.jsx("div",{className:"mt-4 h-64 bg-gray-100 flex items-center justify-center text-gray-400",children:"[Lead Score Distribution Chart Placeholder]"})]}),lE=()=>m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Conversion Rate by Lead Score Threshold"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Line Chart: Conversion Rate vs. Lead Score"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Shows how higher lead scores correlate with conversion success."}),m.jsxs("div",{className:"mt-4",children:[m.jsx("label",{htmlFor:"conversion-metric",className:"block text-sm font-medium text-gray-700",children:"Select Conversion Metric:"}),m.jsxs("select",{id:"conversion-metric",name:"conversion-metric",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",defaultValue:"Booked Viewing",children:[m.jsx("option",{children:"Booked Viewing"}),m.jsx("option",{children:"Submitted Contact Info"}),m.jsx("option",{children:"Asked to be Contacted"}),m.jsx("option",{children:"Requested Brochure"})]})]}),m.jsx("div",{className:"mt-4 h-64 bg-gray-100 flex items-center justify-center text-gray-400",children:"[Conversion Rate Chart Placeholder]"})]}),cE=({qualifiedLeads:n,hotLeads:e,avgTimeToQualify:t})=>m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Lead Qualification Metrics"}),m.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-3xl font-bold text-blue-600",children:n}),m.jsx("p",{className:"text-sm text-gray-500",children:"Qualified Leads (Custom Criteria)"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e}),m.jsx("p",{className:"text-sm text-gray-500",children:'"Hot" Leads (70+ Pts)'})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t}),m.jsx("p",{className:"text-sm text-gray-500",children:"Avg. Time to Qualify"})]})]}),m.jsxs("div",{className:"mt-6 border-t border-gray-200 pt-6",children:[m.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Define Custom Qualification Criteria:"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Example: Budget > 500k AND Location = Lisbon AND Property Type = Apartment"}),m.jsx("button",{className:"mt-4 px-4 py-2 bg-gray-200 text-gray-800 rounded-lg shadow hover:bg-gray-300 transition-colors",children:"Manage Criteria"})]})]}),uE=({visitors:n})=>m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Individual Lead Progression"}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lead ID"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Score"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Activity"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score Trend"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(e=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:`LEAD-${e.visitor_id.substring(0,3)} (${e.name||"N/A"})`}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.lead_score," ",e.lead_score>60?"":e.lead_score<40?"":""]}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.events&&e.events.length>0?e.events[e.events.length-1].type:"N/A"," (",(new Date-new Date(e.updated_at))/(1e3*60*60*24)<1?`${Math.round((new Date-new Date(e.updated_at))/(1e3*60*60))}h ago`:`${Math.round((new Date-new Date(e.updated_at))/(1e3*60*60*24))}d ago`,")"]}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Mini Trend"}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:m.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:"View Chat"})})]},e.visitor_id))})]})})]}),dE=({visitors:n,listings:e,listingMetrics:t})=>{const r=n.filter(l=>l.lead_score>=40).length,i=n.filter(l=>l.lead_score>=70).length;return m.jsxs("div",{className:"space-y-8",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Lead Performance Analysis"}),m.jsx(oE,{}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[m.jsx(aE,{}),m.jsx(lE,{})]}),m.jsx(cE,{qualifiedLeads:r,hotLeads:i,avgTimeToQualify:"1.5 days"}),m.jsx(uE,{visitors:n})]})},hE=({activeTab:n,onTabClick:e})=>{const t=[{id:"overview",label:"Overview"},{id:"lead-performance",label:"Lead Performance"},{id:"chatbot-analytics",label:"Chatbot Analytics"},{id:"listing-performance",label:"Listing Performance"},{id:"user-insights",label:"User Insights"}];return m.jsx("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg mb-6",children:t.map(r=>m.jsx("button",{className:`px-4 py-2 rounded text-sm font-medium transition-colors ${n===r.id?"bg-white text-gray-900 shadow":"text-gray-600 hover:text-gray-800"}`,onClick:()=>e(r.id),children:r.label},r.id))})},fE=()=>m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Chatbot Performance Over Time"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Line Chart: Total Chats, Resolution Rate, Handoffs"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Trends in chatbot engagement and efficiency."}),m.jsx("div",{className:"mt-4 h-64 bg-gray-100 flex items-center justify-center text-gray-400",children:"[Chatbot Performance Chart Placeholder]"})]}),pE=()=>m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Unanswered Questions Analysis"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Bar Chart: Top Unanswered Question Categories"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Identify common knowledge gaps in the chatbot."}),m.jsx("button",{className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition-colors",children:"Review Unanswered Questions"}),m.jsx("div",{className:"mt-4 h-64 bg-gray-100 flex items-center justify-center text-gray-400",children:"[Unanswered Questions Chart Placeholder]"})]}),gE=()=>m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Common User Intentions / Topics"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Word Cloud or Bar Chart of Top Topics"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Understanding what users are most interested in."}),m.jsx("div",{className:"mt-4 h-64 bg-gray-100 flex items-center justify-center text-gray-400",children:"[Common User Intentions Chart Placeholder]"})]}),mE=()=>m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Chat Handoffs to Human Agents"}),m.jsxs("div",{className:"mt-4 flex justify-around text-center",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"25"}),m.jsx("p",{className:"text-sm text-gray-500",children:"Total Handoffs"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"10%"}),m.jsx("p",{className:"text-sm text-gray-500",children:"Handoff Rate"})]})]}),m.jsxs("ul",{className:"mt-4 text-sm text-gray-700 list-disc list-inside",children:[m.jsx("li",{children:"50% - Complex Query"}),m.jsx("li",{children:"30% - User Requested Agent"}),m.jsx("li",{children:"20% - Specific Property Detail"})]}),m.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Reasons for escalation and success rate post-handoff."}),m.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-4",children:"75%"}),m.jsx("p",{className:"text-sm text-gray-500",children:"Handoff Conversion Rate (e.g., led to viewing/contact)"})]}),yE=()=>m.jsxs("div",{className:"space-y-8",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Chatbot Analytics"}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[m.jsx(fE,{}),m.jsx(pE,{})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[m.jsx(gE,{}),m.jsx(mE,{})]})]}),vE=()=>m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"New vs. Returning Users"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Pie Chart: New vs. Returning Users"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Understanding user loyalty and engagement patterns."}),m.jsx("div",{className:"mt-4 h-64 bg-gray-100 flex items-center justify-center text-gray-400",children:"[New vs. Returning Users Pie Chart Placeholder]"})]}),xE=({visitors:n})=>m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Recent Chat Histories"}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User ID"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Chat Date"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lead Score"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Summary"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(e=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:`LEAD-${e.visitor_id.substring(0,3)} (${e.name||"N/A"})`}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[new Date(e.updated_at).toLocaleDateString()," ",new Date(e.updated_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.lead_score," (",e.lead_score>=70?"Hot":e.lead_score>=40?"Warm":"Cold",")"]}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["Chat history for ",e.name||"N/A"," about ..."]}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:m.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:"View Full Chat"})})]},e.visitor_id))})]})})]}),wE=({visitors:n})=>m.jsxs("div",{className:"space-y-8",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"User Insights"}),m.jsx(vE,{}),m.jsx(xE,{visitors:n})]}),_E=()=>{const{clients:n,selectedClientId:e,setSelectedClientId:t}=sl(),r=i=>{t(i.target.value),console.log("Selected Client ID:",i.target.value)};return m.jsx("header",{className:"bg-white shadow-sm py-4 px-6 md:px-8",children:m.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Real Estate Chatbot Dashboard"}),m.jsxs("div",{className:"flex items-center space-x-4",children:[e!==null&&m.jsx("select",{value:e,onChange:r,className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:n.map(i=>m.jsx("option",{value:i.client_id,children:i.client_name},i.client_id))}),m.jsx("span",{className:"text-gray-600 text-sm",children:"Welcome, Client Name"}),m.jsx("div",{className:"w-8 h-8 bg-blue-200 rounded-full flex items-center justify-center text-blue-800 font-semibold",children:"CN"})]})]})})},bE=({listings:n,listingMetrics:e,searchTerm:t})=>{const r=Ar(),[i,a]=P.useState(1),[l,u]=P.useState(null),[d,f]=P.useState("asc"),p=10,w=[...n.map(L=>{const $=e.find(W=>W.listing_id===L.id);return{id:L.id,name:L.name,client_id:L.client_id,engaged_users:$?$.engaged_users:0,inquiries:$?$.inquiries:0,total_conversions:$?$.total_conversions:0,conversion_rate:$?$.conversion_rate:0,unacknowledged_hot_leads:$?$.unacknowledged_hot_leads:0}}).filter(L=>L.name.toLowerCase().includes(t.toLowerCase())||L.id.toLowerCase().includes(t.toLowerCase()))].sort((L,$)=>{if(l===null)return 0;const W=L[l],Y=$[l];return typeof W=="string"&&typeof Y=="string"?d==="asc"?W.localeCompare(Y):Y.localeCompare(W):d==="asc"?W-Y:Y-W}),S=Math.ceil(w.length/p);P.useEffect(()=>{a(1)},[t,w.length]);const k=(i-1)*p,b=k+p,E=w.slice(k,b),O=L=>{l===L?f(d==="asc"?"desc":"asc"):(u(L),f("asc"))},T=L=>{L>0&&L<=S&&a(L)},I=L=>l===L?d==="asc"?" ":" ":"";return m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Overall Listing Performance by Chatbot Engagement"}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>O("id"),children:["Listing ID ",I("id")]}),m.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>O("name"),children:["Property Name ",I("name")]}),m.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>O("engaged_users"),children:["Engaged Users ",I("engaged_users")]}),m.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>O("inquiries"),children:["Inquiries ",I("inquiries")]}),m.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>O("total_conversions"),children:["Total Conversions ",I("total_conversions")]}),m.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>O("conversion_rate"),children:["Conversion Rate ",I("conversion_rate")]}),m.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>O("unacknowledged_hot_leads"),children:["Unacknowledged Hot Leads ",I("unacknowledged_hot_leads")]}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(L=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:L.id}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:L.name}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:L.engaged_users}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:L.inquiries}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:L.total_conversions}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[L.conversion_rate!==null?L.conversion_rate.toFixed(2):"0.00","%"]}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:L.unacknowledged_hot_leads}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:m.jsx("button",{onClick:()=>r(`/dashboard/listing/${L.id}?clientId=${L.client_id}`),className:"text-blue-600 hover:text-blue-900",children:"View Details"})})]},L.id))})]})}),m.jsxs("div",{className:"flex justify-between items-center mt-4",children:[m.jsx("button",{onClick:()=>T(i-1),disabled:i===1,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md disabled:opacity-50",children:"Previous"}),m.jsxs("span",{children:["Page ",i," of ",S]}),m.jsx("button",{onClick:()=>T(i+1),disabled:i===S,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md disabled:opacity-50",children:"Next"})]})]})},SE=()=>m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Property Type & Feature Interest"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Bar Chart: Interest by Property Type (e.g., Apartment, House, Villa)"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Word Cloud: Most Asked Features (e.g., Pool, Garden, Parking)"}),m.jsx("div",{className:"mt-4 h-64 bg-gray-100 flex items-center justify-center text-gray-400",children:"[Property Type & Feature Interest Chart Placeholder]"})]}),kE=()=>m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Listings with Unanswered Questions"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Table: Listings with top unanswered questions, allowing direct content updates."}),m.jsx("div",{className:"mt-4 h-64 bg-gray-100 flex items-center justify-center text-gray-400",children:"[Listings with Unanswered Questions Table Placeholder]"})]}),CE=({searchTerm:n,onSearchChange:e,onClearSearch:t})=>m.jsxs("div",{className:"relative w-full",children:[m.jsx("input",{type:"text",placeholder:"Search listings by name or ID...",className:"w-full pl-4 pr-10 py-2 border border-gray-300 rounded-md text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:n,onChange:e}),n&&m.jsx("button",{onClick:t,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700 focus:outline-none",children:"X"})]}),EE=({listings:n,listingMetrics:e})=>{const[t,r]=P.useState(""),i=l=>{r(l.target.value)},a=()=>{r("")};return m.jsxs("div",{className:"space-y-8",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Listing Performance"}),m.jsx(CE,{searchTerm:t,onSearchChange:i,onClearSearch:a}),m.jsx(bE,{listings:n,listingMetrics:e,searchTerm:t}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[m.jsx(SE,{}),m.jsx(kE,{})]})]})},jE=({listingMetrics:n})=>{const{engaged_users:e,total_conversions:t,unacknowledged_hot_leads:r,conversion_rate:i}=n||{};return m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[m.jsx(un,{label:"Chatbot Views",value:e||0,description:"Total unique users who engaged with the chatbot on this listing."}),m.jsx(un,{label:"Total Inquiries",value:n?.inquiries||0,description:"Total questions asked about this listing."}),m.jsx(un,{label:"Hot Leads Generated",value:r||0,description:"New hot leads generated from this listing."}),m.jsx(un,{label:"Lead Conversion Rate",value:`${i!=null?i.toFixed(2):"0.00"}%`,description:"Percentage of engaged users who converted."})]})},PE=({listing:n})=>n?m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Property Information"}),m.jsxs("div",{className:"space-y-2 text-gray-600",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Address:"})," ",n.address]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Type:"})," ",n.type]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Price:"})," ",n.price]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Bedrooms:"})," ",n.beds]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Bathrooms:"})," ",n.baths]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Amenities:"})," ",n.amenities?n.amenities.join(", "):"N/A"]})]})]}):m.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:"Loading property information..."});Qi.register(r0,a0,i0);const TE=({leadDistributionData:n})=>{const e={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{generateLabels:function(t){const r=t.data;if(r.labels.length&&r.datasets.length){const i=r.datasets[0].data.reduce((a,l)=>a+l,0);return r.labels.map((a,l)=>{const u=r.datasets[0].data[l],d=i>0?(u/i*100).toFixed(1):0;return{text:`${a}: ${d}%`,fillStyle:r.datasets[0].backgroundColor[l],strokeStyle:r.datasets[0].borderColor?r.datasets[0].borderColor[l]:r.datasets[0].backgroundColor[l],lineWidth:1,hidden:!1,index:l}})}return[]}}},tooltip:{callbacks:{label:function(t){let r=t.label||"";return r&&(r+=": "),t.parsed!==null&&(r+=t.parsed.toFixed(1)+"%"),r}}}}};return m.jsx(d0,{title:"Lead Score Distribution for this Listing",description:"Shows the percentage of leads in Hot, Warm, and Cold categories for this specific listing.",chartData:n,chartOptions:e})},NE=({questions:n})=>m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Common Questions about this Listing"}),n&&n.length>0?m.jsx("ul",{className:"list-disc list-inside space-y-2 text-gray-600",children:n.map((e,t)=>m.jsxs("li",{children:[e.question_text," (",e.count," times)"]},t))}):m.jsx("p",{className:"text-gray-500",children:"No common questions available."})]}),RE=({questions:n})=>m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Unanswered Questions for this Listing"}),m.jsx("ul",{className:"list-disc list-inside space-y-2 text-gray-600",children:n.map((e,t)=>m.jsx("li",{children:e},t))}),m.jsx("button",{className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Review All Unanswered Questions"})]}),OE=({handoffs:n})=>m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Chat Handoffs for this Listing"}),m.jsx("ul",{className:"list-disc list-inside space-y-2 text-gray-600",children:n.map((e,t)=>m.jsxs("li",{children:[e.reason," (",e.count," times)"]},t))}),m.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Understanding reasons for human intervention specific to this property."})]}),AE=({listingName:n})=>m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Individual Leads Interested in This Listing"}),m.jsxs("div",{className:"text-gray-600 mb-4",children:["Table Placeholder for Leads related to ",n||"this listing"]}),m.jsx("p",{className:"text-sm text-gray-500",children:"This table would show specific leads who engaged with the chatbot about this property, their scores, and links to their full chat histories."})]}),LE=({chatHistory:n})=>!n||n.length===0?m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[m.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Chat History"}),m.jsx("p",{className:"text-gray-600",children:"No chat history available for this listing."})]}):m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[m.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Chat History"}),m.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:n.map((e,t)=>m.jsxs("div",{className:"border-b pb-2",children:[m.jsxs("p",{className:"text-gray-700 font-medium",children:["User: ",e.question_text]}),e.chatbot_response&&m.jsxs("p",{className:"text-gray-600 ml-4",children:["Chatbot: ",e.chatbot_response]}),m.jsx("p",{className:"text-gray-500 text-sm mt-1",children:new Date(e.asked_at).toLocaleString()})]},t))})]}),DE=()=>{const{id:n}=Km(),e=Ar(),[t]=d_(),r=t.get("clientId"),[i,a]=P.useState(null),[l,u]=P.useState(null),[d,f]=P.useState(null),[p,v]=P.useState([]),[x,w]=P.useState([]),[S,k]=P.useState([]),[b,E]=P.useState([]);return P.useEffect(()=>{(async()=>{if(!r){console.warn("No clientId found in URL, cannot fetch listing details.");return}try{const[T,I]=await Promise.all([fetch(`${rr}/api/listing/${n}?clientId=${r}`),fetch(`${rr}/api/common-questions?listingId=${n}&clientId=${r}`)]);if(console.log("Frontend: listingResponse.ok:",T.ok),console.log("Frontend: listingResponse.status:",T.status),!T.ok){if(T.status===404){console.warn(`Listing with ID ${n} not found for client ${r}. Redirecting.`),e("/dashboard/listing-performance");return}throw new Error(`HTTP error! status: ${T.status}`)}const L=await T.json();if(console.log("Frontend: Parsed listingData:",L),a(L.listing),u(L.metrics),w(L.unansweredQuestions),k(L.fullChatHistory),E(L.chatHandoffs),!I.ok)console.warn(`Failed to fetch common questions: ${I.status}`),v([]);else{const W=await I.json();console.log("Fetched common questions data:",W),v(W.commonQuestions)}const $=await SS(n,r);$&&f({labels:["Hot Leads","Warm Leads","Cold Leads"],datasets:[{data:[$.hot,$.warm,$.cold],backgroundColor:["#FF6384","#FFCE56","#36A2EB"],hoverBackgroundColor:["#FF6384","#FFCE56","#36A2EB"]}]})}catch(T){console.error("Error fetching listing details:",T),a(null),u(null),f(null),v([]),w([]),k([]),E([])}})()},[n,r,e]),i?m.jsx("div",{className:"space-y-8",children:m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Listing Details: ",i.name," (",i.propId,")"]}),m.jsx("button",{onClick:()=>e("/dashboard/listing-performance"),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 focus:outline-none",children:"Back to All Listings"})]}),m.jsx(jE,{listingMetrics:l}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8",children:[m.jsx(PE,{listing:i}),m.jsx(TE,{leadDistributionData:d})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8",children:[m.jsx(NE,{questions:p}),m.jsx(RE,{questions:x})," "]}),m.jsxs("div",{className:"mt-8",children:[" ",m.jsx(LE,{chatHistory:S})]}),m.jsx(OE,{handoffs:b}),m.jsx(AE,{listingName:i.name})]})}):m.jsx("div",{className:"text-center py-8",children:"Loading listing details..."})},IE=()=>{const n=Nn(),e=Ar(),{selectedClientId:t}=sl(),[r,i]=P.useState([]),[a,l]=P.useState([]),[u,d]=P.useState([]),[f,p]=P.useState([]),x=(k=>{const b=k.split("/");return b.length>2&&b[2]?b[2]:"overview"})(n.pathname);P.useEffect(()=>{(async()=>{if(t){console.log("Fetching data for client ID:",t,"Type:",typeof t);try{const{data:b,error:E}=await ws.from("visitors").select("*").eq("client_id",t);E?console.error("Error fetching visitors:",E):(i(b||[]),console.log("Fetched visitors:",b));const{data:O,error:T}=await ws.from("listings").select("*").eq("client_id",t);T?console.error("Error fetching listings:",T):(l(O||[]),console.log("Fetched listings:",O));const{data:I,error:L}=await ws.from("listing_metrics").select("*").eq("client_id",t);if(L)console.error("Error fetching listing metrics:",L);else{d(I||[]),console.log("Fetched listing metrics:",I);const $=(O||[]).map(Y=>{const ee=(I||[]).find(se=>se.listing_id===Y.id);return{...Y,inquiries:ee?ee.inquiries:0,engaged_users:ee?ee.engaged_users:0,total_conversions:ee?ee.total_conversions:0,conversion_rate:ee?ee.conversion_rate:0}});console.log("Combined listings data:",$);const W=$.sort((Y,ee)=>ee.inquiries-Y.inquiries);p(W.slice(0,5))}}catch(b){console.error("Error fetching dashboard data:",b)}}})()},[t]);const w=k=>{e(`/dashboard/${k}`)},S=()=>{e("/dashboard/lead-performance")};return m.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 font-sans text-gray-900",children:[m.jsx(_E,{}),m.jsxs("div",{className:"flex-grow max-w-7xl mx-auto px-8 md:px-12 py-8",children:[m.jsx(hE,{activeTab:x,onTabClick:w}),m.jsxs(Gm,{children:[m.jsx(ft,{index:!0,element:m.jsx(_m,{onViewHotLeads:S,topInquiredListings:f})}),m.jsx(ft,{path:"overview",element:m.jsx(_m,{onViewHotLeads:S,topInquiredListings:f})}),m.jsx(ft,{path:"lead-performance",element:m.jsx(dE,{visitors:r,listings:a,listingMetrics:u})}),m.jsx(ft,{path:"chatbot-analytics",element:m.jsx(yE,{})}),m.jsx(ft,{path:"listing-performance",element:m.jsx(EE,{listings:a,listingMetrics:u})}),m.jsx(ft,{path:"listing/:id",element:m.jsx(DE,{})}),m.jsx(ft,{path:"user-insights",element:m.jsx(wE,{visitors:r})}),m.jsx(ft,{path:"*",element:m.jsxs("div",{className:"text-center py-12",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-600",children:"This tab is under development"}),m.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["The ",x," functionality will be implemented soon."]})]})})]}),m.jsx(Qm,{})," "]}),m.jsx("div",{className:"fixed bottom-6 right-6",children:m.jsx("button",{className:"w-12 h-12 bg-gray-800 rounded-full shadow-lg flex items-center justify-center text-white hover:bg-gray-700 transition-colors",children:m.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})})})]})};function h0(n,e){return function(){return n.apply(e,arguments)}}const{toString:ME}=Object.prototype,{getPrototypeOf:Nd}=Object,{iterator:cl,toStringTag:f0}=Symbol,ul=(n=>e=>{const t=ME.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Xt=n=>(n=n.toLowerCase(),e=>ul(e)===n),dl=n=>e=>typeof e===n,{isArray:Ps}=Array,Bi=dl("undefined");function Gi(n){return n!==null&&!Bi(n)&&n.constructor!==null&&!Bi(n.constructor)&&kt(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const p0=Xt("ArrayBuffer");function FE(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&p0(n.buffer),e}const $E=dl("string"),kt=dl("function"),g0=dl("number"),Xi=n=>n!==null&&typeof n=="object",UE=n=>n===!0||n===!1,Da=n=>{if(ul(n)!=="object")return!1;const e=Nd(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(f0 in n)&&!(cl in n)},zE=n=>{if(!Xi(n)||Gi(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},BE=Xt("Date"),HE=Xt("File"),WE=Xt("Blob"),VE=Xt("FileList"),qE=n=>Xi(n)&&kt(n.pipe),KE=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||kt(n.append)&&((e=ul(n))==="formdata"||e==="object"&&kt(n.toString)&&n.toString()==="[object FormData]"))},JE=Xt("URLSearchParams"),[YE,QE,GE,XE]=["ReadableStream","Request","Response","Headers"].map(Xt),ZE=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zi(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Ps(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{if(Gi(n))return;const a=t?Object.getOwnPropertyNames(n):Object.keys(n),l=a.length;let u;for(r=0;r<l;r++)u=a[r],e.call(null,n[u],u,n)}}function m0(n,e){if(Gi(n))return null;e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const Pr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,y0=n=>!Bi(n)&&n!==Pr;function Xu(){const{caseless:n}=y0(this)&&this||{},e={},t=(r,i)=>{const a=n&&m0(e,i)||i;Da(e[a])&&Da(r)?e[a]=Xu(e[a],r):Da(r)?e[a]=Xu({},r):Ps(r)?e[a]=r.slice():e[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Zi(arguments[r],t);return e}const ej=(n,e,t,{allOwnKeys:r}={})=>(Zi(e,(i,a)=>{t&&kt(i)?n[a]=h0(i,t):n[a]=i},{allOwnKeys:r}),n),tj=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),nj=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},rj=(n,e,t,r)=>{let i,a,l;const u={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),a=i.length;a-- >0;)l=i[a],(!r||r(l,n,e))&&!u[l]&&(e[l]=n[l],u[l]=!0);n=t!==!1&&Nd(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},sj=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},ij=n=>{if(!n)return null;if(Ps(n))return n;let e=n.length;if(!g0(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},oj=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Nd(Uint8Array)),aj=(n,e)=>{const r=(n&&n[cl]).call(n);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(n,a[0],a[1])}},lj=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},cj=Xt("HTMLFormElement"),uj=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),bm=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),dj=Xt("RegExp"),v0=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Zi(t,(i,a)=>{let l;(l=e(i,a,n))!==!1&&(r[a]=l||i)}),Object.defineProperties(n,r)},hj=n=>{v0(n,(e,t)=>{if(kt(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(kt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},fj=(n,e)=>{const t={},r=i=>{i.forEach(a=>{t[a]=!0})};return Ps(n)?r(n):r(String(n).split(e)),t},pj=()=>{},gj=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function mj(n){return!!(n&&kt(n.append)&&n[f0]==="FormData"&&n[cl])}const yj=n=>{const e=new Array(10),t=(r,i)=>{if(Xi(r)){if(e.indexOf(r)>=0)return;if(Gi(r))return r;if(!("toJSON"in r)){e[i]=r;const a=Ps(r)?[]:{};return Zi(r,(l,u)=>{const d=t(l,i+1);!Bi(d)&&(a[u]=d)}),e[i]=void 0,a}}return r};return t(n,0)},vj=Xt("AsyncFunction"),xj=n=>n&&(Xi(n)||kt(n))&&kt(n.then)&&kt(n.catch),x0=((n,e)=>n?setImmediate:e?((t,r)=>(Pr.addEventListener("message",({source:i,data:a})=>{i===Pr&&a===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Pr.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",kt(Pr.postMessage)),wj=typeof queueMicrotask<"u"?queueMicrotask.bind(Pr):typeof process<"u"&&process.nextTick||x0,_j=n=>n!=null&&kt(n[cl]),F={isArray:Ps,isArrayBuffer:p0,isBuffer:Gi,isFormData:KE,isArrayBufferView:FE,isString:$E,isNumber:g0,isBoolean:UE,isObject:Xi,isPlainObject:Da,isEmptyObject:zE,isReadableStream:YE,isRequest:QE,isResponse:GE,isHeaders:XE,isUndefined:Bi,isDate:BE,isFile:HE,isBlob:WE,isRegExp:dj,isFunction:kt,isStream:qE,isURLSearchParams:JE,isTypedArray:oj,isFileList:VE,forEach:Zi,merge:Xu,extend:ej,trim:ZE,stripBOM:tj,inherits:nj,toFlatObject:rj,kindOf:ul,kindOfTest:Xt,endsWith:sj,toArray:ij,forEachEntry:aj,matchAll:lj,isHTMLForm:cj,hasOwnProperty:bm,hasOwnProp:bm,reduceDescriptors:v0,freezeMethods:hj,toObjectSet:fj,toCamelCase:uj,noop:pj,toFiniteNumber:gj,findKey:m0,global:Pr,isContextDefined:y0,isSpecCompliantForm:mj,toJSONObject:yj,isAsyncFn:vj,isThenable:xj,setImmediate:x0,asap:wj,isIterable:_j};function me(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}F.inherits(me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.status}}});const w0=me.prototype,_0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{_0[n]={value:n}});Object.defineProperties(me,_0);Object.defineProperty(w0,"isAxiosError",{value:!0});me.from=(n,e,t,r,i,a)=>{const l=Object.create(w0);return F.toFlatObject(n,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError"),me.call(l,n.message,e,t,r,i),l.cause=n,l.name=n.name,a&&Object.assign(l,a),l};const bj=null;function Zu(n){return F.isPlainObject(n)||F.isArray(n)}function b0(n){return F.endsWith(n,"[]")?n.slice(0,-2):n}function Sm(n,e,t){return n?n.concat(e).map(function(i,a){return i=b0(i),!t&&a?"["+i+"]":i}).join(t?".":""):e}function Sj(n){return F.isArray(n)&&!n.some(Zu)}const kj=F.toFlatObject(F,{},null,function(e){return/^is[A-Z]/.test(e)});function hl(n,e,t){if(!F.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=F.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,b){return!F.isUndefined(b[k])});const r=t.metaTokens,i=t.visitor||p,a=t.dots,l=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&F.isSpecCompliantForm(e);if(!F.isFunction(i))throw new TypeError("visitor must be a function");function f(S){if(S===null)return"";if(F.isDate(S))return S.toISOString();if(F.isBoolean(S))return S.toString();if(!d&&F.isBlob(S))throw new me("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(S)||F.isTypedArray(S)?d&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function p(S,k,b){let E=S;if(S&&!b&&typeof S=="object"){if(F.endsWith(k,"{}"))k=r?k:k.slice(0,-2),S=JSON.stringify(S);else if(F.isArray(S)&&Sj(S)||(F.isFileList(S)||F.endsWith(k,"[]"))&&(E=F.toArray(S)))return k=b0(k),E.forEach(function(T,I){!(F.isUndefined(T)||T===null)&&e.append(l===!0?Sm([k],I,a):l===null?k:k+"[]",f(T))}),!1}return Zu(S)?!0:(e.append(Sm(b,k,a),f(S)),!1)}const v=[],x=Object.assign(kj,{defaultVisitor:p,convertValue:f,isVisitable:Zu});function w(S,k){if(!F.isUndefined(S)){if(v.indexOf(S)!==-1)throw Error("Circular reference detected in "+k.join("."));v.push(S),F.forEach(S,function(E,O){(!(F.isUndefined(E)||E===null)&&i.call(e,E,F.isString(O)?O.trim():O,k,x))===!0&&w(E,k?k.concat(O):[O])}),v.pop()}}if(!F.isObject(n))throw new TypeError("data must be an object");return w(n),e}function km(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Rd(n,e){this._pairs=[],n&&hl(n,this,e)}const S0=Rd.prototype;S0.append=function(e,t){this._pairs.push([e,t])};S0.toString=function(e){const t=e?function(r){return e.call(this,r,km)}:km;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function Cj(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function k0(n,e,t){if(!e)return n;const r=t&&t.encode||Cj;F.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let a;if(i?a=i(e,t):a=F.isURLSearchParams(e)?e.toString():new Rd(e,t).toString(r),a){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class Cm{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){F.forEach(this.handlers,function(r){r!==null&&e(r)})}}const C0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ej=typeof URLSearchParams<"u"?URLSearchParams:Rd,jj=typeof FormData<"u"?FormData:null,Pj=typeof Blob<"u"?Blob:null,Tj={isBrowser:!0,classes:{URLSearchParams:Ej,FormData:jj,Blob:Pj},protocols:["http","https","file","blob","url","data"]},Od=typeof window<"u"&&typeof document<"u",ed=typeof navigator=="object"&&navigator||void 0,Nj=Od&&(!ed||["ReactNative","NativeScript","NS"].indexOf(ed.product)<0),Rj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Oj=Od&&window.location.href||"http://localhost",Aj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Od,hasStandardBrowserEnv:Nj,hasStandardBrowserWebWorkerEnv:Rj,navigator:ed,origin:Oj},Symbol.toStringTag,{value:"Module"})),ct={...Aj,...Tj};function Lj(n,e){return hl(n,new ct.classes.URLSearchParams,{visitor:function(t,r,i,a){return ct.isNode&&F.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function Dj(n){return F.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Ij(n){const e={},t=Object.keys(n);let r;const i=t.length;let a;for(r=0;r<i;r++)a=t[r],e[a]=n[a];return e}function E0(n){function e(t,r,i,a){let l=t[a++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=a>=t.length;return l=!l&&F.isArray(i)?i.length:l,d?(F.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!u):((!i[l]||!F.isObject(i[l]))&&(i[l]=[]),e(t,r,i[l],a)&&F.isArray(i[l])&&(i[l]=Ij(i[l])),!u)}if(F.isFormData(n)&&F.isFunction(n.entries)){const t={};return F.forEachEntry(n,(r,i)=>{e(Dj(r),i,t,0)}),t}return null}function Mj(n,e,t){if(F.isString(n))try{return(e||JSON.parse)(n),F.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const eo={transitional:C0,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=F.isObject(e);if(a&&F.isHTMLForm(e)&&(e=new FormData(e)),F.isFormData(e))return i?JSON.stringify(E0(e)):e;if(F.isArrayBuffer(e)||F.isBuffer(e)||F.isStream(e)||F.isFile(e)||F.isBlob(e)||F.isReadableStream(e))return e;if(F.isArrayBufferView(e))return e.buffer;if(F.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Lj(e,this.formSerializer).toString();if((u=F.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return hl(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),Mj(e)):e}],transformResponse:[function(e){const t=this.transitional||eo.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(F.isResponse(e)||F.isReadableStream(e))return e;if(e&&F.isString(e)&&(r&&!this.responseType||i)){const l=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?me.from(u,me.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ct.classes.FormData,Blob:ct.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],n=>{eo.headers[n]={}});const Fj=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$j=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(l){i=l.indexOf(":"),t=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!t||e[t]&&Fj[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},Em=Symbol("internals");function ki(n){return n&&String(n).trim().toLowerCase()}function Ia(n){return n===!1||n==null?n:F.isArray(n)?n.map(Ia):String(n)}function Uj(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const zj=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Ru(n,e,t,r,i){if(F.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!F.isString(e)){if(F.isString(r))return e.indexOf(r)!==-1;if(F.isRegExp(r))return r.test(e)}}function Bj(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function Hj(n,e){const t=F.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,a,l){return this[r].call(this,e,i,a,l)},configurable:!0})})}let Ct=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function a(u,d,f){const p=ki(d);if(!p)throw new Error("header name must be a non-empty string");const v=F.findKey(i,p);(!v||i[v]===void 0||f===!0||f===void 0&&i[v]!==!1)&&(i[v||d]=Ia(u))}const l=(u,d)=>F.forEach(u,(f,p)=>a(f,p,d));if(F.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(F.isString(e)&&(e=e.trim())&&!zj(e))l($j(e),t);else if(F.isObject(e)&&F.isIterable(e)){let u={},d,f;for(const p of e){if(!F.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[f=p[0]]=(d=u[f])?F.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}l(u,t)}else e!=null&&a(t,e,r);return this}get(e,t){if(e=ki(e),e){const r=F.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return Uj(i);if(F.isFunction(t))return t.call(this,i,r);if(F.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ki(e),e){const r=F.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Ru(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function a(l){if(l=ki(l),l){const u=F.findKey(r,l);u&&(!t||Ru(r,r[u],u,t))&&(delete r[u],i=!0)}}return F.isArray(e)?e.forEach(a):a(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const a=t[r];(!e||Ru(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const t=this,r={};return F.forEach(this,(i,a)=>{const l=F.findKey(r,a);if(l){t[l]=Ia(i),delete t[a];return}const u=e?Bj(a):String(a).trim();u!==a&&delete t[a],t[u]=Ia(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return F.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&F.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Em]=this[Em]={accessors:{}}).accessors,i=this.prototype;function a(l){const u=ki(l);r[u]||(Hj(i,l),r[u]=!0)}return F.isArray(e)?e.forEach(a):a(e),this}};Ct.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);F.reduceDescriptors(Ct.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});F.freezeMethods(Ct);function Ou(n,e){const t=this||eo,r=e||t,i=Ct.from(r.headers);let a=r.data;return F.forEach(n,function(u){a=u.call(t,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function j0(n){return!!(n&&n.__CANCEL__)}function Ts(n,e,t){me.call(this,n??"canceled",me.ERR_CANCELED,e,t),this.name="CanceledError"}F.inherits(Ts,me,{__CANCEL__:!0});function P0(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new me("Request failed with status code "+t.status,[me.ERR_BAD_REQUEST,me.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Wj(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Vj(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,a=0,l;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),p=r[a];l||(l=f),t[i]=d,r[i]=f;let v=a,x=0;for(;v!==i;)x+=t[v++],v=v%n;if(i=(i+1)%n,i===a&&(a=(a+1)%n),f-l<e)return;const w=p&&f-p;return w?Math.round(x*1e3/w):void 0}}function qj(n,e){let t=0,r=1e3/e,i,a;const l=(f,p=Date.now())=>{t=p,i=null,a&&(clearTimeout(a),a=null),n(...f)};return[(...f)=>{const p=Date.now(),v=p-t;v>=r?l(f,p):(i=f,a||(a=setTimeout(()=>{a=null,l(i)},r-v)))},()=>i&&l(i)]}const Ga=(n,e,t=3)=>{let r=0;const i=Vj(50,250);return qj(a=>{const l=a.loaded,u=a.lengthComputable?a.total:void 0,d=l-r,f=i(d),p=l<=u;r=l;const v={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:f||void 0,estimated:f&&u&&p?(u-l)/f:void 0,event:a,lengthComputable:u!=null,[e?"download":"upload"]:!0};n(v)},t)},jm=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},Pm=n=>(...e)=>F.asap(()=>n(...e)),Kj=ct.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,ct.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(ct.origin),ct.navigator&&/(msie|trident)/i.test(ct.navigator.userAgent)):()=>!0,Jj=ct.hasStandardBrowserEnv?{write(n,e,t,r,i,a){const l=[n+"="+encodeURIComponent(e)];F.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),F.isString(r)&&l.push("path="+r),F.isString(i)&&l.push("domain="+i),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Yj(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Qj(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function T0(n,e,t){let r=!Yj(e);return n&&(r||t==!1)?Qj(n,e):e}const Tm=n=>n instanceof Ct?{...n}:n;function Or(n,e){e=e||{};const t={};function r(f,p,v,x){return F.isPlainObject(f)&&F.isPlainObject(p)?F.merge.call({caseless:x},f,p):F.isPlainObject(p)?F.merge({},p):F.isArray(p)?p.slice():p}function i(f,p,v,x){if(F.isUndefined(p)){if(!F.isUndefined(f))return r(void 0,f,v,x)}else return r(f,p,v,x)}function a(f,p){if(!F.isUndefined(p))return r(void 0,p)}function l(f,p){if(F.isUndefined(p)){if(!F.isUndefined(f))return r(void 0,f)}else return r(void 0,p)}function u(f,p,v){if(v in e)return r(f,p);if(v in n)return r(void 0,f)}const d={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(f,p,v)=>i(Tm(f),Tm(p),v,!0)};return F.forEach(Object.keys({...n,...e}),function(p){const v=d[p]||i,x=v(n[p],e[p],p);F.isUndefined(x)&&v!==u||(t[p]=x)}),t}const N0=n=>{const e=Or({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:l,auth:u}=e;e.headers=l=Ct.from(l),e.url=k0(T0(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let d;if(F.isFormData(t)){if(ct.hasStandardBrowserEnv||ct.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[f,...p]=d?d.split(";").map(v=>v.trim()).filter(Boolean):[];l.setContentType([f||"multipart/form-data",...p].join("; "))}}if(ct.hasStandardBrowserEnv&&(r&&F.isFunction(r)&&(r=r(e)),r||r!==!1&&Kj(e.url))){const f=i&&a&&Jj.read(a);f&&l.set(i,f)}return e},Gj=typeof XMLHttpRequest<"u",Xj=Gj&&function(n){return new Promise(function(t,r){const i=N0(n);let a=i.data;const l=Ct.from(i.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:f}=i,p,v,x,w,S;function k(){w&&w(),S&&S(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function E(){if(!b)return;const T=Ct.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),L={data:!u||u==="text"||u==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:T,config:n,request:b};P0(function(W){t(W),k()},function(W){r(W),k()},L),b=null}"onloadend"in b?b.onloadend=E:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(E)},b.onabort=function(){b&&(r(new me("Request aborted",me.ECONNABORTED,n,b)),b=null)},b.onerror=function(){r(new me("Network Error",me.ERR_NETWORK,n,b)),b=null},b.ontimeout=function(){let I=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const L=i.transitional||C0;i.timeoutErrorMessage&&(I=i.timeoutErrorMessage),r(new me(I,L.clarifyTimeoutError?me.ETIMEDOUT:me.ECONNABORTED,n,b)),b=null},a===void 0&&l.setContentType(null),"setRequestHeader"in b&&F.forEach(l.toJSON(),function(I,L){b.setRequestHeader(L,I)}),F.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),u&&u!=="json"&&(b.responseType=i.responseType),f&&([x,S]=Ga(f,!0),b.addEventListener("progress",x)),d&&b.upload&&([v,w]=Ga(d),b.upload.addEventListener("progress",v),b.upload.addEventListener("loadend",w)),(i.cancelToken||i.signal)&&(p=T=>{b&&(r(!T||T.type?new Ts(null,n,b):T),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const O=Wj(i.url);if(O&&ct.protocols.indexOf(O)===-1){r(new me("Unsupported protocol "+O+":",me.ERR_BAD_REQUEST,n));return}b.send(a||null)})},Zj=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const a=function(f){if(!i){i=!0,u();const p=f instanceof Error?f:this.reason;r.abort(p instanceof me?p:new Ts(p instanceof Error?p.message:p))}};let l=e&&setTimeout(()=>{l=null,a(new me(`timeout ${e} of ms exceeded`,me.ETIMEDOUT))},e);const u=()=>{n&&(l&&clearTimeout(l),l=null,n.forEach(f=>{f.unsubscribe?f.unsubscribe(a):f.removeEventListener("abort",a)}),n=null)};n.forEach(f=>f.addEventListener("abort",a));const{signal:d}=r;return d.unsubscribe=()=>F.asap(u),d}},eP=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},tP=async function*(n,e){for await(const t of nP(n))yield*eP(t,e)},nP=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},Nm=(n,e,t,r)=>{const i=tP(n,e);let a=0,l,u=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:p}=await i.next();if(f){u(),d.close();return}let v=p.byteLength;if(t){let x=a+=v;t(x)}d.enqueue(new Uint8Array(p))}catch(f){throw u(f),f}},cancel(d){return u(d),i.return()}},{highWaterMark:2})},fl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",R0=fl&&typeof ReadableStream=="function",rP=fl&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),O0=(n,...e)=>{try{return!!n(...e)}catch{return!1}},sP=R0&&O0(()=>{let n=!1;const e=new Request(ct.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),Rm=64*1024,td=R0&&O0(()=>F.isReadableStream(new Response("").body)),Xa={stream:td&&(n=>n.body)};fl&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Xa[e]&&(Xa[e]=F.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new me(`Response type '${e}' is not supported`,me.ERR_NOT_SUPPORT,r)})})})(new Response);const iP=async n=>{if(n==null)return 0;if(F.isBlob(n))return n.size;if(F.isSpecCompliantForm(n))return(await new Request(ct.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(F.isArrayBufferView(n)||F.isArrayBuffer(n))return n.byteLength;if(F.isURLSearchParams(n)&&(n=n+""),F.isString(n))return(await rP(n)).byteLength},oP=async(n,e)=>{const t=F.toFiniteNumber(n.getContentLength());return t??iP(e)},aP=fl&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:a,timeout:l,onDownloadProgress:u,onUploadProgress:d,responseType:f,headers:p,withCredentials:v="same-origin",fetchOptions:x}=N0(n);f=f?(f+"").toLowerCase():"text";let w=Zj([i,a&&a.toAbortSignal()],l),S;const k=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let b;try{if(d&&sP&&t!=="get"&&t!=="head"&&(b=await oP(p,r))!==0){let L=new Request(e,{method:"POST",body:r,duplex:"half"}),$;if(F.isFormData(r)&&($=L.headers.get("content-type"))&&p.setContentType($),L.body){const[W,Y]=jm(b,Ga(Pm(d)));r=Nm(L.body,Rm,W,Y)}}F.isString(v)||(v=v?"include":"omit");const E="credentials"in Request.prototype;S=new Request(e,{...x,signal:w,method:t.toUpperCase(),headers:p.normalize().toJSON(),body:r,duplex:"half",credentials:E?v:void 0});let O=await fetch(S,x);const T=td&&(f==="stream"||f==="response");if(td&&(u||T&&k)){const L={};["status","statusText","headers"].forEach(ee=>{L[ee]=O[ee]});const $=F.toFiniteNumber(O.headers.get("content-length")),[W,Y]=u&&jm($,Ga(Pm(u),!0))||[];O=new Response(Nm(O.body,Rm,W,()=>{Y&&Y(),k&&k()}),L)}f=f||"text";let I=await Xa[F.findKey(Xa,f)||"text"](O,n);return!T&&k&&k(),await new Promise((L,$)=>{P0(L,$,{data:I,headers:Ct.from(O.headers),status:O.status,statusText:O.statusText,config:n,request:S})})}catch(E){throw k&&k(),E&&E.name==="TypeError"&&/Load failed|fetch/i.test(E.message)?Object.assign(new me("Network Error",me.ERR_NETWORK,n,S),{cause:E.cause||E}):me.from(E,E&&E.code,n,S)}}),nd={http:bj,xhr:Xj,fetch:aP};F.forEach(nd,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Om=n=>`- ${n}`,lP=n=>F.isFunction(n)||n===null||n===!1,A0={getAdapter:n=>{n=F.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let a=0;a<e;a++){t=n[a];let l;if(r=t,!lP(t)&&(r=nd[(l=String(t)).toLowerCase()],r===void 0))throw new me(`Unknown adapter '${l}'`);if(r)break;i[l||"#"+a]=r}if(!r){const a=Object.entries(i).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?a.length>1?`since :
`+a.map(Om).join(`
`):" "+Om(a[0]):"as no adapter specified";throw new me("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:nd};function Au(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Ts(null,n)}function Am(n){return Au(n),n.headers=Ct.from(n.headers),n.data=Ou.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),A0.getAdapter(n.adapter||eo.adapter)(n).then(function(r){return Au(n),r.data=Ou.call(n,n.transformResponse,r),r.headers=Ct.from(r.headers),r},function(r){return j0(r)||(Au(n),r&&r.response&&(r.response.data=Ou.call(n,n.transformResponse,r.response),r.response.headers=Ct.from(r.response.headers))),Promise.reject(r)})}const L0="1.11.0",pl={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{pl[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const Lm={};pl.transitional=function(e,t,r){function i(a,l){return"[Axios v"+L0+"] Transitional option '"+a+"'"+l+(r?". "+r:"")}return(a,l,u)=>{if(e===!1)throw new me(i(l," has been removed"+(t?" in "+t:"")),me.ERR_DEPRECATED);return t&&!Lm[l]&&(Lm[l]=!0,console.warn(i(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,l,u):!0}};pl.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function cP(n,e,t){if(typeof n!="object")throw new me("options must be an object",me.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const a=r[i],l=e[a];if(l){const u=n[a],d=u===void 0||l(u,a,n);if(d!==!0)throw new me("option "+a+" must be "+d,me.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new me("Unknown option "+a,me.ERR_BAD_OPTION)}}const Ma={assertOptions:cP,validators:pl},on=Ma.validators;let Nr=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Cm,response:new Cm}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Or(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:a}=t;r!==void 0&&Ma.assertOptions(r,{silentJSONParsing:on.transitional(on.boolean),forcedJSONParsing:on.transitional(on.boolean),clarifyTimeoutError:on.transitional(on.boolean)},!1),i!=null&&(F.isFunction(i)?t.paramsSerializer={serialize:i}:Ma.assertOptions(i,{encode:on.function,serialize:on.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Ma.assertOptions(t,{baseUrl:on.spelling("baseURL"),withXsrfToken:on.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=a&&F.merge(a.common,a[t.method]);a&&F.forEach(["delete","get","head","post","put","patch","common"],S=>{delete a[S]}),t.headers=Ct.concat(l,a);const u=[];let d=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(t)===!1||(d=d&&k.synchronous,u.unshift(k.fulfilled,k.rejected))});const f=[];this.interceptors.response.forEach(function(k){f.push(k.fulfilled,k.rejected)});let p,v=0,x;if(!d){const S=[Am.bind(this),void 0];for(S.unshift(...u),S.push(...f),x=S.length,p=Promise.resolve(t);v<x;)p=p.then(S[v++],S[v++]);return p}x=u.length;let w=t;for(v=0;v<x;){const S=u[v++],k=u[v++];try{w=S(w)}catch(b){k.call(this,b);break}}try{p=Am.call(this,w)}catch(S){return Promise.reject(S)}for(v=0,x=f.length;v<x;)p=p.then(f[v++],f[v++]);return p}getUri(e){e=Or(this.defaults,e);const t=T0(e.baseURL,e.url,e.allowAbsoluteUrls);return k0(t,e.params,e.paramsSerializer)}};F.forEach(["delete","get","head","options"],function(e){Nr.prototype[e]=function(t,r){return this.request(Or(r||{},{method:e,url:t,data:(r||{}).data}))}});F.forEach(["post","put","patch"],function(e){function t(r){return function(a,l,u){return this.request(Or(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Nr.prototype[e]=t(),Nr.prototype[e+"Form"]=t(!0)});let uP=class D0{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const l=new Promise(u=>{r.subscribe(u),a=u}).then(i);return l.cancel=function(){r.unsubscribe(a)},l},e(function(a,l,u){r.reason||(r.reason=new Ts(a,l,u),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new D0(function(i){e=i}),cancel:e}}};function dP(n){return function(t){return n.apply(null,t)}}function hP(n){return F.isObject(n)&&n.isAxiosError===!0}const rd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(rd).forEach(([n,e])=>{rd[e]=n});function I0(n){const e=new Nr(n),t=h0(Nr.prototype.request,e);return F.extend(t,Nr.prototype,e,{allOwnKeys:!0}),F.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return I0(Or(n,i))},t}const De=I0(eo);De.Axios=Nr;De.CanceledError=Ts;De.CancelToken=uP;De.isCancel=j0;De.VERSION=L0;De.toFormData=hl;De.AxiosError=me;De.Cancel=De.CanceledError;De.all=function(e){return Promise.all(e)};De.spread=dP;De.isAxiosError=hP;De.mergeConfig=Or;De.AxiosHeaders=Ct;De.formToJSON=n=>E0(F.isHTMLForm(n)?new FormData(n):n);De.getAdapter=A0.getAdapter;De.HttpStatusCode=rd;De.default=De;const{Axios:VP,AxiosError:qP,CanceledError:KP,isCancel:JP,CancelToken:YP,VERSION:QP,all:GP,Cancel:XP,isAxiosError:ZP,spread:eT,toFormData:tT,AxiosHeaders:nT,HttpStatusCode:rT,formToJSON:sT,getAdapter:iT,mergeConfig:oT}=De,fP=({fetchClients:n})=>{const[e,t]=P.useState({client_name:"",chatbot_name:""}),[r,i]=P.useState(null),a=u=>{const{name:d,value:f}=u.target;t({...e,[d]:f})},l=async u=>{u.preventDefault();try{await De.post(`${rr}/v1/clients`,e),t({client_name:"",chatbot_name:""}),n(),i(null)}catch(d){i(d)}};return m.jsxs("div",{className:"mb-8 p-4 border rounded shadow-sm bg-white",children:[m.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Create New Client"}),r&&m.jsxs("p",{className:"text-red-500 mb-4",children:["Error creating client: ",r.message]}),m.jsxs("form",{onSubmit:l,className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"client_name",className:"block text-sm font-medium text-gray-700",children:"Client Name"}),m.jsx("input",{type:"text",name:"client_name",id:"client_name",value:e.client_name,onChange:a,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"chatbot_name",className:"block text-sm font-medium text-gray-700",children:"Chatbot Name"}),m.jsx("input",{type:"text",name:"chatbot_name",id:"chatbot_name",value:e.chatbot_name,onChange:a,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",required:!0})]}),m.jsx("div",{className:"md:col-span-3",children:m.jsx("button",{type:"submit",className:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600",children:"Add Client"})})]})]})};var M0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Dm=dn.createContext&&dn.createContext(M0),pP=["attr","size","title"];function gP(n,e){if(n==null)return{};var t=mP(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function mP(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Za(){return Za=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Za.apply(this,arguments)}function Im(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function el(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Im(Object(t),!0).forEach(function(r){yP(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Im(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function yP(n,e,t){return e=vP(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vP(n){var e=xP(n,"string");return typeof e=="symbol"?e:e+""}function xP(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function F0(n){return n&&n.map((e,t)=>dn.createElement(e.tag,el({key:t},e.attr),F0(e.child)))}function $0(n){return e=>dn.createElement(wP,Za({attr:el({},n.attr)},e),F0(n.child))}function wP(n){var e=t=>{var{attr:r,size:i,title:a}=n,l=gP(n,pP),u=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),dn.createElement("svg",Za({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:d,style:el(el({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&dn.createElement("title",null,a),n.children)};return Dm!==void 0?dn.createElement(Dm.Consumer,null,t=>e(t)):e(M0)}function _P(n){return $0({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(n)}function bP(n){return $0({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}const SP=({clients:n,handleEditClick:e,handleDeleteClient:t})=>{const[r,i]=P.useState({key:null,direction:"ascending"}),[a,l]=P.useState(!1),[u,d]=P.useState(null),f=P.useMemo(()=>{let x=[...n];return r.key!==null&&x.sort((w,S)=>w[r.key]<S[r.key]?r.direction==="ascending"?-1:1:w[r.key]>S[r.key]?r.direction==="ascending"?1:-1:0),x},[n,r]),p=x=>{let w="ascending";r.key===x&&r.direction==="ascending"&&(w="descending"),i({key:x,direction:w})},v=x=>r.key===x?r.direction==="ascending"?"":"":"";return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full bg-white border border-gray-200",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{className:"py-2 px-4 border-b text-left cursor-pointer",onClick:()=>p("client_name"),children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("span",{children:"Client Name"}),m.jsx("span",{className:"w-4 text-right ml-2 text-xs",children:v("client_name")})," "]})}),m.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Chatbot Name"}),m.jsx("th",{className:"py-2 px-4 border-b",children:"Client ID"}),m.jsx("th",{className:"py-2 px-4 border-b",children:"Actions"})]})}),m.jsx("tbody",{children:f.map(x=>m.jsxs("tr",{children:[m.jsx("td",{className:"py-2 px-4 border-b",children:x.client_name}),m.jsx("td",{className:"py-2 px-4 border-b",children:x.chatbot_name}),m.jsx("td",{className:"py-2 px-4 border-b text-center",children:x.client_id}),m.jsxs("td",{className:"py-2 px-4 border-b text-center",children:[m.jsx("button",{onClick:()=>e(x),className:"bg-blue-500 text-white px-3 py-1 rounded mr-2 hover:opacity-75",children:m.jsx(_P,{})}),m.jsx("button",{onClick:()=>{d(x.client_id),l(!0)},className:"bg-red-500 text-white px-3 py-1 rounded hover:opacity-75",children:m.jsx(bP,{})})]})]},x.client_id))})]})}),a&&m.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex justify-center items-center",children:m.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-xl",children:[m.jsx("h3",{className:"text-lg font-bold mb-4",children:"Confirm Deletion"}),m.jsx("p",{className:"mb-4",children:"Are you sure you want to delete this client? This action cannot be undone."}),m.jsxs("div",{className:"flex justify-end space-x-4",children:[m.jsx("button",{onClick:()=>l(!1),className:"bg-gray-300 text-gray-800 px-4 py-2 rounded-md hover:bg-gray-400",children:"Cancel"}),m.jsx("button",{onClick:()=>{t(u),l(!1),d(null)},className:"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600",children:"Confirm"})]})]})})]})},kP=({value:n,onChange:e})=>m.jsxs("div",{className:"md:col-span-3",children:[m.jsx("label",{htmlFor:"edit_document_extraction",className:"block text-sm font-medium text-gray-700",children:"Document Extraction (JSON)"}),m.jsx("textarea",{name:"document_extraction",id:"edit_document_extraction",value:n,onChange:e,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 font-mono",rows:"10"})]}),CP=({value:n,onChange:e})=>m.jsxs("div",{className:"md:col-span-3",children:[m.jsx("label",{htmlFor:"edit_chunking_rules",className:"block text-sm font-medium text-gray-700",children:"Chunking Rules (JSON)"}),m.jsx("textarea",{name:"chunking_rules",id:"edit_chunking_rules",value:n,onChange:e,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 font-mono",rows:"10"})]}),EP=({value:n,onChange:e})=>m.jsxs("div",{className:"md:col-span-3",children:[m.jsx("label",{htmlFor:"edit_tagging_rules",className:"block text-sm font-medium text-gray-700",children:"Tagging Rules (JSON)"}),m.jsx("textarea",{name:"tagging_rules",id:"edit_tagging_rules",value:n,onChange:e,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 font-mono",rows:"10"})]}),jP=({value:n,onChange:e})=>m.jsxs("div",{className:"md:col-span-3",children:[m.jsx("label",{htmlFor:"edit_url_pattern",className:"block text-sm font-medium text-gray-700",children:"URL Pattern"}),m.jsx("input",{type:"text",name:"url_pattern",id:"edit_url_pattern",value:n,onChange:e,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"})]}),PP=({value:n,onChange:e})=>{const[t,r]=P.useState(""),[i,a]=P.useState(""),[l,u]=P.useState(!1),[d,f]=P.useState("");P.useEffect(()=>{if(n)try{const k=typeof n=="string"?JSON.parse(n):n;r(k.systemInstruction||""),a(k.fallbackResponse||""),f(JSON.stringify(k,null,2))}catch(k){console.error("Error parsing prompts JSON:",k),f(n||"")}else r(""),a(""),f("")},[n]);const p=(k,b)=>{const O=JSON.stringify({systemInstruction:k,fallbackResponse:b},null,2);f(O),e({target:{name:"prompts",value:O}})},v=k=>{const b=k.target.value;r(b),p(b,i)},x=k=>{const b=k.target.value;a(b),p(t,b)},w=k=>{const b=k.target.value;f(b);try{const O=JSON.parse(b);r(O.systemInstruction||""),a(O.fallbackResponse||"")}catch{}e({target:{name:"prompts",value:b}})},S=()=>{const k=`You are a specialized real estate assistant representing [AGENCY_NAME]. Your role is to help potential clients with property inquiries using the most current and accurate information available.

## CONVERSATION DATA:
**User Preferences**: {onboardingAnswers}
**Chat History**: {chatHistory}
**Retrieved Context**: {context}
**Current Question**: {question}

## CORE BEHAVIORAL INSTRUCTIONS:

### 1. **INTELLIGENT CONTEXTUAL UNDERSTANDING**:
- Analyze conversation flow naturally without rigid patterns
- When users refer to "this property", "that apartment", understand from chat history
- Detect implicit intentions and requests for deeper information
- Always use specific data from the retrieved context (prices, areas, features)

### 2. **PROGRESSIVE INFORMATION DISCLOSURE**:
Never repeat exactly the same information. Escalate detail level:
- **1st Interaction**: Overview (price range, property type, key location benefits)
- **2nd Interaction**: Technical details (room breakdown, areas, finishes, amenities)
- **3rd Interaction**: Investment context (market trends, financing options, ROI potential)
- **4th+ Interactions**: Unique selling points, comparisons, viewing arrangements

### 3. **DYNAMIC DATA USAGE**:
Always reference specific information from {context}:
- **Exact Prices**: Use precise values from property data, not estimates
- **Specific Areas**: Mention actual square meters for rooms and total space
- **Detailed Features**: Describe actual amenities, finishes, and specifications
- **Location Details**: Use retrieved information about neighborhood and accessibility

### 4. **INFORMATION SOURCING RULES**:
- **Always prioritize {context}** over general knowledge
- **If specific data isn't in context**, clearly state what information is available
- **Never invent or estimate** prices, areas, or features
- **Reference multiple properties** when context contains comparative data

## FORMATTING GUIDELINES:
- **Bold** for critical information (prices, areas, property types)
- **Bullet points ()** for features, amenities, and specifications
- **Clear sections** for complex responses (Overview, Details, Next Steps)
- **Contextual call-to-action** in every response

## BRAND PERSONALITY:
- Professional yet approachable and conversational
- Demonstrate expertise through specific knowledge, not jargon
- Solution-focused with clear next steps
- Transparent about available information and limitations

Respond naturally and contextually, demonstrating thorough knowledge of the available property information while maintaining professional real estate expertise.`;r(k),p(k,i)};return m.jsxs("div",{className:"md:col-span-3",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Chatbot Configuration"}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx("button",{type:"button",onClick:S,className:"text-sm bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600",children:"Load Template"}),m.jsx("button",{type:"button",onClick:()=>u(!l),className:"text-sm bg-gray-500 text-white px-3 py-1 rounded hover:bg-gray-600",children:l?"Visual Editor":"JSON Editor"})]})]}),l?m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Prompts (JSON)",m.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(Advanced: Direct JSON editing)"})]}),m.jsx("textarea",{value:d,onChange:w,className:"w-full border border-gray-300 rounded-md shadow-sm p-3 font-mono text-sm",rows:"15",placeholder:"Enter prompts JSON..."})]}):m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["System Prompt",m.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(Main instructions that define your chatbot's personality and behavior)"})]}),m.jsx("textarea",{value:t,onChange:v,className:"w-full border border-gray-300 rounded-md shadow-sm p-3 font-mono text-sm",rows:"20",placeholder:"Enter your chatbot's system instructions here..."}),m.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["You can use template variables: ","{onboardingAnswers}",", ","{chatHistory}",", ","{context}",", ","{question}"]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fallback Response",m.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(Message shown when no relevant information is found)"})]}),m.jsx("textarea",{value:i,onChange:x,className:"w-full border border-gray-300 rounded-md shadow-sm p-3 font-mono text-sm",rows:"3",placeholder:"Enter fallback message..."})]})]})]})},TP=({value:n,onChange:e})=>m.jsxs("div",{className:"md:col-span-3",children:[m.jsx("label",{htmlFor:"edit_chat_history_tagging_rules",className:"block text-sm font-medium text-gray-700",children:"Chat History Tagging Rules (JSON)"}),m.jsx("textarea",{name:"chat_history_tagging_rules",id:"edit_chat_history_tagging_rules",value:n,onChange:e,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 font-mono",rows:"10"})]}),NP=({value:n,onChange:e})=>m.jsxs("div",{className:"md:col-span-3",children:[m.jsx("label",{htmlFor:"edit_lead_scoring_rules",className:"block text-sm font-medium text-gray-700",children:"Lead Scoring Rules (JSON)"}),m.jsx("textarea",{name:"lead_scoring_rules",id:"edit_lead_scoring_rules",value:n,onChange:e,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 font-mono",rows:"10"})]}),RP=({clientId:n,clientName:e})=>{const[t,r]=P.useState({}),a=window.location.hostname==="localhost"?"http://localhost:5173":window.location.origin,l=`<script 
  src="${a}/widget/loader.js"
  data-client-id="${n}"
  data-api-url="${a}">
<\/script>`,u=`<!-- Advanced Chatbot Widget Integration -->
<script 
  src="${a}/widget/loader.js"
  data-client-id="${n}"
  data-api-url="${a}"
  data-theme="light"
  data-position="bottom-right"
  data-primary-color="#3b82f6">
<\/script>

<!-- Optional: Custom styling -->
<style>
  #viriato-chatbot-container {
    /* Custom widget positioning */
    bottom: 20px !important;
    right: 20px !important;
    /* Custom z-index if needed */
    z-index: 999999 !important;
  }
</style>`,d=`<script src="${a}/widget/loader.js"><\/script>
<script>
  // Initialize widget with custom configuration
  window.initViriatoChatbot({
    clientId: '${n}',
    apiUrl: '${a}',
    theme: {
      primaryColor: '#3b82f6',
      secondaryColor: '#6b7280',
      backgroundColor: '#ffffff',
      textColor: '#1e293b',
      position: 'bottom-right',
      borderRadius: '16px'
    },
    widgetSettings: {
      enableSounds: false,
      showBranding: true,
      mobileFullScreen: true,
      maxHeight: '600px'
    }
  });
<\/script>`,f=async(v,x)=>{try{await navigator.clipboard.writeText(v),r({...t,[x]:!0}),setTimeout(()=>{r({...t,[x]:!1})},2e3)}catch(w){console.error("Failed to copy: ",w)}},p=({title:v,code:x,type:w,description:S})=>m.jsxs("div",{className:"mb-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-2",children:[m.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:v}),m.jsx("button",{onClick:()=>f(x,w),className:`px-3 py-1 text-sm rounded transition-colors ${t[w]?"bg-green-500 text-white":"bg-blue-500 text-white hover:bg-blue-600"}`,children:t[w]?" Copied!":"Copy Code"})]}),m.jsx("p",{className:"text-sm text-gray-600 mb-3",children:S}),m.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto text-sm",children:m.jsx("code",{children:x})})]});return m.jsxs("div",{className:"md:col-span-3",children:[m.jsx("div",{className:"mb-4",children:m.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Website Integration Scripts",m.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(Embed codes for ",e," website)"]})]})}),m.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[m.jsx("h3",{className:"text-blue-800 font-semibold mb-2",children:" Client Information"}),m.jsxs("div",{className:"text-sm text-blue-700",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Client ID:"})," ",m.jsx("code",{className:"bg-blue-100 px-2 py-1 rounded",children:n})]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Widget URL:"})," ",m.jsxs("code",{className:"bg-blue-100 px-2 py-1 rounded",children:[a,"/widget/loader.js"]})]}),m.jsxs("p",{children:[m.jsx("strong",{children:"API Endpoint:"})," ",m.jsxs("code",{className:"bg-blue-100 px-2 py-1 rounded",children:[a,"/api"]})]})]})]}),m.jsx(p,{title:" Basic Integration (Recommended)",type:"basic",description:"Simple script tag - just paste this before closing </body> tag on your website.",code:l}),m.jsx(p,{title:" Advanced Integration with Custom Styling",type:"advanced",description:"Includes theme customization and positioning options. Modify colors and position as needed.",code:u}),m.jsx(p,{title:" JavaScript Initialization (For Dynamic Loading)",type:"javascript",description:"For websites that need programmatic control over widget initialization and configuration.",code:d}),m.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mt-6",children:[m.jsx("h4",{className:"text-yellow-800 font-semibold mb-2",children:" Implementation Notes"}),m.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[m.jsxs("li",{children:[" Place the script tag at the bottom of your HTML page, just before the closing ",m.jsx("code",{children:"</body>"})," tag"]}),m.jsx("li",{children:" The widget will automatically load and position itself in the bottom-right corner"}),m.jsx("li",{children:" Make sure your domain is whitelisted in the client configuration"}),m.jsx("li",{children:" The widget is responsive and will adapt to mobile devices automatically"}),m.jsx("li",{children:" Test the integration on your staging environment before deploying to production"})]})]}),m.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mt-4",children:[m.jsx("h4",{className:"text-green-800 font-semibold mb-2",children:" Ready to Use"}),m.jsxs("p",{className:"text-sm text-green-700",children:["These scripts are production-ready and configured specifically for ",m.jsx("strong",{children:e}),". Simply copy and paste the preferred integration method into your website's HTML."]})]})]})},OP=({editingClient:n,editFormData:e,setEditFormData:t,setEditingClient:r,fetchClients:i,setError:a})=>{const l=Ar(),u=f=>{const{name:p,value:v}=f.target;t({...e,[p]:v})},d=async f=>{f.preventDefault();try{const p={...e},v=["document_extraction","chunking_rules","tagging_rules","prompts","chat_history_tagging_rules","lead_scoring_rules"];for(const x of v)if(p[x])try{p[x]=JSON.parse(p[x])}catch{a(new Error(`Invalid JSON for ${x.replace(/([A-Z])/g," $1").trim()}. Please correct it.`));return}else p[x]=null;await De.put(`${rr}/v1/clients/${n.client_id}`,p),r(null),i(),a(null)}catch(p){a(p)}};return m.jsxs("div",{className:"mt-8 p-4 border rounded shadow-sm bg-white",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("h3",{className:"text-xl font-semibold",children:["Edit Client: ",n.client_name]}),m.jsx("button",{type:"button",onClick:()=>l(`/admin/document-upload/${n.client_id}`),className:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600",children:"Upload Documents"})]}),m.jsxs("form",{onSubmit:d,className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"edit_client_name",className:"block text-sm font-medium text-gray-700",children:"Client Name"}),m.jsx("input",{type:"text",name:"client_name",id:"edit_client_name",value:e.client_name,onChange:u,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"edit_chatbot_name",className:"block text-sm font-medium text-gray-700",children:"Chatbot Name"}),m.jsx("input",{type:"text",name:"chatbot_name",id:"edit_chatbot_name",value:e.chatbot_name,onChange:u,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"edit_client_id",className:"block text-sm font-medium text-gray-700",children:"Client ID"}),m.jsx("input",{type:"text",name:"client_id",id:"edit_client_id",value:e.client_id,onChange:u,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",disabled:!0})]}),m.jsx(kP,{value:e.document_extraction,onChange:u}),m.jsx(CP,{value:e.chunking_rules,onChange:u}),m.jsx(EP,{value:e.tagging_rules,onChange:u}),m.jsx(jP,{value:e.url_pattern,onChange:u}),m.jsx(PP,{value:e.prompts,onChange:u}),m.jsx(TP,{value:e.chat_history_tagging_rules,onChange:u}),m.jsx(NP,{value:e.lead_scoring_rules,onChange:u}),m.jsx(RP,{clientId:e.client_id,clientName:e.client_name}),m.jsxs("div",{className:"md:col-span-3 flex justify-end items-center",children:[m.jsx("button",{type:"button",onClick:()=>r(null),className:"bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-600 mr-2",children:"Cancel"}),m.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600",children:"Update Client"})]})]})]})},AP=({onSearch:n})=>{const[e,t]=P.useState(""),r=()=>{n(e)},i=()=>{t(""),n("")};return m.jsxs("div",{className:"mb-8 p-4 border rounded shadow-sm bg-white",children:[m.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Search Clients"}),m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("label",{htmlFor:"client_search",className:"block text-sm font-medium text-gray-700",children:"Search by Client Name"}),m.jsx("input",{type:"text",name:"client_search",id:"client_search",value:e,onChange:a=>t(a.target.value),onKeyDown:a=>{a.key==="Enter"&&r()},className:"block w-full max-w-md border border-gray-300 rounded-md shadow-sm p-2 h-10"}),m.jsx("button",{type:"button",onClick:r,className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 h-10",children:"Search"}),m.jsx("button",{type:"button",onClick:i,className:"bg-gray-300 text-gray-800 px-4 py-2 rounded-md hover:bg-gray-400 h-10",children:"Reset"})]})]})},Mm=()=>{const[n,e]=P.useState([]),[t,r]=P.useState(!0),[i,a]=P.useState(null),[l,u]=P.useState(null),[d,f]=P.useState({client_id:"",client_name:"",chatbot_name:"",document_extraction:"",chunking_rules:"",tagging_rules:"",url_pattern:"",prompts:"",chat_history_tagging_rules:"",lead_scoring_rules:""}),p=async(w="")=>{try{const S=await De.get(`${rr}/v1/clients`);let k=S.data;w&&(k=S.data.filter(b=>b.client_name.toLowerCase().includes(w.toLowerCase()))),e(k),a(null)}catch(S){a(S)}finally{r(!1)}};P.useEffect(()=>{p()},[]);const v=w=>{l&&l.client_id===w.client_id?u(null):(u(w),f({client_id:w.client_id,client_name:w.client_name,chatbot_name:w.chatbot_name,document_extraction:w.document_extraction?JSON.stringify(w.document_extraction,null,2):"",chunking_rules:w.chunking_rules?JSON.stringify(w.chunking_rules,null,2):"",tagging_rules:w.tagging_rules?JSON.stringify(w.tagging_rules,null,2):"",url_pattern:w.url_pattern||"",prompts:w.prompts?JSON.stringify(w.prompts,null,2):"",chat_history_tagging_rules:w.chat_history_tagging_rules?JSON.stringify(w.chat_history_tagging_rules,null,2):"",lead_scoring_rules:w.lead_scoring_rules?JSON.stringify(w.lead_scoring_rules,null,2):""}))},x=async w=>{try{await De.delete(`${rr}/v1/clients/${w}`),p()}catch(S){a(S)}};return t?m.jsx("p",{children:"Loading clients..."}):m.jsxs("div",{className:"p-4",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Client Management"}),i&&m.jsxs("p",{className:"text-red-500 mb-4",children:["Error: ",i.message]}),m.jsx(fP,{fetchClients:p}),m.jsx(AP,{onSearch:p}),m.jsx(SP,{clients:n,handleEditClick:v,handleDeleteClient:x}),l&&m.jsx(OP,{editingClient:l,editFormData:d,setEditFormData:f,setEditingClient:u,fetchClients:p,setError:a})]})},LP=()=>m.jsxs("div",{className:"flex h-screen bg-gray-100",children:[m.jsxs("aside",{className:"w-64 bg-white shadow-md p-4",children:[m.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Admidszfn Dashboard"}),m.jsx("nav",{children:m.jsx("ul",{children:m.jsx("li",{className:"mb-2",children:m.jsx(ry,{to:"/admin/clients",className:({isActive:n})=>n?"text-blue-800 font-bold":"text-blue-600 hover:text-blue-800",children:"Clients"})})})})]}),m.jsx("main",{className:"flex-1 p-6",children:m.jsx(Qm,{})})]}),DP=()=>{const{clientId:n}=Km(),e=Ar(),[t,r]=P.useState(""),[i,a]=P.useState("Client Info"),[l,u]=P.useState([]),[d,f]=P.useState(""),[p,v]=P.useState([]),[x,w]=P.useState(""),[S,k]=P.useState(!1),[b,E]=P.useState(""),[O,T]=P.useState(""),[I,L]=P.useState(""),[$,W]=P.useState(""),[Y,ee]=P.useState(""),[se,he]=P.useState(""),[de,xe]=P.useState(""),[ke,pe]=P.useState(""),[fe,ae]=P.useState(""),[K,Q]=P.useState(!1),J=V=>{u(Array.from(V.target.files))},R=async()=>{if(l.length===0){f("Please select files to upload.");return}f("Uploading...");const V=new FormData;l.forEach(re=>{V.append("files",re)}),V.append("clientId",n),console.log("Preparing to upload:",{files:l.map(re=>re.name),clientId:n}),f("Files prepared for upload (API call simulated).")};P.useEffect(()=>{(i==="Development Info"||i==="Listing Info")&&(async()=>{try{const re=await fetch(`/v1/clients/${n}/developments`);if(re.ok){const Se=await re.json();v(Se)}else console.error("Failed to fetch developments:",re.statusText)}catch(re){console.error("Error fetching developments:",re)}})()},[n,i]),P.useEffect(()=>{n&&(async()=>{try{const re=await De.get(`http://localhost:3007/v1/clients/${n}`);re.data&&re.data.client_name&&r(re.data.client_name)}catch(re){console.error("Error fetching client name:",re),r("Unknown Client")}})()},[n]);const U=async()=>{if(!$||!Y||!se||!de||!ke||!fe){alert("Please fill all required fields for the listing.");return}try{const V=await fetch("/v1/listings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:$,num_bedrooms:parseInt(Y),total_area_sqm:parseFloat(se),price_eur:parseFloat(de),listing_status:ke,current_state:fe,client_id:n,development_id:x||null})});V.ok?(alert("Listing created/updated successfully!"),Q(!1),W(""),ee(""),he(""),xe(""),pe(""),ae(""),w("")):(alert("Failed to create/update listing."),console.error("Failed to create/update listing:",V.statusText))}catch(V){console.error("Error creating/updating listing:",V),alert("Error creating/updating listing.")}},le=async()=>{if(!b||!O||!I){alert("Please fill all fields for new development.");return}try{const V=await fetch("/v1/developments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:b,location:O,amenities:I,clientId:n})});if(V.ok){const re=await V.json();v(Se=>[...Se,re]),w(re.development_id),k(!1),E(""),T(""),L(""),alert("Development created successfully!")}else alert("Failed to create development."),console.error("Failed to create development:",V.statusText)}catch(V){console.error("Error creating development:",V),alert("Error creating development.")}},ce=()=>{switch(i){case"Client Info":return m.jsx("div",{children:m.jsx("p",{className:"text-gray-600",children:"No additional fields are required for Client Info documents. Files will be associated directly with the client ID."})});case"Development Info":return m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Development Information"}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"development-select",className:"block text-sm font-medium text-gray-700",children:"Select Existing Development:"}),m.jsxs("select",{id:"development-select",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md bg-gray-100",value:x,onChange:V=>w(V.target.value),children:[m.jsx("option",{value:"",children:"-- Select a Development --"}),p.map(V=>m.jsx("option",{value:V.development_id,children:V.name},V.development_id))]})]}),m.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600",onClick:()=>k(!0),children:"Create New Development"}),S&&m.jsxs("div",{className:"mt-4 p-4 border rounded-md bg-gray-50",children:[m.jsx("h4",{className:"text-md font-semibold mb-2",children:"New Development Details"}),m.jsxs("div",{className:"mb-2",children:[m.jsx("label",{htmlFor:"new-dev-name",className:"block text-sm font-medium text-gray-700",children:"Name:"}),m.jsx("input",{type:"text",id:"new-dev-name",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:b,onChange:V=>E(V.target.value)})]}),m.jsxs("div",{className:"mb-2",children:[m.jsx("label",{htmlFor:"new-dev-location",className:"block text-sm font-medium text-gray-700",children:"Location:"}),m.jsx("input",{type:"text",id:"new-dev-location",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:O,onChange:V=>T(V.target.value)})]}),m.jsxs("div",{className:"mb-2",children:[m.jsx("label",{htmlFor:"new-dev-amenities",className:"block text-sm font-medium text-gray-700",children:"Amenities:"}),m.jsx("textarea",{id:"new-dev-amenities",rows:"3",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:I,onChange:V=>L(V.target.value)})]}),m.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[m.jsx("button",{className:"bg-gray-300 text-gray-800 px-4 py-2 rounded-md hover:bg-gray-400",onClick:()=>k(!1),children:"Cancel"}),m.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700",onClick:le,children:"Create"})]})]})]});case"Listing Info":return m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Listing Information"}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"listing-development-select",className:"block text-sm font-medium text-gray-700",children:"Select Associated Development (Optional):"}),m.jsxs("select",{id:"listing-development-select",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md bg-gray-100",value:x,onChange:V=>w(V.target.value),children:[m.jsx("option",{value:"",children:"-- Select a Development --"}),p.map(V=>m.jsx("option",{value:V.development_id,children:V.name},V.development_id))]})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"listing-files",className:"block text-sm font-medium text-gray-700",children:"Upload Listing Documents:"}),m.jsx("input",{type:"file",id:"listing-files",multiple:!0,onChange:J,className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),l.length>0&&m.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Selected files: ",l.map(V=>V.name).join(", ")]})]}),m.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600",onClick:()=>Q(!0),children:"Add/Edit Individual Listing"}),K&&m.jsxs("div",{className:"mt-4 p-4 border rounded-md bg-gray-50",children:[m.jsx("h4",{className:"text-md font-semibold mb-2",children:"Listing Details"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"listing-name",className:"block text-sm font-medium text-gray-700",children:"Name:"}),m.jsx("input",{type:"text",id:"listing-name",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3",value:$,onChange:V=>W(V.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"num-bedrooms",className:"block text-sm font-medium text-gray-700",children:"Number of Bedrooms:"}),m.jsx("input",{type:"number",id:"num-bedrooms",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3",value:Y,onChange:V=>ee(V.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"total-area",className:"block text-sm font-medium text-gray-700",children:"Total Area (sqm):"}),m.jsx("input",{type:"number",id:"total-area",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3",value:se,onChange:V=>he(V.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"price-eur",className:"block text-sm font-medium text-gray-700",children:"Price (EUR):"}),m.jsx("input",{type:"number",id:"price-eur",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3",value:de,onChange:V=>xe(V.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"listing-status",className:"block text-sm font-medium text-gray-700",children:"Listing Status:"}),m.jsxs("select",{id:"listing-status",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 rounded-md",value:ke,onChange:V=>pe(V.target.value),children:[m.jsx("option",{value:"",children:"-- Select Status --"}),m.jsx("option",{value:"available",children:"Available"}),m.jsx("option",{value:"reserved",children:"Reserved"}),m.jsx("option",{value:"sold",children:"Sold"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"current-state",className:"block text-sm font-medium text-gray-700",children:"Current State:"}),m.jsxs("select",{id:"current-state",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 rounded-md",value:fe,onChange:V=>ae(V.target.value),children:[m.jsx("option",{value:"",children:"-- Select State --"}),m.jsx("option",{value:"project",children:"Project"}),m.jsx("option",{value:"building",children:"Building"}),m.jsx("option",{value:"finished",children:"Finished"})]})]})]}),m.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[m.jsx("button",{className:"bg-gray-300 text-gray-800 px-4 py-2 rounded-md hover:bg-gray-400",onClick:()=>Q(!1),children:"Cancel"}),m.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700",onClick:U,children:"Submit Listing"})]})]})]});default:return null}};return m.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-md",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("h1",{className:"text-2xl font-bold",children:["Document Upload for Client: ",t||n]}),m.jsx("button",{type:"button",onClick:()=>e(-1),className:"bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-600",children:"Return"})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Select Document Category"}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsxs("label",{className:"inline-flex items-center",children:[m.jsx("input",{type:"radio",className:"form-radio",name:"documentCategory",value:"Client Info",checked:i==="Client Info",onChange:()=>a("Client Info")}),m.jsx("span",{className:"ml-2",children:"Client Info"})]}),m.jsxs("label",{className:"inline-flex items-center",children:[m.jsx("input",{type:"radio",className:"form-radio",name:"documentCategory",value:"Development Info",checked:i==="Development Info",onChange:()=>a("Development Info")}),m.jsx("span",{className:"ml-2",children:"Development Info"})]}),m.jsxs("label",{className:"inline-flex items-center",children:[m.jsx("input",{type:"radio",className:"form-radio",name:"documentCategory",value:"Listing Info",checked:i==="Listing Info",onChange:()=>a("Listing Info")}),m.jsx("span",{className:"ml-2",children:"Listing Info"})]})]})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Upload Files"}),m.jsx("input",{type:"file",multiple:!0,onChange:J,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),l.length>0&&m.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Selected files: ",l.map(V=>V.name).join(", ")]})]}),ce(),m.jsx("button",{className:"mt-6 bg-green-600 text-white px-6 py-3 rounded-md text-lg font-semibold hover:bg-green-700",onClick:R,children:"Upload Documents"})]})};qx.createRoot(document.getElementById("root")).render(m.jsx(dn.StrictMode,{children:m.jsxs(CS,{children:[" ",m.jsx(a_,{children:m.jsxs(Gm,{children:[m.jsx(ft,{path:"/",element:m.jsx(x_,{})}),m.jsx(ft,{path:"/dashboard/*",element:m.jsx(IE,{})})," ",m.jsxs(ft,{path:"/admin/*",element:m.jsx(LP,{}),children:[" ",m.jsx(ft,{index:!0,element:m.jsx(Mm,{})})," ",m.jsx(ft,{path:"clients",element:m.jsx(Mm,{})}),m.jsx(ft,{path:"document-upload/:clientId",element:m.jsx(DP,{})})]})]})})]})}));
