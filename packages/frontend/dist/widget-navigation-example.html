<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot Context Awareness & Navigation Demo</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            color: #333;
            background-color: #f8fafc;
        }
        header {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
            padding: 2rem;
            text-align: center;
        }
        h1 {
            margin: 0;
            font-size: 2.5rem;
        }
        .subtitle {
            margin-top: 0.5rem;
            font-size: 1.25rem;
            opacity: 0.9;
        }
        nav {
            background-color: #1e40af;
            padding: 1rem 2rem;
        }
        nav ul {
            display: flex;
            list-style: none;
            margin: 0;
            padding: 0;
            gap: 2rem;
            justify-content: center;
        }
        nav a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: background-color 0.2s;
        }
        nav a:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        .section {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            margin-bottom: 2rem;
        }
        .feature-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }
        .feature-card {
            background-color: #f8fafc;
            border-radius: 8px;
            padding: 1.5rem;
            border-left: 4px solid #3b82f6;
        }
        .feature-card h3 {
            margin-top: 0;
            color: #1e40af;
        }
        .code-block {
            background-color: #1e293b;
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            margin: 1.5rem 0;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
            line-height: 1.5;
        }
        .navigation-log {
            background-color: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1rem;
            max-height: 200px;
            overflow-y: auto;
        }
        .log-entry {
            margin-bottom: 0.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #e2e8f0;
        }
        .log-time {
            font-size: 0.8rem;
            color: #64748b;
        }
        .note {
            background-color: #fef3c7;
            border-left: 4px solid #f59e0b;
            padding: 1rem 1.5rem;
            margin: 1.5rem 0;
            border-radius: 4px;
        }
        footer {
            background-color: #1e293b;
            color: white;
            text-align: center;
            padding: 2rem;
            margin-top: 2rem;
        }
    </style>
</head>
<body>
    <header>
        <h1>Chatbot Context Awareness Demo</h1>
        <p class="subtitle">Experience intelligent website navigation based on conversation context</p>
    </header>
    
    <nav>
        <ul>
            <li><a href="#features">Features</a></li>
            <li><a href="#properties">Properties</a></li>
            <li><a href="#about">About Us</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
    </nav>
    
    <main>
        <div class="section" id="features">
            <h2>üß≠ Intelligent Navigation</h2>
            <p>Our context-aware chatbot can understand user intent and seamlessly navigate users to relevant pages on your website. This feature enhances user experience and increases conversion rates by reducing friction in the user journey.</p>
            
            <div class="feature-cards">
                <div class="feature-card">
                    <h3>Context Understanding</h3>
                    <p>The chatbot analyzes conversation context to determine when navigation would be helpful to the user.</p>
                </div>
                <div class="feature-card">
                    <h3>Seamless Redirection</h3>
                    <p>When appropriate, the chatbot offers clickable navigation buttons that redirect users to relevant pages.</p>
                </div>
                <div class="feature-card">
                    <h3>Configurable Pages</h3>
                    <p>Website administrators can define which pages are navigable and provide context about each page.</p>
                </div>
            </div>
        </div>
        
        <div class="section" id="properties">
            <h2>üèòÔ∏è Sample Properties</h2>
            <p>This section represents a listing of properties that the chatbot might suggest to users based on their preferences.</p>
            <ul>
                <li><strong>Luxury Apartment T3</strong> - Aveiro City Center, 180m¬≤, ‚Ç¨450,000</li>
                <li><strong>Modern Studio</strong> - Santa Joana, 50m¬≤, ‚Ç¨120,000</li>
                <li><strong>Family Home T4</strong> - Verdemilho, 220m¬≤, ‚Ç¨550,000</li>
                <li><strong>Investment Opportunity T2</strong> - University Area, 90m¬≤, ‚Ç¨240,000</li>
            </ul>
            <p>Try asking the chatbot about these properties to see how it can navigate you to detailed information pages.</p>
        </div>
        
        <div class="section" id="about">
            <h2>üè¢ About Us</h2>
            <p>Up Investments is a leading real estate company specializing in premium properties in the Aveiro region. With over 15 years of experience, our team of professionals is dedicated to finding the perfect property for our clients.</p>
            <p>Ask the chatbot about our company history or services to see how it can navigate you to more detailed information.</p>
        </div>
        
        <div class="section" id="contact">
            <h2>üìû Contact</h2>
            <p>Interested in learning more about our properties or services? Our team is ready to assist you.</p>
            <p>Ask the chatbot to contact an agent or schedule a viewing to see the navigation capabilities in action.</p>
        </div>
        
        <div class="section">
            <h2>üìä Navigation Log</h2>
            <p>When you interact with the chatbot and click on navigation buttons, the events will be logged here:</p>
            <div class="navigation-log" id="navigationLog">
                <div class="log-entry">
                    <div class="log-time">Demo started. Ask the chatbot to navigate you to a different page.</div>
                </div>
            </div>
            
            <div class="note">
                <strong>Try these prompts:</strong>
                <ul>
                    <li>"Show me available properties in Aveiro"</li>
                    <li>"I want to contact an agent"</li>
                    <li>"Tell me more about your company"</li>
                    <li>"How can I schedule a property viewing?"</li>
                </ul>
            </div>
        </div>
        
        <div class="section">
            <h2>üîß Implementation Code</h2>
            <p>Here's how to implement the navigation feature on your website:</p>
            <div class="code-block">
// Add this event listener to your website
window.addEventListener('message', (event) => {
    if (event.data && event.data.type === 'CHATBOT_NAVIGATE') {
        // Log the navigation request
        logNavigationEvent(event.data.url);
        
        // For this demo, we'll just log instead of actually navigating
        console.log('Navigation requested to:', event.data.url);
        
        // In a real implementation, you would use:
        // window.location.href = event.data.url;
    }
});

function logNavigationEvent(url) {
    const logContainer = document.getElementById('navigationLog');
    const entry = document.createElement('div');
    entry.className = 'log-entry';
    
    const time = new Date().toLocaleTimeString();
    entry.innerHTML = `
        <div class="log-time">${time}</div>
        <div>Navigation requested to: <strong>${url}</strong></div>
    `;
    
    logContainer.prepend(entry);
}
            </div>
        </div>
    </main>
    
    <footer>
        <p>Up Investments Chatbot Navigation Demo ¬© 2024</p>
    </footer>
    
    <!-- Active Widget Integration -->
    <script 
      src="https://chatbot1-eta.vercel.app/widget/loader.js"
      data-client-id="e6f484a3-c3cb-4e01-b8ce-a276f4b7355c"
      data-api-url="https://chatbot1-eta.vercel.app">
    </script>
    
    <!-- Navigation Event Listener -->
    <script>
        window.addEventListener('message', (event) => {
            if (event.data && event.data.type === 'CHATBOT_NAVIGATE') {
                // Log the navigation request
                logNavigationEvent(event.data.url);
                
                // For this demo, we'll just log instead of actually navigating
                console.log('Navigation requested to:', event.data.url);
                
                // Display a confirmation dialog
                const shouldNavigate = confirm(`The chatbot wants to navigate you to: ${event.data.url}\n\nIn a real implementation, this would happen automatically. Would you like to navigate there now?`);
                
                if (shouldNavigate) {
                    // Navigate to the URL
                    window.location.href = event.data.url;
                }
            }
        });

        function logNavigationEvent(url) {
            const logContainer = document.getElementById('navigationLog');
            const entry = document.createElement('div');
            entry.className = 'log-entry';
            
            const time = new Date().toLocaleTimeString();
            entry.innerHTML = `
                <div class="log-time">${time}</div>
                <div>Navigation requested to: <strong>${url}</strong></div>
            `;
            
            logContainer.prepend(entry);
        }
    </script>
</body>
</html>